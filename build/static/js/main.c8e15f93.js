/*! For license information please see main.c8e15f93.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},5764:function(e,t,n){!function(e,t){"use strict";function n(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}function a(){}a.resetWarningCache=i;var o=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n},s=n((function(e){e.exports=o()}));function u(e){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){return d(e)||p(e,t)||v(e,t)||y()}function d(e){if(Array.isArray(e))return e}function p(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function v(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},w=function(e){return null!==e&&"object"===u(e)},b=function(e){return w(e)&&"function"===typeof e.then},k=function(e){return w(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},x="[object Object]",_=function e(t,n){if(!w(t)||!w(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===x;if(i!==(Object.prototype.toString.call(n)===x))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var s={},u=0;u<a.length;u+=1)s[a[u]]=!0;for(var c=0;c<o.length;c+=1)s[o[c]]=!0;var l=Object.keys(s);if(l.length!==a.length)return!1;var h=t,f=n,d=function(t){return e(h[t],f[t])};return l.every(d)},E=function(e,t,n){return w(e)?Object.keys(e).reduce((function(r,i){var a=!w(t)||!_(e[i],t[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),r):a?h(h({},r||{}),{},c({},i,e[i])):r}),null):null},C="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",T=function(e){if(null===e||k(e))return e;throw new Error(C)},S=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(T)};var t=T(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},N=t.createContext(null);N.displayName="ElementsContext";var I=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},A=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useRef(!1),o=t.useRef(!0),s=t.useMemo((function(){return S(n)}),[n]),u=f(t.useState((function(){return{stripe:null,elements:null}})),2),c=u[0],l=u[1],h=g(n);null!==h&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it."),a.current||("sync"===s.tag&&(a.current=!0,l({stripe:s.stripe,elements:s.stripe.elements(r)})),"async"===s.tag&&(a.current=!0,s.stripePromise.then((function(e){e&&o.current&&l({stripe:e,elements:e.elements(r)})}))));var d=g(r);return t.useEffect((function(){if(c.elements){var e=E(r,d,["clientSecret","fonts"]);e&&c.elements.update(e)}}),[r,d,c.elements]),t.useEffect((function(){return function(){o.current=!1}}),[]),t.useEffect((function(){var e=c.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.7.2"}),e.registerAppInfo({name:"react-stripe-js",version:"1.7.2",url:"https://stripe.com/docs/stripe-js/react"}))}),[c.stripe]),t.createElement(N.Provider,{value:c},i)};A.propTypes={stripe:s.any,options:s.object};var P=function(e){var n=t.useContext(N);return I(n,e)},R=function(){return P("calls useElements()").elements},O=function(){return P("calls useStripe()").stripe},j=function(e){return(0,e.children)(P("mounts <ElementsConsumer>"))};j.propTypes={children:s.func.isRequired};var D=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),function(){n.current&&n.current.apply(n,arguments)}},M=function(){},L=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},F=function(e,n){var r="".concat(L(e),"Element"),i=n?function(e){P("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i=n.id,a=n.className,o=n.options,s=void 0===o?{}:o,u=n.onBlur,c=void 0===u?M:u,l=n.onFocus,h=void 0===l?M:l,f=n.onReady,d=void 0===f?M:f,p=n.onChange,v=void 0===p?M:p,m=n.onEscape,y=void 0===m?M:m,w=n.onClick,b=void 0===w?M:w,k=P("mounts <".concat(r,">")).elements,x=t.useRef(null),_=t.useRef(null),C=D(d),T=D(c),S=D(h),N=D(b),I=D(v),A=D(y);t.useLayoutEffect((function(){if(null==x.current&&k&&null!=_.current){var t=k.create(e,s);x.current=t,t.mount(_.current),t.on("ready",(function(){return C(t)})),t.on("change",I),t.on("blur",T),t.on("focus",S),t.on("escape",A),t.on("click",N)}}));var R=g(s);return t.useEffect((function(){if(x.current){var e=E(s,R,["paymentRequest"]);e&&x.current.update(e)}}),[s,R]),t.useLayoutEffect((function(){return function(){x.current&&x.current.destroy()}}),[]),t.createElement("div",{id:i,className:a,ref:_})};return i.propTypes={id:s.string,className:s.string,onChange:s.func,onBlur:s.func,onFocus:s.func,onReady:s.func,onClick:s.func,options:s.object},i.displayName=r,i.__elementType=e,i},U="undefined"===typeof window,B=F("auBankAccount",U),V=F("card",U),z=F("cardNumber",U),q=F("cardExpiry",U),K=F("cardCvc",U),H=F("fpxBank",U),W=F("iban",U),G=F("idealBank",U),Y=F("p24Bank",U),Q=F("epsBank",U),$=F("payment",U),X=F("paymentRequestButton",U),J=F("linkAuthentication",U),Z=F("shippingAddress",U),ee=F("affirmMessage",U),te=F("afterpayClearpayMessage",U);e.AffirmMessageElement=ee,e.AfterpayClearpayMessageElement=te,e.AuBankAccountElement=B,e.CardCvcElement=K,e.CardElement=V,e.CardExpiryElement=q,e.CardNumberElement=z,e.Elements=A,e.ElementsConsumer=j,e.EpsBankElement=Q,e.FpxBankElement=H,e.IbanElement=W,e.IdealBankElement=G,e.LinkAuthenticationElement=J,e.P24BankElement=Y,e.PaymentElement=$,e.PaymentRequestButtonElement=X,e.ShippingAddressElement=Z,e.useElements=R,e.useStripe=O,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2791))},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),h=n(221),f=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",b=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(w+":"+b)}var k=s(e.baseURL,e.url);function x(){if(g){var r="getAllResponseHeaders"in g?u(g.getAllResponseHeaders()):null,a={data:m&&"text"!==m&&"json"!==m?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),g=null}}if(g.open(e.method.toUpperCase(),o(k,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,"onloadend"in g?g.onloadend=x:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(x)},g.onabort=function(){g&&(n(l("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){n(l("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(k))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;_&&(v[e.xsrfHeaderName]=_)}"setRequestHeader"in g&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:g.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),m&&"json"!==m&&(g.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){g&&(n(!e||e&&e.type?new f("canceled"):e),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),g.send(p)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(221));s.Axios=a,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new a,response:new a}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=o(h)}catch(p){return Promise.reject(p)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(221),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(6460),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},7600:function(e){e.exports={version:"0.24.0"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var s=e[a],u=void 0===s||o(s,a,e);if(!0!==u)throw new TypeError("option "+a+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=f(n,y);try{c(t,y,g)}catch(w){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return k(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||k(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return k(e)===f},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===m},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===o},t.isSuspense=function(e){return k(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===g||e.$$typeof===w||e.$$typeof===b||e.$$typeof===y)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(u[s[h]]=o[s[h]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,w);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,C=60108,T=60114,S=60109,N=60110,I=60112,A=60113,P=60120,R=60115,O=60116,j=60121,D=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),E=U("react.fragment"),C=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),N=U("react.context"),I=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),j=U("react.block"),U("react.scope"),D=U("react.opaque.id"),M=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var B,V="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function q(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case T:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case j:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var we={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||we.hasOwnProperty(e)&&we[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(we).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),we[t]=we[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ne=null,Ie=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Pe(e){Ne?Ie?Ie.push(e):Ie=[e]:Ne=e}function Re(){if(Ne){var e=Ne,t=Ie;if(Ie=Ne=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Oe(e,t){return e(t)}function je(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Me=Oe,Le=!1,Fe=!1;function Ue(){null===Ne&&null===Ie||(De(),Re())}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Ve=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Ge=null,Ye={onError:function(e){Ke=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){Ke=!1,He=null,qe.apply(Ye,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function wt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(wt),ht.forEach(wt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return kt(t,e)}if(0<ot.length){kt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&kt(st,e),null!==ut&&kt(ut,e),null!==ct&&kt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Ct={},Tt={};function St(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Ct[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Nt=St("animationend"),It=St("animationiteration"),At=St("animationstart"),Pt=St("transitionend"),Rt=new Map,Ot=new Map,jt=["abort","abort",Nt,"animationEnd",It,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Lt(u),i=Mt):0!==(s&=a)&&(r=Lt(s),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Bt(10,t):e;case 10:return 0===(e=Vt(192&~t))?Bt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Le||De();var i=Jt,a=Le;Le=!0;try{je(i,e,t,n,r)}finally{(Le=a)||Ue()}}function Xt(e,t,n,r){Yt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,mt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),wn=un(i({},pn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(kn),_n=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Nn(){return Sn}var In=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(In),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),On=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(jn),Mn=[9,13,27,32],Ln=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,Bn=h&&(!Ln||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),zn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,r){Pe(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Xn(e){Ir(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),$n=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Yn(t,$n,e,Te(e)),e=Xn,Le)e(t);else{Le=!0;try{Oe(e,t)}finally{Le=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=h&&"documentMode"in document&&11>=document.documentMode,wr=null,br=null,kr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==wr||wr!==J(r)||("selectionStart"in(r=wr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},kr&&fr(kr,r)||(kr=r,0<(r=Lr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=wr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(jt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Ot.set(Er[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=He;Ke=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Nr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Nr(i,s,c),a=u}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(jr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),jr(a,e,i,t),o.add(s))}function jr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=wn;break;case"focusout":c="blur",u=wn;break;case"beforeblur":case"afterblur":u=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Nt:case It:case At:u=bn;break;case Pt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Be(p,f))&&l.push(Mr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==h&&Ur(o,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(wr=y,br=r,kr=null);break;case"focusout":kr=br=wr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?qn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(y=Lr(r,w)).length&&(w=new _n(w,e,null,n,i),o.push({event:w,listeners:y}),g?w.data=g:null!==(g=Kn(n))&&(w.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&qn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ir(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Be(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Be(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Be(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Br(){}var Vr=null,zr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Jr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function wi(e,t,n){if(di.current!==fi)throw Error(o(168));hi(di,t),hi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var _i=null,Ei=null,Ci=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ni=a.unstable_shouldYield,Ii=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,ji=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Ii?Ii:function(){},Ui=null,Bi=null,Vi=!1,zi=Ai(),qi=1e4>zi?Ai:function(){return Ai()-zi};function Ki(){switch(Pi()){case Ri:return 99;case Oi:return 98;case ji:return 97;case Di:return 96;case Mi:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return ji;case 96:return Di;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Hi(e),Ci(e,t)}function Gi(e,t,n){return e=Hi(e),Ti(e,t,n)}function Yi(){if(null!==Bi){var e=Bi;Bi=null,Si(e)}Qi()}function Qi(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,Yi),n}finally{Vi=!1}}}var $i=k.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,h=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=h,Vs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function wa(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xu(t,e.mode,n)).return=e,t}if(xa(t)||z(t))return(t=Yu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||z(n))return null!==i?null:h(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var w=d(i,v,g.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=a(w,s,m),null===h?l=w:h.sibling=w,h=w,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=f(i,g.value,c))&&(s=a(g,s,m),null===h?l=g:h.sibling=g,h=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===h?l=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Yu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ca(!0),Sa=Ca(!1),Na={},Ia=ci(Na),Aa=ci(Na),Pa=ci(Na);function Ra(e){if(e===Na)throw Error(o(174));return e}function Oa(e,t){switch(hi(Pa,t),hi(Aa,e),hi(Ia,Na),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ia),hi(Ia,t)}function ja(){li(Ia),li(Aa),li(Pa)}function Da(e){Ra(Pa.current);var t=Ra(Ia.current),n=pe(t,e.type);t!==n&&(hi(Aa,e),hi(Ia,n))}function Ma(e){Aa.current===e&&(li(Ia),li(Aa))}var La=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Ba=null,Va=!1;function za(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Va){var t=Ba;if(t){var n=t;if(!qa(e,t)){if(!(t=Yr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Ua=e);za(Ua,n)}Ua=e,Ba=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Ua=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Wa(e){if(e!==Ua)return!1;if(!Va)return Ha(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Ba;t;)za(e,t),t=Yr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ba=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ba=null}}else Ba=Ua?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){Ba=Ua=null,Va=!1}var Ya=[];function Qa(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var $a=k.ReactCurrentDispatcher,Xa=k.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:jo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Do,e=n(r,i)}while(ro)}if($a.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=r):u=u.next=h,Za.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],h=c[0];c=to;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Kt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:h}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,h=fo(i,t,n),c.memoizedState=c.baseState=h),h}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function wo(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function ko(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return ko(516,4,e,t)}function Eo(e,t){return ko(4,2,e,t)}function Co(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Co.bind(null,t,e),n)}function So(){}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Po(e,t,n){var r=fu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},jo={readContext:oa,useCallback:No,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Io,useReducer:lo,useRef:wo,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[wo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:No,useContext:oa,useEffect:_o,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Io,useReducer:ho,useRef:wo,useState:function(){return ho(co)},useDebugValue:So,useDeferredValue:function(e){var t=ho(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=ho(co)[0];return[wo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Mo=k.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Bo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Hu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return Ko(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Fo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(yi(n)){var a=!0;ki(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wa(t,n,r),ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var f=t.memoizedState;o.state=f,da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ba(t,o,r,u),sa=!1,f=t.memoizedState,o.state=f,da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Oa(e,t.containerInfo)}var Yo,Qo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(La,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Qu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qu(t,i,0,null),n=Yu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Yu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return ja(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Ia.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Yo(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?xe(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ge(e,h):"number"===typeof h&&ge(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Ar("scroll",e):null!=h&&b(e,s,h,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Br)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Pa.current),Ra(Ia.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Os||0===(134217727&Vs)&&0===(134217727&zs)||gu(Os,Ds))),(r||n)&&(t.flags|=4),null);case 4:return ja(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=La.current,hi(La,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(ja(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(La),null;case 4:return ja(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Ia.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Br)}for(h in Ee(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Bu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=ke("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ws(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(a){Bu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Bu(t,a)}break;case 5:vs(t);break;case 4:Cs(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ks(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ks(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ks(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Br));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ws(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ws(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hs=qi(),gs(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ns(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,As=k.ReactCurrentDispatcher,Ps=k.ReactCurrentOwner,Rs=0,Os=null,js=null,Ds=0,Ms=0,Ls=ci(0),Fs=0,Us=null,Bs=0,Vs=0,zs=0,qs=0,Ks=null,Hs=0,Ws=1/0;function Gs(){Ws=qi()+500}var Ys,Qs=null,$s=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Rs)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=Bs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Rs)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;qt(e,t,n),e===Os&&(zs|=t,4===Fs&&gu(e,Ds));var r=Ki();1===t?0!==(8&Rs)&&0===(48&Rs)?wu(e):(mu(e,n),0===Rs&&(Gs(),Yi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var h=Mt;a[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Os?Ds:0),t=Mt,0===r)null!==n&&(n!==Li&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Si(n)}15===t?(n=wu.bind(null,e),null===Ui?(Ui=[n],Bi=Ti(Ri,Qi)):Ui.push(n),n=Li):14===t?n=Gi(99,wu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ft(e,e===Os?Ds:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Tu();for(Os===e&&Ds===r||(Gs(),Eu(e,r));;)try{Iu();break}catch(u){Cu(e,u)}if(na(),As.current=a,Rs=i,null!==js?r=0:(Os=null,Ds=0,r=Fs),0!==(Bs&zs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Eu(e,0),gu(e,n),mu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Hs+500-qi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Hr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,qi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function wu(e){if(0!==(48&Rs))throw Error(o(327));if(Du(),e===Os&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Su(e,t);0!==(Bs&zs)&&(n=Su(e,t=Ft(e,t)))}else n=Su(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Eu(e,0),gu(e,t),mu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,qi()),null}function bu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}}function ku(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}}function xu(e,t){hi(Ls,Ms),Ms|=t,Bs|=t}function _u(){Ms=Ls.current,li(Ls)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==js)for(n=js.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:ja(),li(pi),li(di),Qa();break;case 5:Ma(r);break;case 4:ja();break;case 13:case 19:li(La);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,js=Wu(e.current,null),Ds=Ms=Bs=t,Fs=0,Us=null,qs=zs=Vs=0}function Cu(e,t){for(;;){var n=js;try{if(na(),$a.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,js=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&La.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var y=new Set;y.add(c),f.updateQueue=y}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,ha(s,g)}s.lanes|=1;break e}u=void 0,s=t;var w=a.pingCache;if(null===w?(w=a.pingCache=new hs,u=new Set,w.set(c,u)):void 0===(u=w.get(c))&&(u=new Set,w.set(c,u)),!u.has(s)){u.add(s);var b=Vu.bind(null,a,c,s);c.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var k=f.type,x=f.stateNode;if(0===(64&f.flags)&&("function"===typeof k.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}Pu(n)}catch(_){t=_,js===n&&null!==n&&(js=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=Ro,null===e?Ro:e}function Su(e,t){var n=Rs;Rs|=16;var r=Tu();for(Os===e&&Ds===t||Eu(e,t);;)try{Nu();break}catch(i){Cu(e,i)}if(na(),Rs=n,As.current=r,null!==js)throw Error(o(261));return Os=null,Ds=0,Fs}function Nu(){for(;null!==js;)Au(js)}function Iu(){for(;null!==js&&!Ni();)Au(js)}function Au(e){var t=Ys(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):js=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(js=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(js=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(js=t);js=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=Ki();return Wi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Du()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(js=Os=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ps.current=null,Vr=Qt,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(f=h+a),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(f=h),y===c&&++v===l&&(d=h),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,hu=!1,Qs=r;do{try{ju()}catch(T){if(null===Qs)throw Error(o(330));Bu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);lu=null,Qs=r;do{try{for(s=e;null!==Qs;){var w=Qs.flags;if(16&w&&ge(Qs.stateNode,""),128&w){var b=Qs.alternate;if(null!==b){var k=b.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&w){case 2:xs(Qs),Qs.flags&=-3;break;case 6:xs(Qs),Qs.flags&=-3,Ts(Qs.alternate,Qs);break;case 1024:Qs.flags&=-1025;break;case 1028:Qs.flags&=-1025,Ts(Qs.alternate,Qs);break;case 4:Ts(Qs.alternate,Qs);break;case 8:Cs(s,u=Qs);var x=u.alternate;bs(u),null!==x&&bs(x)}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Bu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);if(k=zr,b=mr(),w=k.focusedElem,s=k.selectionRange,b!==w&&w&&w.ownerDocument&&vr(w.ownerDocument.documentElement,w)){null!==s&&yr(w)&&(b=s.start,void 0===(k=s.end)&&(k=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(k,w.value.length)):(k=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(k=k.getSelection(),u=w.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!k.extend&&x>s&&(u=s,s=x,x=u),u=pr(w,x),a=pr(w,s),u&&a&&(1!==k.rangeCount||k.anchorNode!==u.node||k.anchorOffset!==u.offset||k.focusNode!==a.node||k.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),k.removeAllRanges(),x>s?(k.addRange(b),k.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),k.addRange(b))))),b=[];for(k=w;k=k.parentNode;)1===k.nodeType&&b.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof w.focus&&w.focus(),w=0;w<b.length;w++)(k=b[w]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Qt=!!Vr,zr=Vr=null,e.current=n,Qs=r;do{try{for(w=e;null!==Qs;){var _=Qs.flags;if(36&_&&ys(w,Qs.alternate,Qs),128&_){b=void 0;var E=Qs.ref;if(null!==E){var C=Qs.stateNode;Qs.tag,b=C,"function"===typeof E?E(b):E.current=b}}Qs=Qs.nextEffect}}catch(T){if(null===Qs)throw Error(o(330));Bu(Qs,T),Qs=Qs.nextEffect}}while(null!==Qs);Qs=null,Fi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Qs=r;null!==Qs;)t=Qs.nextEffect,Qs.nextEffect=null,8&Qs.flags&&((_=Qs).sibling=null,_.stateNode=null),Qs=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,qi()),$s)throw $s=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||Yi(),null}function ju(){for(;null!==Qs;){var e=Qs.alternate;hu||null===lu||(0!==(8&Qs.flags)?et(Qs,lu)&&(hu=!0):13===Qs.tag&&Ns(e,Qs)&&et(Qs,lu)&&(hu=!0));var t=Qs.flags;0!==(256&t)&&ms(e,Qs),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Du(),null}))),Qs=Qs.nextEffect}}function Du(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Bu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Bu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Yi(),!0}function Uu(e,t,n){ha(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(qt(e,1,t),mu(e,t))}function Bu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(ha(n,i),i=fu(),null!==(n=vu(n,1)))qt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ds&n)===n&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>qi()-Hs?Eu(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=Bs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(qt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Hu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Hu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Yu(n.children,i,a,t);case M:s=8,i|=16;break;case C:s=8,i|=1;break;case T:return(e=Ku(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Ku(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Ku(19,n,t,i)).elementType=P,e.lanes=a,e;case L:return Qu(n,i,a,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case N:s=9;break e;case I:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case j:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Yu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function Qu(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=L,e.lanes=n,e}function $u(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=fu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ku((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:yi(t.type)&&ki(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(hi(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);hi(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;ki(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,ka(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Hu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Bo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ba=Yr(t.stateNode.containerInfo.firstChild),Ua=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(hi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,ha(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Bo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,ki(t)):e=!1,aa(t,n),wa(t,r,i),ka(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,je=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Yi())}},De=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,qi())}))}Yi()}(),Du())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,ai,Pe,Re,Du,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{_i=hc.inject(lc),Ei=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Rs=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ku((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!a(u.value[1],o.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!o.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(e[u]!==o[u])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(o,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!a(e[c[u]],o[c[u]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===f||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},7441:function(e,t,n){"use strict";e.exports=n(1372)},8459:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,u=60110,c=60112,l=60113,h=60120,f=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;n=w("react.element"),r=w("react.portal"),i=w("react.fragment"),a=w("react.strict_mode"),o=w("react.profiler"),s=w("react.provider"),u=w("react.context"),c=w("react.forward_ref"),l=w("react.suspense"),h=w("react.suspense_list"),f=w("react.memo"),d=w("react.lazy"),p=w("react.block"),v=w("react.server.block"),m=w("react.fundamental"),y=w("react.debug_trace_mode"),g=w("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case f:case s:return e;default:return t}}case r:return t}}}},6900:function(e,t,n){"use strict";n(8459)},9475:function(e,t,n){"use strict";var r,i=n(2791),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var u,c=[];function l(){u=e(c.map((function(e){return e.props}))),h.canUseDOM?t(u):n&&(u=n(u))}var h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return u},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=u;return u=void 0,c=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){c.push(this),l()},o.componentDidUpdate=function(){l()},o.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),l()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(h,"canUseDOM",s),h}}},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=g.prototype=new y;w.constructor=g,r(w,m.prototype),w.isPureReactComponent=!0;var b={current:null},k=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)k.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},3315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(2900))&&r.__esModule?r:{default:r}},2900:function(e,t){"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"===typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(i){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},5752:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(3315))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new N(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var w={};u(w,a,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(I([])));k&&k!==n&&r.call(k,a)&&(w=k);var x=g.prototype=m.prototype=Object.create(w);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,k=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();w=e+g;try{m(!0,e)?k.postMessage(null):(v=!1,m=null)}catch(n){throw k.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,k.postMessage(null))},r=function(e,n){y=f((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],N=1,I=null,A=3,P=!1,R=!1,O=!1;function j(e){for(var t=_(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,x(T,t)}t=_(S)}}function D(e){if(O=!1,j(e),!R)if(null!==_(T))R=!0,n(M);else{var t=_(S);null!==t&&r(D,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),P=!0;var a=A;try{for(j(n),I=_(T);null!==I&&(!(I.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=I.callback;if("function"===typeof o){I.callback=null,A=I.priorityLevel;var s=o(I.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?I.callback=s:I===_(T)&&E(T),j(n)}else E(T);I=_(T)}if(null!==I)var u=!0;else{var c=_(S);null!==c&&r(D,c.startTime-n),u=!1}return u}finally{I=null,A=a,P=!1}}var L=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return _(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:N++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(S,e),null===_(T)&&e===_(S)&&(O?i():O=!0,r(D,o-s))):(e.sortIndex=u,x(T,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],h=t[c];if(!1===(i=n?n.call(r,l,h,c):void 0)||void 0===i&&l!==h)return!1}return!0}},6949:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.e41185b301f9242d1bb2.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".e2936ef7.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="hairposey:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkhairposey=self.webpackChunkhairposey||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ve},SDK_VERSION:function(){return Yt},_DEFAULT_ENTRY_NAME:function(){return Dt},_addComponent:function(){return Ut},_addOrOverwriteComponent:function(){return Bt},_apps:function(){return Lt},_clearComponents:function(){return Kt},_components:function(){return Ft},_getProvider:function(){return zt},_registerComponent:function(){return Vt},_removeServiceInstance:function(){return qt},deleteApp:function(){return Jt},getApp:function(){return $t},getApps:function(){return Xt},initializeApp:function(){return Qt},onLog:function(){return tn},registerVersion:function(){return en},setLogLevel:function(){return nn}});var t,r=n(2791),i=n(4164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var f="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,r.createContext)(null);var b=(0,r.createContext)(null);var k=(0,r.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=P(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=N(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=R([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),E(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:S(o,e.index),routesMeta:s})})),t}var C=/^:\w+$/,T=function(e){return"*"===e};function S(e,t){var n=e.split("/"),r=n.length;return n.some(T)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!T(e)})).reduce((function(e,t){return e+(C.test(t)?3:""===t?1:10)}),r)}function N(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=I({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:R([i,l.pathname]),pathnameBase:O(R([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=R([i,l.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Dn){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function A(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:j(a),hash:D(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var R=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},j=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},D=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){L()||x(!1);var t=(0,r.useContext)(w),n=t.basename,i=t.navigator,a=B(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),h=null!=l&&l.endsWith("/");c="/"===s?n+(h?"/":""):R([n,s])}return i.createHref({pathname:c,search:u,hash:o})}function L(){return null!=(0,r.useContext)(b)}function F(){return L()||x(!1),(0,r.useContext)(b).location}function U(){L()||x(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(k).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=A(e,JSON.parse(o),a);"/"!==t&&(i.pathname=R([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return u}function B(e){var t=(0,r.useContext)(k).matches,n=F().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return A(e,JSON.parse(i),n)}),[e,i,n])}function V(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(k.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function z(e){x(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,h=e.static,f=void 0!==h&&h;L()&&x(!1);var d=O(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:f}}),[d,l,f]);"string"===typeof s&&(s=g(s));var v=s,m=v.pathname,y=void 0===m?"/":m,k=v.search,_=void 0===k?"":k,E=v.hash,C=void 0===E?"":E,T=v.state,S=void 0===T?null:T,N=v.key,I=void 0===N?"default":N,A=(0,r.useMemo)((function(){var e=P(y,d);return null==e?null:{pathname:e,search:_,hash:C,state:S,key:I}}),[d,y,_,C,S,I]);return null==A?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:A,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){L()||x(!1);var n,i=(0,r.useContext)(k).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,F());if(t){var c,l="string"===typeof t?g(t):t;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||x(!1),n=l}else n=u;var h=n.pathname||"/",f=_(e,{pathname:"/"===s?h:h.slice(s.length)||"/"});return V(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:R([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:R([s,e.pathnameBase])})})),i)}(H(t),n)}function H(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==z&&x(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function Q(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,h({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)k.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(k.length){if(null!=r){var s=c-r;s&&(o={action:e,location:i,retry:function(){S(-1*s)}},S(s))}}else T(e)}}));var s=t.Pop,u=a(),c=u[0],w=u[1],b=v(),k=v();function x(e){return"string"===typeof e?e:y(e)}function _(e,t){return void 0===t&&(t=null),h(l({pathname:w.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:m()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function C(e,t,n){return!k.length||(k.call({action:e,location:t,retry:n}),!1)}function T(e){s=e;var t=a();c=t[0],w=t[1],b.call({action:s,location:w})}function S(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var N={get action(){return s},get location(){return w},createHref:x,push:function e(n,a){var o=t.Push,s=_(n,a);if(C(o,s,(function(){e(n,a)}))){var u=E(s,c+1),l=u[0],h=u[1];try{i.pushState(l,"",h)}catch(Dn){r.location.assign(h)}T(o)}},replace:function e(n,r){var a=t.Replace,o=_(n,r);if(C(a,o,(function(){e(n,r)}))){var s=E(o,c),u=s[0],l=s[1];i.replaceState(u,"",l),T(a)}},go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(e){return b.push(e)},block:function(e){var t=k.push(e);return 1===k.length&&r.addEventListener(f,p),function(){t(),k.length||r.removeEventListener(f,p)}}};return N}({window:a}));var s=o.current,u=c((0,r.useState)({action:s.action,location:s.location}),2),w=u[0],b=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(b)}),[s]),(0,r.createElement)(q,{basename:n,children:i,location:w.location,navigationType:w.action,navigator:s})}var $=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=G(e,Y),h=M(c),f=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=U(),u=F(),c=B(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||y(u)===y(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,r.createElement)("a",W({},l,{href:h,onClick:function(e){n&&n(e),e.defaultPrevented||i||f(e)},ref:t,target:u}))}));function X(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Dn){return void n(Dn)}s.done?t(u):Promise.resolve(u).then(r,i)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){X(a,r,i,o,s,"next",e)}function s(e){X(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Z=n(7757),ee=n.n(Z),te=n(4569),ne=n.n(te);function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t){return ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ie(e,t)}function ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){if(t&&("object"===ue(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}function le(e){var t=se();return function(){var n,r=oe(e);if(t){var i=oe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function he(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function fe(e){return function(e){if(Array.isArray(e))return o(e)}(e)||he(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t,n){return ge=se()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ie(i,n.prototype),i},ge.apply(null,arguments)}function we(e){var t="function"===typeof Map?new Map:void 0;return we=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ge(e,arguments,oe(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ie(n,e)},we(e)}var be=!1,ke=!1,xe="${JSCORE_VERSION}",_e=function(e,t){if(!e)throw Ee(t)},Ee=function(e){return new Error("Firebase Database ("+xe+") INTERNAL ASSERT FAILED: "+e)},Ce=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ce(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Se=function(e){var t=Ce(e);return Te.encodeByteArray(t,!0)},Ne=function(e){return Se(e).replace(/\./g,"")},Ie=function(e){try{return Te.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ae(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ae(e[n],t[n]));return e}var Pe=function(){function e(){var t=this;pe(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return me(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Re(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ne(JSON.stringify({alg:"none",type:"JWT"})),Ne(JSON.stringify(a)),""].join(".")}function Oe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function De(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Me(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Le(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fe(){var e=Oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ue(){return!0===be||!0===ke}function Be(){return"object"===typeof indexedDB}var Ve=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(re(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(re(a),ze.prototype.create),a}return me(n)}(we(Error)),ze=function(){function e(t,n,r){pe(this,e),this.service=t,this.serviceName=n,this.errors=r}return me(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?qe(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ve(n,a,t);return o}}]),e}();function qe(e,t){return e.replace(Ke,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ke=/\{\$([^}]+)}/g;function He(e){return JSON.parse(e)}function We(e){return JSON.stringify(e)}var Ge=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=He(Ie(a[0])||""),n=He(Ie(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},Ye=function(e){var t=Ge(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null};function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Xe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Je(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ze(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(et(s)&&et(u)){if(!Ze(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function et(e){return null!==e&&"object"===typeof e}function tt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function nt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function rt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var it=function(){function e(){pe(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return me(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function at(e,t){var n=new ot(e,t);return n.subscribe.bind(n)}var ot=function(){function e(t,n){var r=this;pe(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return me(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=de(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=st),void 0===r.error&&(r.error=st),void 0===r.complete&&(r.complete=st);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function st(){}function ut(e,t){return"".concat(e," failed: ").concat(t," argument ")}var ct=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},lt=144e5;function ht(e){return e&&e._delegate?e._delegate:e}function ft(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var dt=function(){function e(t){pe(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return me(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new pt(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new vt(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),pt=function(){function e(t){var n=this;pe(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return me(e,[{key:"objectStore",value:function(e){return new vt(this._transaction.objectStore(e))}}]),e}(),vt=function(){function e(t){pe(this,e),this._store=t}return me(e,[{key:"index",value:function(e){return new mt(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new mt(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return ft(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return ft(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return ft(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return ft(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),mt=function(){function e(t){pe(this,e),this._index=t}return me(e,[{key:"get",value:function(e){return ft(this._index.get(e),"Error reading from IndexedDB")}}]),e}();var yt=function(){function e(t,n,r){pe(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return me(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),gt="[DEFAULT]",wt=function(){function e(t,n){pe(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return me(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Pe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:gt})}catch(u){}var t,n=de(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(fe(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),fe(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=de(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ME){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===gt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ME){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt;return this.component?this.component.multipleInstances?e:gt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var bt,kt,xt=function(){function e(t){pe(this,e),this.name=t,this.providers=new Map}return me(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_t=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));var Et,Ct,Tt={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},St=kt.INFO,Nt=(ye(bt={},kt.DEBUG,"log"),ye(bt,kt.VERBOSE,"log"),ye(bt,kt.INFO,"info"),ye(bt,kt.WARN,"warn"),ye(bt,kt.ERROR,"error"),bt),It=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Nt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},At=function(){function e(t){pe(this,e),this.name=t,this._logLevel=St,this._logHandler=It,this._userLogHandler=null,_t.push(this)}return me(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Tt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.DEBUG].concat(t)),this._logHandler.apply(this,[this,kt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.INFO].concat(t)),this._logHandler.apply(this,[this,kt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.WARN].concat(t)),this._logHandler.apply(this,[this,kt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.ERROR].concat(t)),this._logHandler.apply(this,[this,kt.ERROR].concat(t))}}]),e}();var Pt=function(){function e(t){pe(this,e),this.container=t}return me(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Rt="@firebase/app",Ot="0.7.21",jt=new At("@firebase/app"),Dt="[DEFAULT]",Mt=(ye(Et={},Rt,"fire-core"),ye(Et,"@firebase/app-compat","fire-core-compat"),ye(Et,"@firebase/analytics","fire-analytics"),ye(Et,"@firebase/analytics-compat","fire-analytics-compat"),ye(Et,"@firebase/app-check","fire-app-check"),ye(Et,"@firebase/app-check-compat","fire-app-check-compat"),ye(Et,"@firebase/auth","fire-auth"),ye(Et,"@firebase/auth-compat","fire-auth-compat"),ye(Et,"@firebase/database","fire-rtdb"),ye(Et,"@firebase/database-compat","fire-rtdb-compat"),ye(Et,"@firebase/functions","fire-fn"),ye(Et,"@firebase/functions-compat","fire-fn-compat"),ye(Et,"@firebase/installations","fire-iid"),ye(Et,"@firebase/installations-compat","fire-iid-compat"),ye(Et,"@firebase/messaging","fire-fcm"),ye(Et,"@firebase/messaging-compat","fire-fcm-compat"),ye(Et,"@firebase/performance","fire-perf"),ye(Et,"@firebase/performance-compat","fire-perf-compat"),ye(Et,"@firebase/remote-config","fire-rc"),ye(Et,"@firebase/remote-config-compat","fire-rc-compat"),ye(Et,"@firebase/storage","fire-gcs"),ye(Et,"@firebase/storage-compat","fire-gcs-compat"),ye(Et,"@firebase/firestore","fire-fst"),ye(Et,"@firebase/firestore-compat","fire-fst-compat"),ye(Et,"fire-js","fire-js"),ye(Et,"firebase","fire-js-all"),Et),Lt=new Map,Ft=new Map;function Ut(e,t){try{e.container.addComponent(t)}catch(n){jt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Bt(e,t){e.container.addOrOverwriteComponent(t)}function Vt(e){var t=e.name;if(Ft.has(t))return jt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ft.set(t,e);var n,r=de(Lt.values());try{for(r.s();!(n=r.n()).done;){Ut(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt;zt(e,t).clearInstance(n)}function Kt(){Ft.clear()}var Ht=(ye(Ct={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye(Ct,"bad-app-name","Illegal App name: '{$appName}"),ye(Ct,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ye(Ct,"app-deleted","Firebase App named '{$appName}' already deleted"),ye(Ct,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ye(Ct,"invalid-log-argument","First argument to `onLog` must be null or a function."),ye(Ct,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ye(Ct,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ye(Ct,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ye(Ct,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ct),Wt=new ze("app","Firebase",Ht),Gt=function(){function e(t,n,r){var i=this;pe(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",(function(){return i}),"PUBLIC"))}return me(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wt.create("app-deleted",{appName:this._name})}}]),e}(),Yt="9.6.11";function Qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Dt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wt.create("bad-app-name",{appName:String(i)});var a=Lt.get(i);if(a){if(Ze(e,a.options)&&Ze(r,a.config))return a;throw Wt.create("duplicate-app",{appName:i})}var o,s=new xt(i),u=de(Ft.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new Gt(e,r,s);return Lt.set(i,l),l}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=Lt.get(e);if(!t)throw Wt.create("no-app",{appName:e});return t}function Xt(){return Array.from(Lt.values())}function Jt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lt.has(n)){e.next=6;break}return Lt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e,t,n){var r,i=null!==(r=Mt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jt.warn(s.join(" "))}Vt(new yt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function tn(e,t){if(null!==e&&"function"!==typeof e)throw Wt.create("invalid-log-argument");!function(e,t){var n,r=de(_t);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Tt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:kt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function nn(e){var t;t=e,_t.forEach((function(e){e.setLogLevel(t)}))}var rn="firebase-heartbeat-store",an=null;function on(){var e,t,n;return an||(an=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(rn)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new dt(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new dt(a.result),e.oldVersion,e.newVersion,new pt(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Wt.create("storage-open",{originalErrorMessage:e.message})}))),an}function sn(e){return un.apply(this,arguments)}function un(){return un=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,on();case 3:return n=e.sent,e.abrupt("return",n.transaction(rn).objectStore(rn).get(hn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Wt.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),un.apply(this,arguments)}function cn(e,t){return ln.apply(this,arguments)}function ln(){return ln=J(Z.mark((function e(t,n){var r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,on();case 3:return r=e.sent,i=r.transaction(rn,"readwrite"),a=i.objectStore(rn),e.next=8,a.put(n,hn(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Wt.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ln.apply(this,arguments)}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}var fn=function(){function e(t){var n=this;pe(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new mn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return me(e,[{key:"triggerHeartbeat",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=dn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=J(Z.mark((function e(){var t,n,r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=dn(),n=pn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Ne(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function dn(){return(new Date).toISOString().substring(0,10)}function pn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=de(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),yn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),yn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var vn,mn=function(){function e(t){pe(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return me(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=J(Z.mark((function e(){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Be()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Dn){t(Dn)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,sn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",cn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",cn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(fe(r.heartbeats),fe(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function yn(e){return Ne(JSON.stringify({version:2,heartbeats:e})).length}vn="",Vt(new yt("platform-logger",(function(e){return new Pt(e)}),"PRIVATE")),Vt(new yt("heartbeat",(function(e){return new fn(e)}),"PRIVATE")),en(Rt,Ot,vn),en(Rt,Ot,"esm2017"),en("fire-js","");var gn="@firebase/database",wn="0.12.8",bn="";var kn=function(){function e(t){pe(this,e),this.domStorage_=t,this.prefix_="firebase:"}return me(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),We(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:He(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),xn=function(){function e(){pe(this,e),this.cache_={},this.isInMemoryStorage=!0}return me(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Qe(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),_n=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kn(t)}}catch(n){}return new xn},En=_n("localStorage"),Cn=_n("sessionStorage"),Tn=new At("@firebase/database"),Sn=function(){var e=1;return function(){return e++}}(),Nn=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,_e(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new it;n.update(t);var r=n.digest();return Te.encodeByteArray(r)},In=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?We(r):r,t+=" "}return t},An=null,Pn=!0,Rn=function(e,t){_e(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Tn.logLevel=kt.VERBOSE,An=Tn.log.bind(Tn),t&&Cn.set("logging_enabled",!0)):"function"===typeof e?An=e:(An=null,Cn.remove("logging_enabled"))},On=function(){if(!0===Pn&&(Pn=!1,null===An&&!0===Cn.get("logging_enabled")&&Rn(!0)),An){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=In.apply(null,t);An(r)}},jn=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];On.apply(void 0,[e].concat(n))}},Dn=function(){var e="FIREBASE INTERNAL ERROR: "+In.apply(void 0,arguments);Tn.error(e)},Mn=function(){var e="FIREBASE FATAL ERROR: ".concat(In.apply(void 0,arguments));throw Tn.error(e),new Error(e)},Ln=function(){var e="FIREBASE WARNING: "+In.apply(void 0,arguments);Tn.warn(e)},Fn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Un="[MIN_NAME]",Bn="[MAX_NAME]",Vn=function(e,t){if(e===t)return 0;if(e===Un||t===Bn)return-1;if(t===Un||e===Bn)return 1;var n=Xn(e),r=Xn(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},zn=function(e,t){return e===t?0:e<t?-1:1},qn=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+We(t))},Kn=function e(t){if("object"!==typeof t||null===t)return We(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=We(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Hn=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Wn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Gn=function(e){_e(!Fn(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var Yn=new RegExp("^-?(0*)\\d{1,10}$"),Qn=-2147483648,$n=2147483647,Xn=function(e){if(Yn.test(e)){var t=Number(e);if(t>=Qn&&t<=$n)return t}return null},Jn=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Ln("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Zn=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},er=function(){function e(t,n){var r=this;pe(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return me(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Ln('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),tr=function(){function e(t,n,r){var i=this;pe(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return me(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(On("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(e)}}]),e}(),nr=function(){function e(t){pe(this,e),this.accessToken=t}return me(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();nr.OWNER="owner";var rr="5",ir=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ar="websocket",or="long_polling",sr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];pe(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=En.get("host:"+t)||this._host}return me(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&En.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ur(e,t,n){var r;if(_e("string"===typeof t,"typeof type must == string"),_e("object"===typeof n,"typeof params must == object"),t===ar)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==or)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Wn(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var cr=function(){function e(){pe(this,e),this.counters_={}}return me(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Qe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Ae(void 0,this.counters_)}}]),e}(),lr={},hr={};function fr(e){var t=e.toString();return lr[t]||(lr[t]=new cr),lr[t]}var dr=function(){function e(t){pe(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return me(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Jn((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),pr="start",vr="close",mr=function(){function e(t,n,r,i,a,o,s){var u=this;pe(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jn(t),this.stats_=fr(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),ur(n,or,e)}}return me(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new dr(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ue()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new yr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===pr)n.id=a,n.password=o;else{if(i!==vr)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=rr,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ir.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=We(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Se(t),r=Hn(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ue()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=We(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ue()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),yr=function(){function e(t,n,r,i){if(pe(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ue())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Sn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){On("frame writing exception"),s.stack&&On(s.stack),On(s)}}}return me(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ue()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){On("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||On("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),gr=null;"undefined"!==typeof MozWebSocket?gr=MozWebSocket:"undefined"!==typeof WebSocket&&(gr=WebSocket);var wr=function(){function e(t,n,r,i,a,o,s){pe(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jn(this.connId),this.stats_=fr(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return me(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,En.set("previous_websocket_failure",!0);try{if(Ue()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(rr,"/").concat(bn,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new gr(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new gr(this.connURL,[],s)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){En.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=He(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(_e(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=We(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Hn(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=rr,!Ue()&&"undefined"!==typeof location&&location.hostname&&ir.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ur(e,ar,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==gr&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return En.isInMemoryStorage||!0===En.get("previous_websocket_failure")}}]),e}();wr.responsesRequiredToBeHealthy=2,wr.healthyTimeout=3e4;var br=function(){function e(t){pe(this,e),this.initTransports_(t)}return me(e,[{key:"initTransports_",value:function(t){var n=wr&&wr.isAvailable(),r=n&&!wr.previouslyFailed();if(t.webSocketOnly&&(n||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[wr];else{var i,a=this.transports_=[],o=de(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[mr,wr]}}]),e}(),kr=function(){function e(t,n,r,i,a,o,s,u,c,l){pe(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jn("c:"+this.id+":"),this.transportManager_=new br(n),this.log_("Connection created"),this.start_()}return me(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Zn((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=qn("t",e),n=qn("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=qn("t",e),n=qn("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=qn("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Dn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dn("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),rr!==n&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Zn((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zn((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(En.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),xr=function(){function e(){pe(this,e)}return me(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),_r=function(){function e(t){pe(this,e),this.allowedEvents_=t,this.listeners_={},_e(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return me(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=fe(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){_e(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Er=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||je()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return me(n,[{key:"getInitialEvent",value:function(e){return _e("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(_r),Cr=function(){function e(t,n){if(pe(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return me(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Tr(){return new Cr("")}function Sr(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Nr(e){return e.pieces_.length-e.pieceNum_}function Ir(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Cr(e.pieces_,t)}function Ar(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Rr(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Cr(t,0)}function Or(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Cr)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Cr(n,0)}function jr(e){return e.pieceNum_>=e.pieces_.length}function Dr(e,t){var n=Sr(e),r=Sr(t);if(null===n)return t;if(n===r)return Dr(Ir(e),Ir(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Mr(e,t){if(Nr(e)!==Nr(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Lr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Nr(e)>Nr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Fr=me((function e(t,n){pe(this,e),this.errorPrefix_=n,this.parts_=Pr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ct(this.parts_[r]);Ur(this)}));function Ur(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Br(e))}function Br(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Vr=function(e){ae(n,e);var t=le(n);function n(){var e,r,i;return pe(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return me(n,[{key:"getInitialEvent",value:function(e){return _e("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(_r),zr=1e3,qr=function(e){ae(n,e);var t=le(n);function n(e,r,i,a,o,s,u,c){var l;if(pe(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=jn("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=zr,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Ue())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Vr.getInstance().on("visible",l.onVisible_,re(l)),-1===e.host.indexOf("fblocal")&&Er.getInstance().on("online",l.onOnline_,re(l)),l}return me(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(We(i)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Pe,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Ge(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Ge(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),_e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+We(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Dn("Unrecognized action received from server: "+We(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=zr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=J(ee().mark((function e(){var t,r,i,a,o,s,u,l,h,f,d,p,v,m,y=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){_e(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?On("getToken() completed but was canceled"):(On("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new kr(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Ln(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Ln(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){On("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){On("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xe(this.interruptReasons_)&&(this.reconnectDelay_=zr,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Kn(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Cr(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){On("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){On("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=de(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=de(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ue()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+bn.replace(/\./g,"-")]=1,je()?e["framework.cordova"]=1:Le()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Er.getInstance().currentlyOnline();return Xe(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Qe(e,"w")){var n=$e(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Ln("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(xr);qr.nextPersistentConnectionId_=0,qr.nextConnectionId_=0;var Kr,Hr=function(){function e(t,n){pe(this,e),this.name=t,this.node=n}return me(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Wr=function(){function e(){pe(this,e)}return me(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Hr(Un,e),r=new Hr(Un,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Hr.MIN}}]),e}(),Gr=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"compare",value:function(e,t){return Vn(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Ee("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Hr.MIN}},{key:"maxPost",value:function(){return new Hr(Bn,Kr)}},{key:"makePost",value:function(e,t){return _e("string"===typeof e,"KeyIndex indexValue must always be a string."),new Hr(e,Kr)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Kr},set:function(e){Kr=e}}]),n}(Wr),Yr=new Gr,Qr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;pe(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return me(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),$r=function(){function e(t,n,r,i,a){pe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Zr.EMPTY_NODE,this.right=null!=a?a:Zr.EMPTY_NODE}return me(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Zr.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Zr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();$r.RED=!0,$r.BLACK=!1;var Xr,Jr=function(){function e(){pe(this,e)}return me(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new $r(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Zr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;pe(this,e),this.comparator_=t,this.root_=n}return me(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,$r.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,$r.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Qr(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Qr(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Qr(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Qr(this.root_,null,this.comparator_,!0,e)}}]),e}();function ei(e,t){return Vn(e.name,t.name)}function ti(e,t){return Vn(e,t)}Zr.EMPTY_NODE=new Jr;var ni,ri,ii,ai=function(e){return"number"===typeof e?"number:"+Gn(e):"string:"+e},oi=function(e){if(e.isLeafNode()){var t=e.val();_e("string"===typeof t||"number"===typeof t||"object"===typeof t&&Qe(t,".sv"),"Priority must be a string or number.")}else _e(e===Xr||e.isEmpty(),"priority of unexpected type.");_e(e===Xr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},si=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;pe(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,_e(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),oi(this.priorityNode_)}return me(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return jr(t)?this:".priority"===Sr(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Sr(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(_e(".priority"!==r||1===Nr(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ir(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ai(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Gn(this.value_):this.value_,this.lazyHash_=Nn(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(_e(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return _e(i>=0,"Unknown leaf type: "+n),_e(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return ni},set:function(e){ni=e}}]),e}();si.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ui,ci,li=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Vn(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Hr.MIN}},{key:"maxPost",value:function(){return new Hr(Bn,new si("[PRIORITY-POST]",ii))}},{key:"makePost",value:function(e,t){var n=ri(e);return new Hr(t,new si("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Wr),hi=new li,fi=Math.log(2),di=function(){function e(t){pe(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/fi,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return me(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),pi=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new $r(o,a.node,$r.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new $r(o,a.node,$r.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new $r(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,$r.BLACK):(s(h,$r.BLACK),s(h,$r.RED))}return a}(new di(e.length));return new Zr(r||t,a)},vi={},mi=function(){function e(t,n){pe(this,e),this.indexes_=t,this.indexSet_=n}return me(e,[{key:"get",value:function(e){var t=$e(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Zr?t:null}},{key:"hasIndex",value:function(e){return Qe(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){_e(t!==Yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Hr.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?pi(i,t.getCompare()):vi;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Je(this.indexes_,(function(e,i){var a=$e(r.indexSet_,i);if(_e(a,"Missing index implementation for "+i),e===vi){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Hr.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),pi(o,a.getCompare())}return vi}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Hr(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Je(this.indexes_,(function(e){if(e===vi)return e;var r=n.get(t.name);return r?e.remove(new Hr(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return _e(vi&&hi,"ChildrenNode.ts has not been loaded"),ui=ui||new e({".priority":vi},{".priority":hi})}}]),e}(),yi=function(){function e(t,n,r){pe(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&oi(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return me(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ci}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ci:t}},{key:"getChild",value:function(e){var t=Sr(e);return null===t?this:this.getImmediateChild(t).getChild(Ir(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(_e(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Hr(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ci:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Sr(e);if(null===n)return t;_e(".priority"!==Sr(e)||1===Nr(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ir(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(hi,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ai(this.getPriority().val())+":"),this.forEachChild(hi,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Nn(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Hr(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Hr(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Hr(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Hr.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Hr.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gi?-1:0}},{key:"withIndex",value:function(t){if(t===Yr||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Yr||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(hi),r=t.getIterator(hi),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Yr?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ci||(ci=new e(new Zr(ti),null,mi.Default))}}]),e}();yi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var gi=new(function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.call(this,new Zr(ti),yi.EMPTY_NODE,mi.Default)}return me(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return yi.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(yi));Object.defineProperties(Hr,{MIN:{value:new Hr(Un,yi.EMPTY_NODE)},MAX:{value:new Hr(Bn,gi)}}),Gr.__EMPTY_NODE=yi.EMPTY_NODE,si.__childrenNodeConstructor=yi,Xr=gi,function(e){ii=e}(gi);function wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return yi.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),_e(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new si(n,wi(t))}if(e instanceof Array){var r=yi.EMPTY_NODE;return Wn(e,(function(t,n){if(Qe(e,t)&&"."!==t.substring(0,1)){var i=wi(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(wi(t))}var i=[],a=!1,o=e;if(Wn(o,(function(e,t){if("."!==e.substring(0,1)){var n=wi(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Hr(e,n)))}})),0===i.length)return yi.EMPTY_NODE;var s=pi(i,ei,(function(e){return e.name}),ti);if(a){var u=pi(i,hi.getCompare());return new yi(s,wi(t),new mi({".priority":u},{".priority":hi}))}return new yi(s,wi(t),mi.Default)}!function(e){ri=e}(wi);var bi=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).indexPath_=e,_e(!jr(e)&&".priority"!==Sr(e),"Can't create PathIndex with empty path or .priority key"),r}return me(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Vn(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=wi(e),r=yi.EMPTY_NODE.updateChild(this.indexPath_,n);return new Hr(t,r)}},{key:"maxPost",value:function(){var e=yi.EMPTY_NODE.updateChild(this.indexPath_,gi);return new Hr(Bn,e)}},{key:"toString",value:function(){return Pr(this.indexPath_,0).join("/")}}]),n}(Wr),ki=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Vn(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Hr.MIN}},{key:"maxPost",value:function(){return Hr.MAX}},{key:"makePost",value:function(e,t){var n=wi(e);return new Hr(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Wr),xi=new ki,_i="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Ei(e){return{type:"value",snapshotNode:e}}function Ci(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ti(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Si(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Ni=function(){function e(t){pe(this,e),this.index_=t}return me(e,[{key:"updateChild",value:function(e,t,n,r,i,a){_e(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Ti(t,o)):_e(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ci(t,n)):a.trackChildChange(Si(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(hi,(function(e,r){t.hasChild(e)||n.trackChildChange(Ti(e,r))})),t.isLeafNode()||t.forEachChild(hi,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Si(t,r,i))}else n.trackChildChange(Ci(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?yi.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Ii=function(){function e(t){pe(this,e),this.indexedFilter_=new Ni(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return me(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Hr(t,n))||(n=yi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=yi.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(yi.EMPTY_NODE);var i=this;return t.forEachChild(hi,(function(e,t){i.matches(new Hr(e,t))||(r=r.updateImmediateChild(e,yi.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Ai=function(){function e(t){pe(this,e),this.rangedFilter_=new Ii(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return me(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Hr(t,n))||(n=yi.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=yi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=yi.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(yi.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var f=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&f<this.limit_&&c(p,u)<=0?f++:r=r.updateImmediateChild(p.name,yi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;_e(s.numChildren()===this.limit_,"");var u=new Hr(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Si(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Ti(t,h));var p=s.updateImmediateChild(t,yi.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Ci(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Ti(c.name,c.node)),i.trackChildChange(Ci(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,yi.EMPTY_NODE)):e}}]),e}(),Pi=function(){function e(){pe(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hi}return me(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Un}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bn}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===hi}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Ri(e){var t,n={};return e.isDefault()||(e.index_===hi?t="$priority":e.index_===xi?t="$value":e.index_===Yr?t="$key":(_e(e.index_ instanceof bi,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=We(t),e.startSet_&&(n.startAt=We(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+We(e.indexStartName_))),e.endSet_&&(n.endAt=We(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+We(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Oi(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==hi&&(t.i=e.index_.toString()),t}var ji=function(e){ae(n,e);var t=le(n);function n(e,r,i,a){var o;return pe(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=jn("p:rest:"),o.listens_={},o}return me(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Ri(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),$e(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Ri(e._queryParams),r=e._path.toString(),i=new Pe;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+tt(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=He(l.responseText)}catch(n){Ln("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&Ln("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(_e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(xr),Di=function(){function e(){pe(this,e),this.rootNode_=yi.EMPTY_NODE}return me(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Mi(){return{value:null,children:new Map}}function Li(e,t,n){if(jr(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Sr(t);e.children.has(r)||e.children.set(r,Mi()),Li(e.children.get(r),t=Ir(t),n)}}function Fi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Fi(r,new Cr(t.toString()+"/"+e),n)}))}var Ui,Bi=function(){function e(t){pe(this,e),this.collection_=t,this.last_=null}return me(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Wn(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Vi=function(){function e(t,n){pe(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Bi(t);var r=1e4+2e4*Math.random();Zn(this.reportStats_.bind(this),Math.floor(r))}return me(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Wn(t,(function(t,i){i>0&&Qe(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Zn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function zi(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ui||(Ui={}));var qi,Ki=function(){function e(t,n,r){pe(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ui.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return me(e,[{key:"operationForChild",value:function(t){if(jr(this.path)){if(null!=this.affectedTree.value)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Cr(t));return new e(Tr(),n,this.revert)}return _e(Sr(this.path)===t,"operationForChild called for unrelated child."),new e(Ir(this.path),this.affectedTree,this.revert)}}]),e}(),Hi=function(){function e(t,n){pe(this,e),this.source=t,this.path=n,this.type=Ui.LISTEN_COMPLETE}return me(e,[{key:"operationForChild",value:function(t){return jr(this.path)?new e(this.source,Tr()):new e(this.source,Ir(this.path))}}]),e}(),Wi=function(){function e(t,n,r){pe(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ui.OVERWRITE}return me(e,[{key:"operationForChild",value:function(t){return jr(this.path)?new e(this.source,Tr(),this.snap.getImmediateChild(t)):new e(this.source,Ir(this.path),this.snap)}}]),e}(),Gi=function(){function e(t,n,r){pe(this,e),this.source=t,this.path=n,this.children=r,this.type=Ui.MERGE}return me(e,[{key:"operationForChild",value:function(t){if(jr(this.path)){var n=this.children.subtree(new Cr(t));return n.isEmpty()?null:n.value?new Wi(this.source,Tr(),n.value):new e(this.source,Tr(),n)}return _e(Sr(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ir(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Yi=function(){function e(t,n,r){pe(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return me(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(jr(e))return this.isFullyInitialized()&&!this.filtered_;var t=Sr(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Qi=me((function e(t){pe(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function $i(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Ee("Should only compare child_ events.");var r=new Hr(t.childName,t.snapshotNode),i=new Hr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Xi(e,t){return{eventCache:e,serverCache:t}}function Ji(e,t,n,r){return Xi(new Yi(t,n,r),e.serverCache)}function Zi(e,t,n,r){return Xi(e.eventCache,new Yi(t,n,r))}function ea(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ta(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var na=function(){return qi||(qi=new Zr(zn)),qi},ra=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:na();pe(this,e),this.value=t,this.children=n}return me(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Tr(),value:this.value};if(jr(e))return null;var n=Sr(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ir(e),t);return null!=i?{path:Or(new Cr(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(jr(t))return this;var n=Sr(t),r=this.children.get(n);return null!==r?r.subtree(Ir(t)):new e(null)}},{key:"set",value:function(t,n){if(jr(t))return new e(n,this.children);var r=Sr(t),i=(this.children.get(r)||new e(null)).set(Ir(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(jr(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Sr(t),r=this.children.get(n);if(r){var i,a=r.remove(Ir(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(jr(e))return this.value;var t=Sr(e),n=this.children.get(t);return n?n.get(Ir(e)):null}},{key:"setTree",value:function(t,n){if(jr(t))return n;var r,i=Sr(t),a=(this.children.get(i)||new e(null)).setTree(Ir(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Tr(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Or(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Tr(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(jr(e))return null;var i=Sr(e),a=this.children.get(i);return a?a.findOnPath_(Ir(e),Or(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Tr(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(jr(t))return this;this.value&&r(n,this.value);var i=Sr(t),a=this.children.get(i);return a?a.foreachOnPath_(Ir(t),Or(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Tr(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Or(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Wn(t,(function(e,t){n=n.set(new Cr(e),t)})),n}}]),e}(),ia=function(){function e(t){pe(this,e),this.writeTree_=t}return me(e,null,[{key:"empty",value:function(){return new e(new ra(null))}}]),e}();function aa(e,t,n){if(jr(t))return new ia(new ra(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Dr(i,t);return a=a.updateChild(o,n),new ia(e.writeTree_.set(i,a))}var s=new ra(n),u=e.writeTree_.setTree(t,s);return new ia(u)}function oa(e,t,n){var r=e;return Wn(n,(function(e,n){r=aa(r,Or(t,e),n)})),r}function sa(e,t){if(jr(t))return ia.empty();var n=e.writeTree_.setTree(t,new ra(null));return new ia(n)}function ua(e,t){return null!=ca(e,t)}function ca(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Dr(n.path,t)):null}function la(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(hi,(function(e,n){t.push(new Hr(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Hr(e,n.value))})),t}function ha(e,t){if(jr(t))return e;var n=ca(e,t);return new ia(null!=n?new ra(n):e.writeTree_.subtree(t))}function fa(e){return e.writeTree_.isEmpty()}function da(e,t){return pa(Tr(),e.writeTree_,t)}function pa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(_e(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=pa(Or(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Or(e,".priority"),r)),n}function va(e,t){return Ia(t,e)}function ma(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ya(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));_e(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&ga(s,r.path)?i=!1:Lr(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=ba(e.allWrites,wa,Tr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sa(e.visibleWrites,r.path):Wn(r.children,(function(t){e.visibleWrites=sa(e.visibleWrites,Or(r.path,t))}));return!0}return!1}function ga(e,t){if(e.snap)return Lr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Lr(Or(e.path,n),t))return!0;return!1}function wa(e){return e.visible}function ba(e,t,n){for(var r=ia.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Lr(n,o)?r=aa(r,s=Dr(n,o),a.snap):Lr(o,n)&&(s=Dr(o,n),r=aa(r,Tr(),a.snap.getChild(s)));else{if(!a.children)throw Ee("WriteRecord should have .snap or .children");if(Lr(n,o))r=oa(r,s=Dr(n,o),a.children);else if(Lr(o,n))if(jr(s=Dr(o,n)))r=oa(r,Tr(),a.children);else{var u=$e(a.children,Sr(s));if(u){var c=u.getChild(Ir(s));r=aa(r,Tr(),c)}}}}}return r}function ka(e,t,n,r,i){if(r||i){var a=ha(e.visibleWrites,t);if(!i&&fa(a))return n;if(i||null!=n||ua(a,Tr())){var o=ba(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Lr(e.path,t)||Lr(t,e.path))}),t);return da(o,n||yi.EMPTY_NODE)}return null}var s=ca(e.visibleWrites,t);if(null!=s)return s;var u=ha(e.visibleWrites,t);return fa(u)?n:null!=n||ua(u,Tr())?da(u,n||yi.EMPTY_NODE):null}function xa(e,t,n,r){return ka(e.writeTree,e.treePath,t,n,r)}function _a(e,t){return function(e,t,n){var r=yi.EMPTY_NODE,i=ca(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(hi,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ha(e.visibleWrites,t);return n.forEachChild(hi,(function(e,t){var n=da(ha(a,new Cr(e)),t);r=r.updateImmediateChild(e,n)})),la(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return la(ha(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ea(e,t,n,r){return function(e,t,n,r,i){_e(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Or(t,n);if(ua(e.visibleWrites,a))return null;var o=ha(e.visibleWrites,a);return fa(o)?i.getChild(n):da(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Ca(e,t){return function(e,t){return ca(e.visibleWrites,t)}(e.writeTree,Or(e.treePath,t))}function Ta(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ha(e.visibleWrites,t),c=ca(u,Tr());if(null!=c)s=c;else{if(null==n)return[];s=da(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Sa(e,t,n){return function(e,t,n,r){var i=Or(t,n),a=ca(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?da(ha(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Na(e,t){return Ia(Or(e.treePath,t),e.writeTree)}function Ia(e,t){return{treePath:e,writeTree:t}}var Aa=function(){function e(){pe(this,e),this.changeMap=new Map}return me(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;_e("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),_e(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Si(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ti(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ci(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ee("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Si(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Pa=new(function(){function e(){pe(this,e)}return me(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Ra=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;pe(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return me(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sa(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ta(this.viewCache_),i=Ta(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Oa(e,t,n,r,i){var a,o,s=new Aa;if(n.type===Ui.OVERWRITE){var u=n;u.source.fromUser?a=Ma(e,t,u.path,u.snap,r,i,s):(_e(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!jr(u.path),a=Da(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Ui.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Or(n,r);La(t,Sr(c))&&(s=Ma(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Or(n,r);La(t,Sr(c))||(s=Ma(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(_e(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=Ua(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Ui.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Ca(r,n))return t;var s,u=new Ra(r,t,i),c=t.eventCache.getNode();if(jr(n)||".priority"===Sr(n)){var l;if(t.serverCache.isFullyInitialized())l=xa(r,ta(t));else{var h=t.serverCache.getNode();_e(h instanceof yi,"serverChildren would be complete if leaf node"),l=_a(r,h)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var f=Sr(n),d=Sa(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,Ir(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,yi.EMPTY_NODE,Ir(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=xa(r,ta(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Ca(r,Tr()),Ji(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Ca(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(jr(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Da(e,t,n,u.getNode().getChild(n),i,a,s,o);if(jr(n)){var c=new ra(null);return u.getNode().forEachChild(Yr,(function(e,t){c=c.set(new Cr(e),t)})),Ua(e,t,n,c,i,a,s,o)}return t}var l=new ra(null);return r.foreach((function(e,t){var r=Or(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ua(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Ui.LISTEN_COMPLETE)throw Ee("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Zi(t,a.getNode(),a.isFullyInitialized()||jr(n),a.isFiltered());return ja(e,o,n,r,Pa,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ea(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ei(ea(t)))}}(t,a,h),{viewCache:a,changes:h}}function ja(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Ca(r,n))return t;if(jr(n))if(_e(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=ta(t),l=_a(r,c instanceof yi?c:yi.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=xa(r,ta(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=Sr(n);if(".priority"===f){_e(1===Nr(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ea(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=Ir(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var y=Ea(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(f).updateChild(m,y):u.getNode().getImmediateChild(f)}else v=Sa(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return Ji(t,o,u.isFullyInitialized()||jr(n),e.filter.filtersNodes())}function Da(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(jr(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=Sr(n);if(!c.isCompleteForPath(n)&&Nr(n)>1)return t;var d=Ir(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Pa,null)}var v=Zi(t,u,c.isFullyInitialized()||jr(n),l.filtersNodes());return ja(e,v,n,i,new Ra(i,v,a),s)}function Ma(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Ra(i,t,a);if(jr(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Ji(t,u,!0,e.filter.filtersNodes());else{var h=Sr(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Ji(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=Ir(n),p=c.getNode().getImmediateChild(h);if(jr(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===Ar(d)&&v.getChild(Rr(d)).isEmpty()?v:v.updateChild(d,r):yi.EMPTY_NODE}if(p.equals(f))s=t;else s=Ji(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function La(e,t){return e.eventCache.isCompleteForChild(t)}function Fa(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ua(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=jr(n)?r:new ra(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Fa(0,t.serverCache.getNode().getImmediateChild(n),r);c=Da(e,c,new Cr(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Fa(0,t.serverCache.getNode().getImmediateChild(n),r);c=Da(e,c,new Cr(n),h,i,a,o,s)}})),c}var Ba,Va=function(){function e(t,n){pe(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Ni(i.getIndex()),o=(r=i).loadsAllData()?new Ni(r.getIndex()):r.hasLimit()?new Ai(r):new Ii(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(yi.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(yi.EMPTY_NODE,u.getNode(),null),h=new Yi(c,s.isFullyInitialized(),a.filtersNodes()),f=new Yi(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Xi(f,h),this.eventGenerator_=new Qi(this.query_)}return me(e,[{key:"query",get:function(){return this.query_}}]),e}();function za(e,t){var n=ta(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!jr(t)&&!n.getImmediateChild(Sr(t)).isEmpty())?n.getChild(t):null}function qa(e){return 0===e.eventRegistrations_.length}function Ka(e,t,n){var r=[];if(n){_e(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Ha(e,t,n,r){t.type===Ui.MERGE&&null!==t.source.queryId&&(_e(ta(e.viewCache_),"We should always have a full cache before handling merges"),_e(ea(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Oa(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,_e(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),_e(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),_e(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Wa(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Wa(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),$i(e,i,"child_removed",t,r,n),$i(e,i,"child_added",t,r,n),$i(e,i,"child_moved",a,r,n),$i(e,i,"child_changed",t,r,n),$i(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Ga,Ya=me((function e(){pe(this,e),this.views=new Map}));function Qa(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return _e(null!=a,"SyncTree gave us an op for an invalid query."),Ha(a,t,n,r)}var o,s=[],u=de(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Ha(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function $a(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=xa(n,i?r:null),u=!1;s?u=!0:r instanceof yi?(s=_a(n,r),u=!1):(s=yi.EMPTY_NODE,u=!1);var c=Xi(new Yi(s,u,!1),new Yi(r,i,!1));return new Va(t,c)}return o}function Xa(e,t,n,r,i,a){var o=$a(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(hi,(function(e,t){r.push(Ci(e,t))})),n.isFullyInitialized()&&r.push(Ei(n.getNode())),Wa(e,r,n.getNode(),t)}(o,n)}function Ja(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=ro(e);if("default"===i){var u,l=de(e.views.entries());try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];o=o.concat(Ka(d,n,r)),qa(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(Ka(p,n,r)),qa(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!ro(e)&&a.push(new(_e(Ba,"Reference.ts has not been loaded"),Ba)(t._repo,t._path)),{removed:a,events:o}}function Za(e){var t,n=[],r=de(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function eo(e,t){var n,r=null,i=de(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||za(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function to(e,t){if(t._queryParams.loadsAllData())return io(e);var n=t._queryIdentifier;return e.views.get(n)}function no(e,t){return null!=to(e,t)}function ro(e){return null!=io(e)}function io(e){var t,n=de(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var ao=1,oo=me((function e(t){pe(this,e),this.listenProvider_=t,this.syncPointTree_=new ra(null),this.pendingWriteTree_={visibleWrites:ia.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function so(e,t,n,r,i){return function(e,t,n,r,i){_e(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=aa(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?po(e,new Wi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function uo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ma(e.pendingWriteTree_,t),i=ya(e.pendingWriteTree_,t);if(i){var a=new ra(null);return null!=r.snap?a=a.set(Tr(),!0):Wn(r.children,(function(e){a=a.set(new Cr(e),!0)})),po(e,new Ki(r.path,a,n))}return[]}function co(e,t,n){return po(e,new Wi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function lo(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||no(a,t))){var s=Ja(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return ro(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&ro(t))return[io(t)];var r=[];return t&&(r=Za(t)),Wn(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=yo(e,p);e.listenProvider_.startListening(_o(v),go(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_o(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(wo(t));e.listenProvider_.stopListening(_o(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=wo(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function ho(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Dr(e,r);i=i||eo(t,n),a=a||ro(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||ro(s),i=i||eo(s,Tr())):(s=new Ya,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=yi.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=eo(t,Tr());n&&(i=i.updateImmediateChild(e,n))})));var u=no(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=wo(t);_e(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=ao++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=Xa(s,t,n,va(e.pendingWriteTree_,r),i,o);if(!u&&!a){var f=to(s,t);h=h.concat(function(e,t,n){var r=t._path,i=go(e,t),a=yo(e,n),o=e.listenProvider_.startListening(_o(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)_e(!ro(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!jr(e)&&t&&ro(t))return[io(t).query];var r=[];return t&&(r=r.concat(Za(t).map((function(e){return e.query})))),Wn(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(_o(l),go(e,l))}return o}(e,t,f))}return h}function fo(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=eo(n,Dr(e,t));if(r)return r}));return ka(r,t,i,n,!0)}function po(e,t){return vo(t,e.syncPointTree_,null,va(e.pendingWriteTree_,Tr()))}function vo(e,t,n,r){if(jr(e.path))return mo(e,t,n,r);var i=t.get(Tr());null==n&&null!=i&&(n=eo(i,Tr()));var a=[],o=Sr(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Na(r,o);a=a.concat(vo(s,u,c,l))}return i&&(a=a.concat(Qa(i,e,r,n))),a}function mo(e,t,n,r){var i=t.get(Tr());null==n&&null!=i&&(n=eo(i,Tr()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Na(r,t),u=e.operationForChild(t);u&&(a=a.concat(mo(u,i,o,s)))})),i&&(a=a.concat(Qa(i,e,r,n))),a}function yo(e,t){var n=t.query,r=go(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||yi.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=bo(e,n);if(r){var i=ko(r),a=i.path,o=i.queryId,s=Dr(a,t);return xo(e,a,new Hi(zi(o),s))}return[]}(e,n._path,r):function(e,t){return po(e,new Hi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return lo(e,n,null,i)}}}function go(e,t){var n=wo(t);return e.queryToTagMap.get(n)}function wo(e){return e._path.toString()+"$"+e._queryIdentifier}function bo(e,t){return e.tagToQueryMap.get(t)}function ko(e){var t=e.indexOf("$");return _e(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Cr(e.substr(0,t))}}function xo(e,t,n){var r=e.syncPointTree_.get(t);return _e(r,"Missing sync point for query tag that we're tracking"),Qa(r,n,va(e.pendingWriteTree_,t),null)}function _o(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(_e(Ga,"Reference.ts has not been loaded"),Ga)(e._repo,e._path):e}var Eo=function(){function e(t){pe(this,e),this.node_=t}return me(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Co=function(){function e(t,n){pe(this,e),this.syncTree_=t,this.path_=n}return me(e,[{key:"getImmediateChild",value:function(t){var n=Or(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return fo(this.syncTree_,this.path_)}}]),e}(),To=function(e,t,n){return e&&"object"===typeof e?(_e(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?So(e[".sv"],t,n):"object"===typeof e[".sv"]?No(e[".sv"],t):void _e(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},So=function(e,t,n){if("timestamp"===e)return n.timestamp;_e(!1,"Unexpected server value: "+e)},No=function(e,t,n){e.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&_e(!1,"Unexpected increment value: "+r);var i=t.node();if(_e(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Io=function(e,t,n,r){return Po(t,new Co(n,e),r)},Ao=function(e,t,n){return Po(e,new Eo(t),n)};function Po(e,t,n){var r,i=e.getPriority().val(),a=To(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=To(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new si(s,wi(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new si(a))),u.forEachChild(hi,(function(e,i){var a=Po(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Ro=me((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};pe(this,e),this.name=t,this.parent=n,this.node=r}));function Oo(e,t){for(var n=t instanceof Cr?t:new Cr(t),r=e,i=Sr(n);null!==i;){var a=$e(r.node.children,i)||{children:{},childCount:0};r=new Ro(i,r,a),i=Sr(n=Ir(n))}return r}function jo(e){return e.node.value}function Do(e,t){e.node.value=t,Bo(e)}function Mo(e){return e.node.childCount>0}function Lo(e,t){Wn(e.node.children,(function(n,r){t(new Ro(n,e,r))}))}function Fo(e,t,n,r){n&&!r&&t(e),Lo(e,(function(e){Fo(e,t,!0,r)})),n&&r&&t(e)}function Uo(e){return new Cr(null===e.parent?e.name:Uo(e.parent)+"/"+e.name)}function Bo(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===jo(e)&&!Mo(e)}(n),i=Qe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Bo(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Bo(e))}(e.parent,e.name,e)}var Vo=/[\[\].#$\/\u0000-\u001F\u007F]/,zo=/[\[\].#$\u0000-\u001F\u007F]/,qo=10485760,Ko=function(e){return"string"===typeof e&&0!==e.length&&!Vo.test(e)},Ho=function(e){return"string"===typeof e&&0!==e.length&&!zo.test(e)},Wo=function(e,t,n,r){r&&void 0===t||Go(ut(e,"value"),t,n)},Go=function e(t,n,r){var i=r instanceof Cr?new Fr(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Br(i));if("function"===typeof n)throw new Error(t+"contains a function "+Br(i)+" with contents = "+n.toString());if(Fn(n))throw new Error(t+"contains "+n.toString()+" "+Br(i));if("string"===typeof n&&n.length>qo/3&&ct(n)>qo)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Br(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Wn(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Ko(n)))throw new Error(t+" contains an invalid key ("+n+") "+Br(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ct(t),Ur(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ct(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Br(i)+" in addition to actual children.")}},Yo=function(e,t,n,r){if((!r||void 0!==n)&&!Ho(n))throw new Error(ut(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Qo=function(e,t){if(".info"===Sr(t))throw new Error(e+" failed = Can't modify data under /.info/")},$o=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ko(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ho(e)}(n))throw new Error(ut(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Xo=me((function e(){pe(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Jo(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Mr(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Zo(e,t,n){Jo(e,n),ts(e,(function(e){return Mr(e,t)}))}function es(e,t,n){Jo(e,n),ts(e,(function(e){return Lr(e,t)||Lr(t,e)}))}function ts(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ns(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ns(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();An&&On("event: "+n.toString()),Jn(r)}}}var rs="repo_interrupt",is=function(){function e(t,n,r,i){pe(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mi(),this.transactionQueueTree_=new Ro,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return me(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function as(e,t,n){if(e.stats_=fr(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ji(e.repoInfo_,(function(t,n,r,i){us(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return cs(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{We(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new qr(e.repoInfo_,t,(function(t,n,r,i){us(e,t,n,r,i)}),(function(t){cs(e,t)}),(function(t){!function(e,t){Wn(t,(function(t,n){ls(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return hr[n]||(hr[n]=t()),hr[n]}(e.repoInfo_,(function(){return new Vi(e.stats_,e.server_)})),e.infoData_=new Di,e.infoSyncTree_=new oo({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=co(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),ls(e,"connected",!1),e.serverSyncTree_=new oo({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);es(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function os(e){var t=e.infoData_.getNode(new Cr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ss(e){return(t=(t={timestamp:os(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function us(e,t,n,r,i){e.dataUpdateCount++;var a=new Cr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Je(n,(function(e){return wi(e)}));o=function(e,t,n,r){var i=bo(e,r);if(i){var a=ko(i),o=a.path,s=a.queryId,u=Dr(o,t),c=ra.fromObject(n);return xo(e,o,new Gi(zi(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=wi(n);o=function(e,t,n,r){var i=bo(e,r);if(null!=i){var a=ko(i),o=a.path,s=a.queryId,u=Dr(o,t);return xo(e,o,new Wi(zi(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Je(n,(function(e){return wi(e)}));o=function(e,t,n){var r=ra.fromObject(n);return po(e,new Gi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=wi(n);o=co(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=bs(e,a)),es(e.eventQueue_,h,o)}function cs(e,t){ls(e,"connected",t),!1===t&&function(e){vs(e,"onDisconnectEvents");var t=ss(e),n=Mi();Fi(e.onDisconnect_,Tr(),(function(r,i){var a=Io(r,i,e.serverSyncTree_,t);Li(n,r,a)}));var r=[];Fi(n,Tr(),(function(t,n){r=r.concat(co(e.serverSyncTree_,t,n));var i=Cs(e,t);bs(e,i)})),e.onDisconnect_=Mi(),es(e.eventQueue_,Tr(),r)}(e)}function ls(e,t,n){var r=new Cr("/.info/"+t),i=wi(n);e.infoData_.updateSnapshot(r,i);var a=co(e.infoSyncTree_,r,i);es(e.eventQueue_,r,a)}function hs(e){return e.nextWriteId_++}function fs(e,t,n,r,i){vs(e,"set",{path:t.toString(),value:n,priority:r});var a=ss(e),o=wi(n,r),s=fo(e.serverSyncTree_,t),u=Ao(o,s,a),c=hs(e),l=so(e.serverSyncTree_,t,u,c,!0);Jo(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||Ln("set at "+t+" failed: "+n);var o=uo(e.serverSyncTree_,c,!a);es(e.eventQueue_,t,o),ms(e,i,n,r)}));var h=Cs(e,t);bs(e,h),es(e.eventQueue_,h,[])}function ds(e,t,n){var r;r=".info"===Sr(t._path)?lo(e.infoSyncTree_,t,n):lo(e.serverSyncTree_,t,n),Zo(e.eventQueue_,t._path,r)}function ps(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rs)}function vs(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];On.apply(void 0,[t].concat(r))}function ms(e,t,n,r){t&&Jn((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ys(e,t,n){return fo(e.serverSyncTree_,t,n)||yi.EMPTY_NODE}function gs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Es(e,t),jo(t)){var n=xs(e,t);_e(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&ws(e,Uo(t),n)}else Mo(t)&&Lo(t,(function(t){gs(e,t)}))}function ws(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ys(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];_e(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Dr(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){vs(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(uo(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);Es(e,Oo(e.transactionQueueTree_,t)),gs(e,e.transactionQueueTree_),es(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Jn(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Ln("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}bs(e,t)}}),o)}function bs(e,t){var n=ks(e,t),r=Uo(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=Dr(n,u.path),l=!1,h=void 0;if(_e(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0));else{var f=ys(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){Go("transaction failed: Data returned ",d,u.path);var p=wi(d);"object"===typeof d&&null!=d&&Qe(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=ss(e),y=Ao(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=hs(e),o.splice(o.indexOf(v),1),i=(i=i.concat(so(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(uo(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(uo(e.serverSyncTree_,u.currentWriteId,!0))}es(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);Es(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Jn(r[c]);gs(e,e.transactionQueueTree_)}(e,xs(e,n),r),r}function ks(e,t){var n,r=e.transactionQueueTree_;for(n=Sr(t);null!==n&&void 0===jo(r);)r=Oo(r,n),n=Sr(t=Ir(t));return r}function xs(e,t){var n=[];return _s(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function _s(e,t,n){var r=jo(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Lo(t,(function(t){_s(e,t,n)}))}function Es(e,t){var n=jo(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Do(t,n.length>0?n:void 0)}Lo(t,(function(t){Es(e,t)}))}function Cs(e,t){var n=Uo(ks(e,t)),r=Oo(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Ts(e,t)})),Ts(e,r),Fo(r,(function(t){Ts(e,t)})),n}function Ts(e,t){var n=jo(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(_e(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(_e(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(uo(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Do(t,void 0):n.length=a+1,es(e.eventQueue_,Uo(t),i);for(var s=0;s<r.length;s++)Jn(r[s])}}var Ss=function(e,t){var n=Ns(e),r=n.namespace;"firebase.com"===n.domain&&Mn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new sr(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Cr(n.pathString)}},Ns=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=de(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Ln("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Is=function(){function e(t,n,r,i){pe(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return me(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+We(this.snapshot.exportVal())}}]),e}(),As=function(){function e(t,n,r){pe(this,e),this.eventRegistration=t,this.error=n,this.path=r}return me(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ps=function(){function e(t,n){pe(this,e),this.snapshotCallback=t,this.cancelCallback=n}return me(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Rs=function(){function e(t,n,r,i){pe(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return me(e,[{key:"key",get:function(){return jr(this._path)?null:Ar(this._path)}},{key:"ref",get:function(){return new Os(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Oi(this._queryParams),t=Kn(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Oi(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=ht(t))instanceof e))return!1;var n=this._repo===t._repo,r=Mr(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Os=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,r,new Pi,!1)}return me(n,[{key:"parent",get:function(){var e=Rr(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Rs),js=function(){function e(t,n,r){pe(this,e),this._node=t,this.ref=n,this._index=r}return me(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Cr(t),r=Ms(this.ref,t);return new e(this._node.getChild(n),r,hi)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Ms(n.ref,r),hi))}))}},{key:"hasChild",value:function(e){var t=new Cr(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Ds(e,t){return(e=ht(e))._checkNotDeleted("ref"),void 0!==t?Ms(e._root,t):e._root}function Ms(e,t){var n,r,i,a;return null===Sr((e=ht(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Yo(n,r,i,a)):Yo("child","path",t,!1),new Os(e._repo,Or(e._path,t))}function Ls(e,t){e=ht(e),Qo("set",e._path),Wo("set",t,e._path,!1);var n=new Pe;return fs(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}var Fs=function(){function e(t){pe(this,e),this.callbackContext=t}return me(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Is("value",this,new js(e.snapshotNode,new Os(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new As(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),Us=function(){function e(t,n){pe(this,e),this.eventType=t,this.callbackContext=n}return me(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new As(this,e,t):null}},{key:"createEvent",value:function(e,t){_e(null!=e.childName,"Child events should have a childName.");var n=Ms(new Os(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Is(e.type,this,new js(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Bs(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){ds(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ps(n,a||void 0),c="value"===t?new Fs(u):new Us(t,u);return function(e,t,n){var r;r=".info"===Sr(t._path)?ho(e.infoSyncTree_,t,n):ho(e.serverSyncTree_,t,n),Zo(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return ds(e._repo,e,c)}}function Vs(e,t,n,r){return Bs(e,"value",t,n,r)}!function(e){_e(!Ba,"__referenceConstructor has already been defined"),Ba=e}(Os),function(e){_e(!Ga,"__referenceConstructor has already been defined"),Ga=e}(Os);var zs={},qs=!1;function Ks(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),On("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=Ss(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=Ss(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new nr(nr.OWNER):new tr(e.name,e.options,t);$o("Invalid Firebase Database URL",s),jr(s.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=zs[t.name];i||(i={},zs[t.name]=i);var a=i[e.toURLString()];a&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new is(e,qs,n,r),i[e.toURLString()]=a,a}(u,e,l,new er(e.name,n));return new Hs(h,e)}var Hs=function(){function e(t,n){pe(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return me(e,[{key:"_repo",get:function(){return this._instanceStarted||(as(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Os(this._repo,Tr())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=zs[t];n&&n[e.key]===e||Mn("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),ps(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Mn("Cannot call "+e+" on a deleted database.")}}]),e}();function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=arguments.length>1?arguments[1]:void 0;return zt(e,"database").getImmediate({identifier:t})}qr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},qr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){bn=e}(Yt),Vt(new yt("database",(function(e,t){var n=t.instanceIdentifier;return Ks(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),en(gn,wn,e),en(gn,wn,"esm2017")}();var Gs=n(2007),Ys=n.n(Gs),Qs=n(9475),$s=n.n(Qs),Xs=n(77),Js=n.n(Xs),Zs=n(1725),eu=n.n(Zs),tu="bodyAttributes",nu="htmlAttributes",ru="titleAttributes",iu={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},au=(Object.keys(iu).map((function(e){return iu[e]})),"charset"),ou="cssText",su="href",uu="http-equiv",cu="innerHTML",lu="itemprop",hu="name",fu="property",du="rel",pu="src",vu="target",mu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},yu="defaultTitle",gu="defer",wu="encodeSpecialCharacters",bu="onChangeClientState",ku="titleTemplate",xu=Object.keys(mu).reduce((function(e,t){return e[mu[t]]=t,e}),{}),_u=[iu.NOSCRIPT,iu.SCRIPT,iu.STYLE],Eu="data-react-helmet",Cu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Su=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},Au=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},Pu=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ru=function(e){var t=Lu(e,iu.TITLE),n=Lu(e,ku);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=Lu(e,yu);return t||r||void 0},Ou=function(e){return Lu(e,bu)||function(){}},ju=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Nu({},e,t)}),{})},Du=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[iu.BASE]})).map((function(e){return e[iu.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},Mu=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&zu("Helmet: "+e+' should be of type "Array". Instead found type "'+Cu(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],u=s.toLowerCase();-1===t.indexOf(u)||n===du&&"canonical"===e[n].toLowerCase()||u===du&&"stylesheet"===e[u].toLowerCase()||(n=u),-1===t.indexOf(s)||s!==cu&&s!==ou&&s!==lu||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=eu()({},r[s],i[s]);r[s]=u}return e}),[]).reverse()},Lu=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Fu=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){Fu(t)}),0)}}(),Uu=function(e){return clearTimeout(e)},Bu="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Fu:n.g.requestAnimationFrame||Fu,Vu="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Uu:n.g.cancelAnimationFrame||Uu,zu=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},qu=null,Ku=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,l=e.styleTags,h=e.title,f=e.titleAttributes;Gu(iu.BODY,r),Gu(iu.HTML,i),Wu(h,f);var d={baseTag:Yu(iu.BASE,n),linkTags:Yu(iu.LINK,a),metaTags:Yu(iu.META,o),noscriptTags:Yu(iu.NOSCRIPT,s),scriptTags:Yu(iu.SCRIPT,c),styleTags:Yu(iu.STYLE,l)},p={},v={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)})),t&&t(),u(e,p,v)},Hu=function(e){return Array.isArray(e)?e.join(""):e},Wu=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=Hu(e)),Gu(iu.TITLE,t)},Gu=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(Eu),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s++){var u=o[s],c=t[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),-1===i.indexOf(u)&&i.push(u);var l=a.indexOf(u);-1!==l&&a.splice(l,1)}for(var h=a.length-1;h>=0;h--)n.removeAttribute(a[h]);i.length===a.length?n.removeAttribute(Eu):n.getAttribute(Eu)!==o.join(",")&&n.setAttribute(Eu,o.join(","))}},Yu=function(e,t){var n=document.head||document.querySelector(iu.HEAD),r=n.querySelectorAll(e+"["+"data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===cu)n.innerHTML=t.innerHTML;else if(r===ou)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(Eu,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):a.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),a.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:a}},Qu=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},$u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[mu[n]||n]=e[n],t}),t)},Xu=function(e,t,n){switch(e){case iu.TITLE:return{toComponent:function(){return function(e,t,n){var i,a=((i={key:t})[Eu]=!0,i),o=$u(n,a);return[r.createElement(iu.TITLE,o,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=Qu(n),a=Hu(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+Pu(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+Pu(a,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case tu:case nu:return{toComponent:function(){return $u(t)},toString:function(){return Qu(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var i,a=((i={key:n})[Eu]=!0,i);return Object.keys(t).forEach((function(e){var n=mu[e]||e;if(n===cu||n===ou){var r=t.innerHTML||t.cssText;a.dangerouslySetInnerHTML={__html:r}}else a[n]=t[e]})),r.createElement(e,a)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===cu||e===ou)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+Pu(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===_u.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(e,t,n)}}}},Ju=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,s=e.noscriptTags,u=e.scriptTags,c=e.styleTags,l=e.title,h=void 0===l?"":l,f=e.titleAttributes;return{base:Xu(iu.BASE,t,r),bodyAttributes:Xu(tu,n,r),htmlAttributes:Xu(nu,i,r),link:Xu(iu.LINK,a,r),meta:Xu(iu.META,o,r),noscript:Xu(iu.NOSCRIPT,s,r),script:Xu(iu.SCRIPT,u,r),style:Xu(iu.STYLE,c,r),title:Xu(iu.TITLE,{title:h,titleAttributes:f},r)}},Zu=function(e){var t,n;return n=t=function(t){function n(){return Tu(this,n),Au(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!Js()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case iu.SCRIPT:case iu.NOSCRIPT:return{innerHTML:t};case iu.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return Nu({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Nu({},i,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case iu.TITLE:return Nu({},i,((t={})[r.type]=o,t.titleAttributes=Nu({},a),t));case iu.BODY:return Nu({},i,{bodyAttributes:Nu({},a)});case iu.HTML:return Nu({},i,{htmlAttributes:Nu({},a)})}return Nu({},i,((n={})[r.type]=Nu({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Nu({},t);return Object.keys(e).forEach((function(t){var r;n=Nu({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,i={};return r.Children.forEach(e,(function(e){if(e&&e.props){var r=e.props,a=r.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[xu[n]||n]=e[n],t}),t)}(Iu(r,["children"]));switch(n.warnOnInvalidChildren(e,a),e.type){case iu.LINK:case iu.META:case iu.NOSCRIPT:case iu.SCRIPT:case iu.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:a})}}})),t=this.mapArrayTypeChildrenToProps(i,t)},n.prototype.render=function(){var t=this.props,n=t.children,i=Iu(t,["children"]),a=Nu({},i);return n&&(a=this.mapChildrenToProps(n,a)),r.createElement(e,a)},Su(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(r.Component),t.propTypes={base:Ys().object,bodyAttributes:Ys().object,children:Ys().oneOfType([Ys().arrayOf(Ys().node),Ys().node]),defaultTitle:Ys().string,defer:Ys().bool,encodeSpecialCharacters:Ys().bool,htmlAttributes:Ys().object,link:Ys().arrayOf(Ys().object),meta:Ys().arrayOf(Ys().object),noscript:Ys().arrayOf(Ys().object),onChangeClientState:Ys().func,script:Ys().arrayOf(Ys().object),style:Ys().arrayOf(Ys().object),title:Ys().string,titleAttributes:Ys().object,titleTemplate:Ys().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=Ju({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}($s()((function(e){return{baseTag:Du([su,vu],e),bodyAttributes:ju(tu,e),defer:Lu(e,gu),encode:Lu(e,wu),htmlAttributes:ju(nu,e),linkTags:Mu(iu.LINK,[du,su],e),metaTags:Mu(iu.META,[hu,au,uu,fu,lu],e),noscriptTags:Mu(iu.NOSCRIPT,[cu],e),onChangeClientState:Ou(e),scriptTags:Mu(iu.SCRIPT,[pu,cu],e),styleTags:Mu(iu.STYLE,[ou],e),title:Ru(e),titleAttributes:ju(ru,e)}}),(function(e){qu&&Vu(qu),e.defer?qu=Bu((function(){Ku(e,(function(){qu=null}))})):(Ku(e),qu=null)}),Ju)((function(){return null})));Zu.renderStatic=Zu.rewind;function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rc=r.createContext&&r.createContext(nc),ic=function(){return ic=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ic.apply(this,arguments)},ac=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function oc(e){return e&&e.map((function(e,t){return r.createElement(e.tag,ic({key:t},e.attr),oc(e.child))}))}function sc(e){return function(t){return r.createElement(uc,ic({attr:ic({},e.attr)},t),oc(e.child))}}function uc(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=ac(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",ic({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:ic(ic({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==rc?r.createElement(rc.Consumer,null,(function(e){return t(e)})):t(nc)}function cc(e){return sc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]})(e)}function lc(e){return sc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 306.9c-113.5 0-205.1 91.6-205.1 205.1S398.5 717.1 512 717.1 717.1 625.5 717.1 512 625.5 306.9 512 306.9zm0 338.4c-73.4 0-133.3-59.9-133.3-133.3S438.6 378.7 512 378.7 645.3 438.6 645.3 512 585.4 645.3 512 645.3zm213.5-394.6c-26.5 0-47.9 21.4-47.9 47.9s21.4 47.9 47.9 47.9 47.9-21.3 47.9-47.9a47.84 47.84 0 0 0-47.9-47.9zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zm-88 235.8c-7.3 18.2-16.1 31.8-30.2 45.8-14.1 14.1-27.6 22.9-45.8 30.2C695.2 844.7 570.3 840 512 840c-58.3 0-183.3 4.7-235.9-16.1-18.2-7.3-31.8-16.1-45.8-30.2-14.1-14.1-22.9-27.6-30.2-45.8C179.3 695.2 184 570.3 184 512c0-58.3-4.7-183.3 16.1-235.9 7.3-18.2 16.1-31.8 30.2-45.8s27.6-22.9 45.8-30.2C328.7 179.3 453.7 184 512 184s183.3-4.7 235.9 16.1c18.2 7.3 31.8 16.1 45.8 30.2 14.1 14.1 22.9 27.6 30.2 45.8C844.7 328.7 840 453.7 840 512c0 58.3 4.7 183.2-16.2 235.8z"}}]})(e)}function hc(e){return sc({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 0 0 0 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]})(e)}function fc(e){return sc({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M423.3 440.7c0 25.3-20.3 45.6-45.6 45.6s-45.8-20.3-45.8-45.6 20.6-45.8 45.8-45.8c25.4 0 45.6 20.5 45.6 45.8zm-253.9-45.8c-25.3 0-45.6 20.6-45.6 45.8s20.3 45.6 45.6 45.6 45.8-20.3 45.8-45.6-20.5-45.8-45.8-45.8zm291.7-270C158.9 124.9 81.9 112.1 0 25.7c34.4 51.7 53.3 148.9 373.1 144.2 333.3-5 130 86.1 70.8 188.9 186.7-166.7 319.4-233.9 17.2-233.9z"}}]})(e)}function dc(e){return sc({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(e)}function pc(e){return sc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M16.015 14.378c0-.32-.135-.496-.344-.622-.21-.12-.464-.135-.81-.135h-1.543v2.82h.675v-1.027h.72c.24 0 .39.024.478.125.12.13.104.38.104.55v.35h.66v-.555c-.002-.25-.017-.376-.108-.516-.06-.08-.18-.18-.33-.234l.02-.008c.18-.072.48-.297.48-.747zm-.87.407l-.028-.002c-.09.053-.195.058-.33.058h-.81v-.63h.824c.12 0 .24 0 .33.05.098.048.156.147.15.255 0 .12-.045.215-.134.27zM20.297 15.837H19v.6h1.304c.676 0 1.05-.278 1.05-.884 0-.28-.066-.448-.187-.582-.153-.133-.392-.193-.73-.207l-.376-.015c-.104 0-.18 0-.255-.03-.09-.03-.15-.105-.15-.21 0-.09.017-.166.09-.21.083-.046.177-.066.272-.06h1.23v-.602h-1.35c-.704 0-.958.437-.958.84 0 .9.776.855 1.407.87.104 0 .18.015.225.06.046.03.082.106.082.18 0 .077-.035.15-.08.18-.06.053-.15.07-.277.07zM0 0v10.096L.81 8.22h1.75l.225.464V8.22h2.043l.45 1.02.437-1.013h6.502c.295 0 .56.057.756.236v-.23h1.787v.23c.307-.17.686-.23 1.12-.23h2.606l.24.466v-.466h1.918l.254.465v-.466h1.858v3.948H20.87l-.36-.6v.585h-2.353l-.256-.63h-.583l-.27.614h-1.213c-.48 0-.84-.104-1.08-.24v.24h-2.89v-.884c0-.12-.03-.12-.105-.135h-.105v1.036H6.067v-.48l-.21.48H4.69l-.202-.48v.465H2.235l-.256-.624H1.4l-.256.624H0V24h23.786v-7.108c-.27.135-.613.18-.973.18H21.09v-.255c-.21.165-.57.255-.914.255H14.71v-.9c0-.12-.018-.12-.12-.12h-.075v1.022h-1.8v-1.066c-.298.136-.643.15-.928.136h-.214v.915h-2.18l-.54-.617-.57.6H4.742v-3.93h3.61l.518.602.554-.6h2.412c.28 0 .74.03.942.225v-.24h2.177c.202 0 .644.045.903.225v-.24h3.265v.24c.163-.164.508-.24.803-.24h1.89v.24c.194-.15.464-.24.84-.24h1.176V0H0zM21.156 14.955c.004.005.006.012.01.016.01.01.024.01.032.02l-.042-.035zM23.828 13.082h.065v.555h-.065zM23.865 15.03v-.005c-.03-.025-.046-.048-.075-.07-.15-.153-.39-.215-.764-.225l-.36-.012c-.12 0-.194-.007-.27-.03-.09-.03-.15-.105-.15-.21 0-.09.03-.16.09-.204.076-.045.15-.05.27-.05h1.223v-.588h-1.283c-.69 0-.96.437-.96.84 0 .9.78.855 1.41.87.104 0 .18.015.224.06.046.03.076.106.076.18 0 .07-.034.138-.09.18-.045.056-.136.07-.27.07h-1.288v.605h1.287c.42 0 .734-.118.9-.36h.03c.09-.134.135-.3.135-.523 0-.24-.045-.39-.135-.526zM18.597 14.208v-.583h-2.235V16.458h2.235v-.585h-1.57v-.57h1.533v-.584h-1.532v-.51M13.51 8.787h.685V11.6h-.684zM13.126 9.543l-.007.006c0-.314-.13-.5-.34-.624-.217-.125-.47-.135-.81-.135H10.43v2.82h.674v-1.034h.72c.24 0 .39.03.487.12.122.136.107.378.107.548v.354h.677v-.553c0-.25-.016-.375-.11-.516-.09-.107-.202-.19-.33-.237.172-.07.472-.3.472-.75zm-.855.396h-.015c-.09.054-.195.056-.33.056H11.1v-.623h.825c.12 0 .24.004.33.05.09.04.15.128.15.25s-.047.22-.134.266zM15.92 9.373h.632v-.6h-.644c-.464 0-.804.105-1.02.33-.286.3-.362.69-.362 1.11 0 .512.123.833.36 1.074.232.238.645.31.97.31h.78l.255-.627h1.39l.262.627h1.36v-2.11l1.272 2.11h.95l.002.002V8.786h-.684v1.963l-1.18-1.96h-1.02V11.4L18.11 8.744h-1.004l-.943 2.22h-.3c-.177 0-.362-.03-.468-.134-.125-.15-.186-.36-.186-.662 0-.285.08-.51.194-.63.133-.135.272-.165.516-.165zm1.668-.108l.464 1.118v.002h-.93l.466-1.12zM2.38 10.97l.254.628H4V9.393l.972 2.205h.584l.973-2.202.015 2.202h.69v-2.81H6.118l-.807 1.904-.876-1.905H3.343v2.663L2.205 8.787h-.997L.01 11.597h.72l.26-.626h1.39zm-.688-1.705l.46 1.118-.003.002h-.915l.457-1.12zM11.856 13.62H9.714l-.85.923-.825-.922H5.346v2.82H8l.855-.932.824.93h1.302v-.94h.838c.6 0 1.17-.164 1.17-.945l-.006-.003c0-.78-.598-.93-1.128-.93zM7.67 15.853l-.014-.002H6.02v-.557h1.47v-.574H6.02v-.51H7.7l.733.82-.764.824zm2.642.33l-1.03-1.147 1.03-1.108v2.253zm1.553-1.258h-.885v-.717h.885c.24 0 .42.098.42.344 0 .243-.15.372-.42.372zM9.967 9.373v-.586H7.73V11.6h2.237v-.58H8.4v-.564h1.527V9.88H8.4v-.507"}}]})(e)}function vc(e){return sc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.343 18.031c.058.049.12.098.181.146-1.177.783-2.59 1.238-4.107 1.238C3.32 19.416 0 16.096 0 12c0-4.095 3.32-7.416 7.416-7.416 1.518 0 2.931.456 4.105 1.238-.06.051-.12.098-.165.15C9.6 7.489 8.595 9.688 8.595 12c0 2.311 1.001 4.51 2.748 6.031zm5.241-13.447c-1.52 0-2.931.456-4.105 1.238.06.051.12.098.165.15C14.4 7.489 15.405 9.688 15.405 12c0 2.31-1.001 4.507-2.748 6.031-.058.049-.12.098-.181.146 1.177.783 2.588 1.238 4.107 1.238C20.68 19.416 24 16.096 24 12c0-4.094-3.32-7.416-7.416-7.416zM12 6.174c-.096.075-.189.15-.28.231C10.156 7.764 9.169 9.765 9.169 12c0 2.236.987 4.236 2.551 5.595.09.08.185.158.28.232.096-.074.189-.152.28-.232 1.563-1.359 2.551-3.359 2.551-5.595 0-2.235-.987-4.236-2.551-5.595-.09-.08-.184-.156-.28-.231z"}}]})(e)}function mc(e){return sc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M17.187 19.181L24 4.755 0 12.386l9.196 1.963.043 4.896 2.759-2.617-2.147-2.076 7.336 4.63z"}}]})(e)}function yc(e){return sc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M2.313 23.017C.576 22.764-.232 21.704.058 20.061a6.643 6.643 0 0 1 .88-2.288c1.328-2.123 3.2-3.896 5.3-5.016.556-.297 1.881-.863 2.02-.863.03 0 .106.232.167.516.095.442.19.64.67 1.397.308.485.587.908.62.941.085.085.164-.471.164-1.153v-.572l.25.463c.294.542.588.98.743 1.109.06.05.006-.1-.122-.333-.982-1.793-1.62-4.265-1.622-6.286-.002-2.003.488-3.555 1.417-4.488.444-.446.813-.628 1.35-.667 1-.072 1.748.635 2.235 2.113.08.247.13.467.108.488-.022.023-.04-.003-.04-.058 0-.053-.133-.37-.295-.703-.332-.682-.786-1.219-1.187-1.402-.257-.118-.759-.166-.844-.082-.023.023.133.23.347.46.482.514.865 1.27 1.099 2.165.151.58.176.826.203 2.042.058 2.547-.35 4.406-1.289 5.861-.396.616-.456.554-.083-.087.154-.265.272-.564.295-.752.022-.172.026-.313.011-.313s-.11.148-.212.329c-.164.292-.21.33-.405.33h-.22l.134.215.134.217-.598.788c-.496.654-.916 1.19-1.179 1.503-.047.055-.741-1.063-1.084-1.745a6.541 6.541 0 0 0-.197-.375c-.047-.053-1.217.549-1.728.889-1.559 1.037-2.59 2.74-2.16 3.57.318.614 1.731.37 3.166-.55.181-.115.556-.393.833-.616.277-.223.568-.406.646-.406.081 0 .297-.146.502-.34.197-.186.374-.324.392-.306.06.061-1.838 1.857-2.473 2.34-1.562 1.185-2.92 1.643-3.876 1.306-.265-.094-.272-.093-.27.05.002.223.23.674.403.799.152.11.148.11-.174.067-.974-.134-1.547-.72-1.548-1.583 0-.385.213-1.165.477-1.74.595-1.298 2.396-3.08 3.694-3.653.296-.13.418-.248.824-.787.372-.496.453-.642.374-.673-.128-.049-.332.03-1.307.513-2.741 1.355-4.636 3.4-5.194 5.605-.231.916-.078 1.967.366 2.507l.153.187-.031-.814c-.026-.681-.009-.904.107-1.362.136-.539.492-1.363.7-1.622.076-.093.069-.054-.024.137-.397.82-.532 1.769-.344 2.416.305 1.051 1.716 1.562 3.24 1.173 1.04-.265 2.373-1.01 3.749-2.096.9-.71 2.84-2.689 3.375-3.44 1.631-2.296 2.48-5.781 2.15-8.84-.261-2.422-1.335-4.097-2.825-4.405a4.576 4.576 0 0 1-.62-.177c-.22-.088-.24-.11-.132-.153.335-.13 1.167-.046 1.701.175.09.038.112.03.078-.026-.094-.152-.54-.29-1.093-.338l-.56-.049.461-.01.461-.012-.259-.137c-.208-.11-.327-.128-.609-.095-.695.082-1.577.512-2.201 1.074-.431.389-.197.015.298-.476 1.1-1.088 2.587-1.296 4.117-.574.573.27 1.346 1 1.706 1.61.443.754.77 1.763.945 2.918.19 1.254.056 4-.267 5.48l-.118.54.631.208c.61.2 1.675.653 1.634.694-.01.011-.36-.11-.775-.268-.415-.159-.768-.275-.784-.258-.076.075 1.393 1.451 1.906 1.786 1.974 1.286 3.3 2.717 3.524 3.804.023.11-.032.027-.122-.184-.396-.93-1.05-1.723-2.146-2.605-1.376-1.107-2.975-2.005-3.94-2.213-.449-.097-.182.074.558.36 1.925.74 3.764 2.121 4.814 3.617.762 1.085.872 2.134.263 2.506-.325.198-1.153.183-2.036-.038-.589-.148-2.732-.934-2.679-.983.01-.008.226.038.48.103 1.368.36 2.145-.015 2.057-.994-.116-1.275-1.615-2.72-3.596-3.466-.231-.087-.427-.15-.434-.14a45.97 45.97 0 0 1-1.034 1.788l-.514.847.156.273a2 2 0 0 1 .202.602c.08.581.244.85.737 1.213 1.082.795 2.677 1.561 3.92 1.882.337.087.55.16.472.162-.188.004-1.284-.287-1.736-.462-1.087-.42-2.078-.994-3.483-2.017-.696-.506-.962-.667-1.001-.604-.064.103.116.267 1.027.938 1.96 1.444 4.675 2.543 6.282 2.543.992 0 1.62-.34 1.981-1.073a2.88 2.88 0 0 0 .256-.84l.051-.425.092.296c.099.32.13 1.549.048 1.877-.05.195-.048.195.08-.034.524-.927.54-2.254.043-3.38a9.99 9.99 0 0 0-.494-.9c-.407-.665-.165-.407.389.413.95 1.407 1.38 2.8 1.197 3.87a3.259 3.259 0 0 1-.239.774c-.31.605-.987 1.113-1.783 1.337-.483.136-1.965.121-2.657-.026-2.165-.463-4.985-2.04-6.989-3.908l-.365-.34-.658.639c-1.713 1.66-3.34 2.755-4.841 3.258-.647.216-1.636.411-2.53.499-.81.079-1.024.078-1.583-.003zM12.97 10.99c.393-1.77.336-3.854-.135-4.908-.61-1.367-1.746-.996-2.083.68-.154.766-.19 1.6-.112 2.55.063.764.213 1.789.3 2.04.02.06.277.082.98.082h.951zm6.514 9.62a.591.591 0 0 1 .23 0c.064.014.012.03-.115.03-.126 0-.178-.016-.115-.03zm2.637-2.227c0-.182.013-.248.028-.148.015.1.015.248 0 .33-.016.08-.029-.001-.028-.183zM7.786 10c-.268-1.136-.324-1.7-.288-2.866.025-.78.072-1.22.174-1.63.137-.549.468-1.535.503-1.5.01.009-.005.147-.034.303-.03.16-.024.394.012.537.051.2.034.366-.08.802-.19.72-.258 2.574-.128 3.452.048.324.078.618.067.655a4.22 4.22 0 0 0-.019.51c.001.245-.008.445-.02.445-.01 0-.095-.319-.187-.708z"}}]})(e)}function gc(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M1.923 9.37c-.51-.205-.504-.51.034-.689l19.086-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.475.553-.717.07L11 13 1.923 9.37zm4.89-.2l5.636 2.255 3.04 6.082 3.546-12.41L6.812 9.17z"}}]}]})(e)}function wc(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M21 9.5v3c0 2.485-4.03 4.5-9 4.5s-9-2.015-9-4.5v-3c0 2.485 4.03 4.5 9 4.5s9-2.015 9-4.5zm-18 5c0 2.485 4.03 4.5 9 4.5s9-2.015 9-4.5v3c0 2.485-4.03 4.5-9 4.5s-9-2.015-9-4.5v-3zm9-2.5c-4.97 0-9-2.015-9-4.5S7.03 3 12 3s9 2.015 9 4.5-4.03 4.5-9 4.5z"}}]}]})(e)}function bc(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M22.222 15.768l-.225-1.125h-2.514l-.4 1.117-2.015.004a4199.19 4199.19 0 0 1 2.884-6.918c.164-.391.455-.59.884-.588.328.003.863.003 1.606.001L24 15.765l-1.778.003zm-2.173-2.666h1.62l-.605-2.82-1.015 2.82zM7.06 8.257l2.026.002-3.132 7.51-2.051-.002a950.849 950.849 0 0 1-1.528-5.956c-.1-.396-.298-.673-.679-.804C1.357 8.89.792 8.71 0 8.465V8.26h3.237c.56 0 .887.271.992.827.106.557.372 1.975.8 4.254L7.06 8.257zm4.81.002l-1.602 7.508-1.928-.002L9.94 8.257l1.93.002zm3.91-.139c.577 0 1.304.18 1.722.345l-.338 1.557c-.378-.152-1-.357-1.523-.35-.76.013-1.23.332-1.23.638 0 .498.816.749 1.656 1.293.959.62 1.085 1.177 1.073 1.782-.013 1.256-1.073 2.495-3.309 2.495-1.02-.015-1.388-.101-2.22-.396l.352-1.625c.847.355 1.206.468 1.93.468.663 0 1.232-.268 1.237-.735.004-.332-.2-.497-.944-.907-.744-.411-1.788-.98-1.774-2.122.017-1.462 1.402-2.443 3.369-2.443z"}}]}]})(e)}var kc=[{countryCode:"AD",countryName:"Andorra",currencyCode:"EUR",population:"84000",capital:"Andorra la Vella",continentName:"Europe"},{countryCode:"AE",countryName:"United Arab Emirates",currencyCode:"AED",population:"4975593",capital:"Abu Dhabi",continentName:"Asia"},{countryCode:"AF",countryName:"Afghanistan",currencyCode:"AFN",population:"29121286",capital:"Kabul",continentName:"Asia"},{countryCode:"AG",countryName:"Antigua and Barbuda",currencyCode:"XCD",population:"86754",capital:"St. John's",continentName:"North America"},{countryCode:"AI",countryName:"Anguilla",currencyCode:"XCD",population:"13254",capital:"The Valley",continentName:"North America"},{countryCode:"AL",countryName:"Albania",currencyCode:"ALL",population:"2986952",capital:"Tirana",continentName:"Europe"},{countryCode:"AM",countryName:"Armenia",currencyCode:"AMD",population:"2968000",capital:"Yerevan",continentName:"Asia"},{countryCode:"AO",countryName:"Angola",currencyCode:"AOA",population:"13068161",capital:"Luanda",continentName:"Africa"},{countryCode:"AQ",countryName:"Antarctica",currencyCode:"",population:"0",capital:"",continentName:"Antarctica"},{countryCode:"AR",countryName:"Argentina",currencyCode:"ARS",population:"41343201",capital:"Buenos Aires",continentName:"South America"},{countryCode:"AS",countryName:"American Samoa",currencyCode:"USD",population:"57881",capital:"Pago Pago",continentName:"Oceania"},{countryCode:"AT",countryName:"Austria",currencyCode:"EUR",population:"8205000",capital:"Vienna",continentName:"Europe"},{countryCode:"AU",countryName:"Australia",currencyCode:"AUD",population:"21515754",capital:"Canberra",continentName:"Oceania"},{countryCode:"AW",countryName:"Aruba",currencyCode:"AWG",population:"71566",capital:"Oranjestad",continentName:"North America"},{countryCode:"AX",countryName:"\xc5land",currencyCode:"EUR",population:"26711",capital:"Mariehamn",continentName:"Europe"},{countryCode:"AZ",countryName:"Azerbaijan",currencyCode:"AZN",population:"8303512",capital:"Baku",continentName:"Asia"},{countryCode:"BA",countryName:"Bosnia and Herzegovina",currencyCode:"BAM",population:"4590000",capital:"Sarajevo",continentName:"Europe"},{countryCode:"BB",countryName:"Barbados",currencyCode:"BBD",population:"285653",capital:"Bridgetown",continentName:"North America"},{countryCode:"BD",countryName:"Bangladesh",currencyCode:"BDT",population:"156118464",capital:"Dhaka",continentName:"Asia"},{countryCode:"BE",countryName:"Belgium",currencyCode:"EUR",population:"10403000",capital:"Brussels",continentName:"Europe"},{countryCode:"BF",countryName:"Burkina Faso",currencyCode:"XOF",population:"16241811",capital:"Ouagadougou",continentName:"Africa"},{countryCode:"BG",countryName:"Bulgaria",currencyCode:"BGN",population:"7148785",capital:"Sofia",continentName:"Europe"},{countryCode:"BH",countryName:"Bahrain",currencyCode:"BHD",population:"738004",capital:"Manama",continentName:"Asia"},{countryCode:"BI",countryName:"Burundi",currencyCode:"BIF",population:"9863117",capital:"Bujumbura",continentName:"Africa"},{countryCode:"BJ",countryName:"Benin",currencyCode:"XOF",population:"9056010",capital:"Porto-Novo",continentName:"Africa"},{countryCode:"BL",countryName:"Saint Barth\xe9lemy",currencyCode:"EUR",population:"8450",capital:"Gustavia",continentName:"North America"},{countryCode:"BM",countryName:"Bermuda",currencyCode:"BMD",population:"65365",capital:"Hamilton",continentName:"North America"},{countryCode:"BN",countryName:"Brunei",currencyCode:"BND",population:"395027",capital:"Bandar Seri Begawan",continentName:"Asia"},{countryCode:"BO",countryName:"Bolivia",currencyCode:"BOB",population:"9947418",capital:"Sucre",continentName:"South America"},{countryCode:"BQ",countryName:"Bonaire",currencyCode:"USD",population:"18012",capital:"Kralendijk",continentName:"North America"},{countryCode:"BR",countryName:"Brazil",currencyCode:"BRL",population:"201103330",capital:"Bras\xedlia",continentName:"South America"},{countryCode:"BS",countryName:"Bahamas",currencyCode:"BSD",population:"301790",capital:"Nassau",continentName:"North America"},{countryCode:"BT",countryName:"Bhutan",currencyCode:"BTN",population:"699847",capital:"Thimphu",continentName:"Asia"},{countryCode:"BV",countryName:"Bouvet Island",currencyCode:"NOK",population:"0",capital:"",continentName:"Antarctica"},{countryCode:"BW",countryName:"Botswana",currencyCode:"BWP",population:"2029307",capital:"Gaborone",continentName:"Africa"},{countryCode:"BY",countryName:"Belarus",currencyCode:"BYR",population:"9685000",capital:"Minsk",continentName:"Europe"},{countryCode:"BZ",countryName:"Belize",currencyCode:"BZD",population:"314522",capital:"Belmopan",continentName:"North America"},{countryCode:"CA",countryName:"Canada",currencyCode:"CAD",population:"33679000",capital:"Ottawa",continentName:"North America"},{countryCode:"CC",countryName:"Cocos [Keeling] Islands",currencyCode:"AUD",population:"628",capital:"West Island",continentName:"Asia"},{countryCode:"CD",countryName:"Democratic Republic of the Congo",currencyCode:"CDF",population:"70916439",capital:"Kinshasa",continentName:"Africa"},{countryCode:"CF",countryName:"Central African Republic",currencyCode:"XAF",population:"4844927",capital:"Bangui",continentName:"Africa"},{countryCode:"CG",countryName:"Republic of the Congo",currencyCode:"XAF",population:"3039126",capital:"Brazzaville",continentName:"Africa"},{countryCode:"CH",countryName:"Switzerland",currencyCode:"CHF",population:"7581000",capital:"Bern",continentName:"Europe"},{countryCode:"CI",countryName:"Ivory Coast",currencyCode:"XOF",population:"21058798",capital:"Yamoussoukro",continentName:"Africa"},{countryCode:"CK",countryName:"Cook Islands",currencyCode:"NZD",population:"21388",capital:"Avarua",continentName:"Oceania"},{countryCode:"CL",countryName:"Chile",currencyCode:"CLP",population:"16746491",capital:"Santiago",continentName:"South America"},{countryCode:"CM",countryName:"Cameroon",currencyCode:"XAF",population:"19294149",capital:"Yaound\xe9",continentName:"Africa"},{countryCode:"CN",countryName:"China",currencyCode:"CNY",population:"1330044000",capital:"Beijing",continentName:"Asia"},{countryCode:"CO",countryName:"Colombia",currencyCode:"COP",population:"47790000",capital:"Bogot\xe1",continentName:"South America"},{countryCode:"CR",countryName:"Costa Rica",currencyCode:"CRC",population:"4516220",capital:"San Jos\xe9",continentName:"North America"},{countryCode:"CU",countryName:"Cuba",currencyCode:"CUP",population:"11423000",capital:"Havana",continentName:"North America"},{countryCode:"CV",countryName:"Cape Verde",currencyCode:"CVE",population:"508659",capital:"Praia",continentName:"Africa"},{countryCode:"CW",countryName:"Curacao",currencyCode:"ANG",population:"141766",capital:"Willemstad",continentName:"North America"},{countryCode:"CX",countryName:"Christmas Island",currencyCode:"AUD",population:"1500",capital:"Flying Fish Cove",continentName:"Asia"},{countryCode:"CY",countryName:"Cyprus",currencyCode:"EUR",population:"1102677",capital:"Nicosia",continentName:"Europe"},{countryCode:"CZ",countryName:"Czechia",currencyCode:"CZK",population:"10476000",capital:"Prague",continentName:"Europe"},{countryCode:"DE",countryName:"Germany",currencyCode:"EUR",population:"81802257",capital:"Berlin",continentName:"Europe"},{countryCode:"DJ",countryName:"Djibouti",currencyCode:"DJF",population:"740528",capital:"Djibouti",continentName:"Africa"},{countryCode:"DK",countryName:"Denmark",currencyCode:"DKK",population:"5484000",capital:"Copenhagen",continentName:"Europe"},{countryCode:"DM",countryName:"Dominica",currencyCode:"XCD",population:"72813",capital:"Roseau",continentName:"North America"},{countryCode:"DO",countryName:"Dominican Republic",currencyCode:"DOP",population:"9823821",capital:"Santo Domingo",continentName:"North America"},{countryCode:"DZ",countryName:"Algeria",currencyCode:"DZD",population:"34586184",capital:"Algiers",continentName:"Africa"},{countryCode:"EC",countryName:"Ecuador",currencyCode:"USD",population:"14790608",capital:"Quito",continentName:"South America"},{countryCode:"EE",countryName:"Estonia",currencyCode:"EUR",population:"1291170",capital:"Tallinn",continentName:"Europe"},{countryCode:"EG",countryName:"Egypt",currencyCode:"EGP",population:"80471869",capital:"Cairo",continentName:"Africa"},{countryCode:"EH",countryName:"Western Sahara",currencyCode:"MAD",population:"273008",capital:"La\xe2youne / El Aai\xfan",continentName:"Africa"},{countryCode:"ER",countryName:"Eritrea",currencyCode:"ERN",population:"5792984",capital:"Asmara",continentName:"Africa"},{countryCode:"ES",countryName:"Spain",currencyCode:"EUR",population:"46505963",capital:"Madrid",continentName:"Europe"},{countryCode:"ET",countryName:"Ethiopia",currencyCode:"ETB",population:"88013491",capital:"Addis Ababa",continentName:"Africa"},{countryCode:"FI",countryName:"Finland",currencyCode:"EUR",population:"5244000",capital:"Helsinki",continentName:"Europe"},{countryCode:"FJ",countryName:"Fiji",currencyCode:"FJD",population:"875983",capital:"Suva",continentName:"Oceania"},{countryCode:"FK",countryName:"Falkland Islands",currencyCode:"FKP",population:"2638",capital:"Stanley",continentName:"South America"},{countryCode:"FM",countryName:"Micronesia",currencyCode:"USD",population:"107708",capital:"Palikir",continentName:"Oceania"},{countryCode:"FO",countryName:"Faroe Islands",currencyCode:"DKK",population:"48228",capital:"T\xf3rshavn",continentName:"Europe"},{countryCode:"FR",countryName:"France",currencyCode:"EUR",population:"64768389",capital:"Paris",continentName:"Europe"},{countryCode:"GA",countryName:"Gabon",currencyCode:"XAF",population:"1545255",capital:"Libreville",continentName:"Africa"},{countryCode:"GB",countryName:"United Kingdom",currencyCode:"GBP",population:"62348447",capital:"London",continentName:"Europe"},{countryCode:"GD",countryName:"Grenada",currencyCode:"XCD",population:"107818",capital:"St. George's",continentName:"North America"},{countryCode:"GE",countryName:"Georgia",currencyCode:"GEL",population:"4630000",capital:"Tbilisi",continentName:"Asia"},{countryCode:"GF",countryName:"French Guiana",currencyCode:"EUR",population:"195506",capital:"Cayenne",continentName:"South America"},{countryCode:"GG",countryName:"Guernsey",currencyCode:"GBP",population:"65228",capital:"St Peter Port",continentName:"Europe"},{countryCode:"GH",countryName:"Ghana",currencyCode:"GHS",population:"24339838",capital:"Accra",continentName:"Africa"},{countryCode:"GI",countryName:"Gibraltar",currencyCode:"GIP",population:"27884",capital:"Gibraltar",continentName:"Europe"},{countryCode:"GL",countryName:"Greenland",currencyCode:"DKK",population:"56375",capital:"Nuuk",continentName:"North America"},{countryCode:"GM",countryName:"Gambia",currencyCode:"GMD",population:"1593256",capital:"Bathurst",continentName:"Africa"},{countryCode:"GN",countryName:"Guinea",currencyCode:"GNF",population:"10324025",capital:"Conakry",continentName:"Africa"},{countryCode:"GP",countryName:"Guadeloupe",currencyCode:"EUR",population:"443000",capital:"Basse-Terre",continentName:"North America"},{countryCode:"GQ",countryName:"Equatorial Guinea",currencyCode:"XAF",population:"1014999",capital:"Malabo",continentName:"Africa"},{countryCode:"GR",countryName:"Greece",currencyCode:"EUR",population:"11000000",capital:"Athens",continentName:"Europe"},{countryCode:"GS",countryName:"South Georgia and the South Sandwich Islands",currencyCode:"GBP",population:"30",capital:"Grytviken",continentName:"Antarctica"},{countryCode:"GT",countryName:"Guatemala",currencyCode:"GTQ",population:"13550440",capital:"Guatemala City",continentName:"North America"},{countryCode:"GU",countryName:"Guam",currencyCode:"USD",population:"159358",capital:"Hag\xe5t\xf1a",continentName:"Oceania"},{countryCode:"GW",countryName:"Guinea-Bissau",currencyCode:"XOF",population:"1565126",capital:"Bissau",continentName:"Africa"},{countryCode:"GY",countryName:"Guyana",currencyCode:"GYD",population:"748486",capital:"Georgetown",continentName:"South America"},{countryCode:"HK",countryName:"Hong Kong",currencyCode:"HKD",population:"6898686",capital:"Hong Kong",continentName:"Asia"},{countryCode:"HM",countryName:"Heard Island and McDonald Islands",currencyCode:"AUD",population:"0",capital:"",continentName:"Antarctica"},{countryCode:"HN",countryName:"Honduras",currencyCode:"HNL",population:"7989415",capital:"Tegucigalpa",continentName:"North America"},{countryCode:"HR",countryName:"Croatia",currencyCode:"HRK",population:"4284889",capital:"Zagreb",continentName:"Europe"},{countryCode:"HT",countryName:"Haiti",currencyCode:"HTG",population:"9648924",capital:"Port-au-Prince",continentName:"North America"},{countryCode:"HU",countryName:"Hungary",currencyCode:"HUF",population:"9982000",capital:"Budapest",continentName:"Europe"},{countryCode:"ID",countryName:"Indonesia",currencyCode:"IDR",population:"242968342",capital:"Jakarta",continentName:"Asia"},{countryCode:"IE",countryName:"Ireland",currencyCode:"EUR",population:"4622917",capital:"Dublin",continentName:"Europe"},{countryCode:"IL",countryName:"Israel",currencyCode:"ILS",population:"7353985",capital:"",continentName:"Asia"},{countryCode:"IM",countryName:"Isle of Man",currencyCode:"GBP",population:"75049",capital:"Douglas",continentName:"Europe"},{countryCode:"IN",countryName:"India",currencyCode:"INR",population:"1173108018",capital:"New Delhi",continentName:"Asia"},{countryCode:"IO",countryName:"British Indian Ocean Territory",currencyCode:"USD",population:"4000",capital:"",continentName:"Asia"},{countryCode:"IQ",countryName:"Iraq",currencyCode:"IQD",population:"29671605",capital:"Baghdad",continentName:"Asia"},{countryCode:"IR",countryName:"Iran",currencyCode:"IRR",population:"76923300",capital:"Tehran",continentName:"Asia"},{countryCode:"IS",countryName:"Iceland",currencyCode:"ISK",population:"308910",capital:"Reykjavik",continentName:"Europe"},{countryCode:"IT",countryName:"Italy",currencyCode:"EUR",population:"60340328",capital:"Rome",continentName:"Europe"},{countryCode:"JE",countryName:"Jersey",currencyCode:"GBP",population:"90812",capital:"Saint Helier",continentName:"Europe"},{countryCode:"JM",countryName:"Jamaica",currencyCode:"JMD",population:"2847232",capital:"Kingston",continentName:"North America"},{countryCode:"JO",countryName:"Jordan",currencyCode:"JOD",population:"6407085",capital:"Amman",continentName:"Asia"},{countryCode:"JP",countryName:"Japan",currencyCode:"JPY",population:"127288000",capital:"Tokyo",continentName:"Asia"},{countryCode:"KE",countryName:"Kenya",currencyCode:"KES",population:"40046566",capital:"Nairobi",continentName:"Africa"},{countryCode:"KG",countryName:"Kyrgyzstan",currencyCode:"KGS",population:"5776500",capital:"Bishkek",continentName:"Asia"},{countryCode:"KH",countryName:"Cambodia",currencyCode:"KHR",population:"14453680",capital:"Phnom Penh",continentName:"Asia"},{countryCode:"KI",countryName:"Kiribati",currencyCode:"AUD",population:"92533",capital:"Tarawa",continentName:"Oceania"},{countryCode:"KM",countryName:"Comoros",currencyCode:"KMF",population:"773407",capital:"Moroni",continentName:"Africa"},{countryCode:"KN",countryName:"Saint Kitts and Nevis",currencyCode:"XCD",population:"51134",capital:"Basseterre",continentName:"North America"},{countryCode:"KP",countryName:"North Korea",currencyCode:"KPW",population:"22912177",capital:"Pyongyang",continentName:"Asia"},{countryCode:"KR",countryName:"South Korea",currencyCode:"KRW",population:"48422644",capital:"Seoul",continentName:"Asia"},{countryCode:"KW",countryName:"Kuwait",currencyCode:"KWD",population:"2789132",capital:"Kuwait City",continentName:"Asia"},{countryCode:"KY",countryName:"Cayman Islands",currencyCode:"KYD",population:"44270",capital:"George Town",continentName:"North America"},{countryCode:"KZ",countryName:"Kazakhstan",currencyCode:"KZT",population:"15340000",capital:"Astana",continentName:"Asia"},{countryCode:"LA",countryName:"Laos",currencyCode:"LAK",population:"6368162",capital:"Vientiane",continentName:"Asia"},{countryCode:"LB",countryName:"Lebanon",currencyCode:"LBP",population:"4125247",capital:"Beirut",continentName:"Asia"},{countryCode:"LC",countryName:"Saint Lucia",currencyCode:"XCD",population:"160922",capital:"Castries",continentName:"North America"},{countryCode:"LI",countryName:"Liechtenstein",currencyCode:"CHF",population:"35000",capital:"Vaduz",continentName:"Europe"},{countryCode:"LK",countryName:"Sri Lanka",currencyCode:"LKR",population:"21513990",capital:"Colombo",continentName:"Asia"},{countryCode:"LR",countryName:"Liberia",currencyCode:"LRD",population:"3685076",capital:"Monrovia",continentName:"Africa"},{countryCode:"LS",countryName:"Lesotho",currencyCode:"LSL",population:"1919552",capital:"Maseru",continentName:"Africa"},{countryCode:"LT",countryName:"Lithuania",currencyCode:"EUR",population:"2944459",capital:"Vilnius",continentName:"Europe"},{countryCode:"LU",countryName:"Luxembourg",currencyCode:"EUR",population:"497538",capital:"Luxembourg",continentName:"Europe"},{countryCode:"LV",countryName:"Latvia",currencyCode:"EUR",population:"2217969",capital:"Riga",continentName:"Europe"},{countryCode:"LY",countryName:"Libya",currencyCode:"LYD",population:"6461454",capital:"Tripoli",continentName:"Africa"},{countryCode:"MA",countryName:"Morocco",currencyCode:"MAD",population:"33848242",capital:"Rabat",continentName:"Africa"},{countryCode:"MC",countryName:"Monaco",currencyCode:"EUR",population:"32965",capital:"Monaco",continentName:"Europe"},{countryCode:"MD",countryName:"Moldova",currencyCode:"MDL",population:"4324000",capital:"Chi\u015fin\u0103u",continentName:"Europe"},{countryCode:"ME",countryName:"Montenegro",currencyCode:"EUR",population:"666730",capital:"Podgorica",continentName:"Europe"},{countryCode:"MF",countryName:"Saint Martin",currencyCode:"EUR",population:"35925",capital:"Marigot",continentName:"North America"},{countryCode:"MG",countryName:"Madagascar",currencyCode:"MGA",population:"21281844",capital:"Antananarivo",continentName:"Africa"},{countryCode:"MH",countryName:"Marshall Islands",currencyCode:"USD",population:"65859",capital:"Majuro",continentName:"Oceania"},{countryCode:"MK",countryName:"Macedonia",currencyCode:"MKD",population:"2062294",capital:"Skopje",continentName:"Europe"},{countryCode:"ML",countryName:"Mali",currencyCode:"XOF",population:"13796354",capital:"Bamako",continentName:"Africa"},{countryCode:"MM",countryName:"Myanmar [Burma]",currencyCode:"MMK",population:"53414374",capital:"Naypyitaw",continentName:"Asia"},{countryCode:"MN",countryName:"Mongolia",currencyCode:"MNT",population:"3086918",capital:"Ulan Bator",continentName:"Asia"},{countryCode:"MO",countryName:"Macao",currencyCode:"MOP",population:"449198",capital:"Macao",continentName:"Asia"},{countryCode:"MP",countryName:"Northern Mariana Islands",currencyCode:"USD",population:"53883",capital:"Saipan",continentName:"Oceania"},{countryCode:"MQ",countryName:"Martinique",currencyCode:"EUR",population:"432900",capital:"Fort-de-France",continentName:"North America"},{countryCode:"MR",countryName:"Mauritania",currencyCode:"MRO",population:"3205060",capital:"Nouakchott",continentName:"Africa"},{countryCode:"MS",countryName:"Montserrat",currencyCode:"XCD",population:"9341",capital:"Plymouth",continentName:"North America"},{countryCode:"MT",countryName:"Malta",currencyCode:"EUR",population:"403000",capital:"Valletta",continentName:"Europe"},{countryCode:"MU",countryName:"Mauritius",currencyCode:"MUR",population:"1294104",capital:"Port Louis",continentName:"Africa"},{countryCode:"MV",countryName:"Maldives",currencyCode:"MVR",population:"395650",capital:"Mal\xe9",continentName:"Asia"},{countryCode:"MW",countryName:"Malawi",currencyCode:"MWK",population:"15447500",capital:"Lilongwe",continentName:"Africa"},{countryCode:"MX",countryName:"Mexico",currencyCode:"MXN",population:"112468855",capital:"Mexico City",continentName:"North America"},{countryCode:"MY",countryName:"Malaysia",currencyCode:"MYR",population:"28274729",capital:"Kuala Lumpur",continentName:"Asia"},{countryCode:"MZ",countryName:"Mozambique",currencyCode:"MZN",population:"22061451",capital:"Maputo",continentName:"Africa"},{countryCode:"NA",countryName:"Namibia",currencyCode:"NAD",population:"2128471",capital:"Windhoek",continentName:"Africa"},{countryCode:"NC",countryName:"New Caledonia",currencyCode:"XPF",population:"216494",capital:"Noumea",continentName:"Oceania"},{countryCode:"NE",countryName:"Niger",currencyCode:"XOF",population:"15878271",capital:"Niamey",continentName:"Africa"},{countryCode:"NF",countryName:"Norfolk Island",currencyCode:"AUD",population:"1828",capital:"Kingston",continentName:"Oceania"},{countryCode:"NG",countryName:"Nigeria",currencyCode:"NGN",population:"154000000",capital:"Abuja",continentName:"Africa"},{countryCode:"NI",countryName:"Nicaragua",currencyCode:"NIO",population:"5995928",capital:"Managua",continentName:"North America"},{countryCode:"NL",countryName:"Netherlands",currencyCode:"EUR",population:"16645000",capital:"Amsterdam",continentName:"Europe"},{countryCode:"NO",countryName:"Norway",currencyCode:"NOK",population:"5009150",capital:"Oslo",continentName:"Europe"},{countryCode:"NP",countryName:"Nepal",currencyCode:"NPR",population:"28951852",capital:"Kathmandu",continentName:"Asia"},{countryCode:"NR",countryName:"Nauru",currencyCode:"AUD",population:"10065",capital:"Yaren",continentName:"Oceania"},{countryCode:"NU",countryName:"Niue",currencyCode:"NZD",population:"2166",capital:"Alofi",continentName:"Oceania"},{countryCode:"NZ",countryName:"New Zealand",currencyCode:"NZD",population:"4252277",capital:"Wellington",continentName:"Oceania"},{countryCode:"OM",countryName:"Oman",currencyCode:"OMR",population:"2967717",capital:"Muscat",continentName:"Asia"},{countryCode:"PA",countryName:"Panama",currencyCode:"PAB",population:"3410676",capital:"Panama City",continentName:"North America"},{countryCode:"PE",countryName:"Peru",currencyCode:"PEN",population:"29907003",capital:"Lima",continentName:"South America"},{countryCode:"PF",countryName:"French Polynesia",currencyCode:"XPF",population:"270485",capital:"Papeete",continentName:"Oceania"},{countryCode:"PG",countryName:"Papua New Guinea",currencyCode:"PGK",population:"6064515",capital:"Port Moresby",continentName:"Oceania"},{countryCode:"PH",countryName:"Philippines",currencyCode:"PHP",population:"99900177",capital:"Manila",continentName:"Asia"},{countryCode:"PK",countryName:"Pakistan",currencyCode:"PKR",population:"184404791",capital:"Islamabad",continentName:"Asia"},{countryCode:"PL",countryName:"Poland",currencyCode:"PLN",population:"38500000",capital:"Warsaw",continentName:"Europe"},{countryCode:"PM",countryName:"Saint Pierre and Miquelon",currencyCode:"EUR",population:"7012",capital:"Saint-Pierre",continentName:"North America"},{countryCode:"PN",countryName:"Pitcairn Islands",currencyCode:"NZD",population:"46",capital:"Adamstown",continentName:"Oceania"},{countryCode:"PR",countryName:"Puerto Rico",currencyCode:"USD",population:"3916632",capital:"San Juan",continentName:"North America"},{countryCode:"PS",countryName:"Palestine",currencyCode:"ILS",population:"3800000",capital:"",continentName:"Asia"},{countryCode:"PT",countryName:"Portugal",currencyCode:"EUR",population:"10676000",capital:"Lisbon",continentName:"Europe"},{countryCode:"PW",countryName:"Palau",currencyCode:"USD",population:"19907",capital:"Melekeok",continentName:"Oceania"},{countryCode:"PY",countryName:"Paraguay",currencyCode:"PYG",population:"6375830",capital:"Asunci\xf3n",continentName:"South America"},{countryCode:"QA",countryName:"Qatar",currencyCode:"QAR",population:"840926",capital:"Doha",continentName:"Asia"},{countryCode:"RE",countryName:"R\xe9union",currencyCode:"EUR",population:"776948",capital:"Saint-Denis",continentName:"Africa"},{countryCode:"RO",countryName:"Romania",currencyCode:"RON",population:"21959278",capital:"Bucharest",continentName:"Europe"},{countryCode:"RS",countryName:"Serbia",currencyCode:"RSD",population:"7344847",capital:"Belgrade",continentName:"Europe"},{countryCode:"RU",countryName:"Russia",currencyCode:"RUB",population:"140702000",capital:"Moscow",continentName:"Europe"},{countryCode:"RW",countryName:"Rwanda",currencyCode:"RWF",population:"11055976",capital:"Kigali",continentName:"Africa"},{countryCode:"SA",countryName:"Saudi Arabia",currencyCode:"SAR",population:"25731776",capital:"Riyadh",continentName:"Asia"},{countryCode:"SB",countryName:"Solomon Islands",currencyCode:"SBD",population:"559198",capital:"Honiara",continentName:"Oceania"},{countryCode:"SC",countryName:"Seychelles",currencyCode:"SCR",population:"88340",capital:"Victoria",continentName:"Africa"},{countryCode:"SD",countryName:"Sudan",currencyCode:"SDG",population:"35000000",capital:"Khartoum",continentName:"Africa"},{countryCode:"SE",countryName:"Sweden",currencyCode:"SEK",population:"9828655",capital:"Stockholm",continentName:"Europe"},{countryCode:"SG",countryName:"Singapore",currencyCode:"SGD",population:"4701069",capital:"Singapore",continentName:"Asia"},{countryCode:"SH",countryName:"Saint Helena",currencyCode:"SHP",population:"7460",capital:"Jamestown",continentName:"Africa"},{countryCode:"SI",countryName:"Slovenia",currencyCode:"EUR",population:"2007000",capital:"Ljubljana",continentName:"Europe"},{countryCode:"SJ",countryName:"Svalbard and Jan Mayen",currencyCode:"NOK",population:"2550",capital:"Longyearbyen",continentName:"Europe"},{countryCode:"SK",countryName:"Slovakia",currencyCode:"EUR",population:"5455000",capital:"Bratislava",continentName:"Europe"},{countryCode:"SL",countryName:"Sierra Leone",currencyCode:"SLL",population:"5245695",capital:"Freetown",continentName:"Africa"},{countryCode:"SM",countryName:"San Marino",currencyCode:"EUR",population:"31477",capital:"San Marino",continentName:"Europe"},{countryCode:"SN",countryName:"Senegal",currencyCode:"XOF",population:"12323252",capital:"Dakar",continentName:"Africa"},{countryCode:"SO",countryName:"Somalia",currencyCode:"SOS",population:"10112453",capital:"Mogadishu",continentName:"Africa"},{countryCode:"SR",countryName:"Suriname",currencyCode:"SRD",population:"492829",capital:"Paramaribo",continentName:"South America"},{countryCode:"SS",countryName:"South Sudan",currencyCode:"SSP",population:"8260490",capital:"Juba",continentName:"Africa"},{countryCode:"ST",countryName:"S\xe3o Tom\xe9 and Pr\xedncipe",currencyCode:"STD",population:"175808",capital:"S\xe3o Tom\xe9",continentName:"Africa"},{countryCode:"SV",countryName:"El Salvador",currencyCode:"USD",population:"6052064",capital:"San Salvador",continentName:"North America"},{countryCode:"SX",countryName:"Sint Maarten",currencyCode:"ANG",population:"37429",capital:"Philipsburg",continentName:"North America"},{countryCode:"SY",countryName:"Syria",currencyCode:"SYP",population:"22198110",capital:"Damascus",continentName:"Asia"},{countryCode:"SZ",countryName:"Swaziland",currencyCode:"SZL",population:"1354051",capital:"Mbabane",continentName:"Africa"},{countryCode:"TC",countryName:"Turks and Caicos Islands",currencyCode:"USD",population:"20556",capital:"Cockburn Town",continentName:"North America"},{countryCode:"TD",countryName:"Chad",currencyCode:"XAF",population:"10543464",capital:"N'Djamena",continentName:"Africa"},{countryCode:"TF",countryName:"French Southern Territories",currencyCode:"EUR",population:"140",capital:"Port-aux-Fran\xe7ais",continentName:"Antarctica"},{countryCode:"TG",countryName:"Togo",currencyCode:"XOF",population:"6587239",capital:"Lom\xe9",continentName:"Africa"},{countryCode:"TH",countryName:"Thailand",currencyCode:"THB",population:"67089500",capital:"Bangkok",continentName:"Asia"},{countryCode:"TJ",countryName:"Tajikistan",currencyCode:"TJS",population:"7487489",capital:"Dushanbe",continentName:"Asia"},{countryCode:"TK",countryName:"Tokelau",currencyCode:"NZD",population:"1466",capital:"",continentName:"Oceania"},{countryCode:"TL",countryName:"East Timor",currencyCode:"USD",population:"1154625",capital:"Dili",continentName:"Oceania"},{countryCode:"TM",countryName:"Turkmenistan",currencyCode:"TMT",population:"4940916",capital:"Ashgabat",continentName:"Asia"},{countryCode:"TN",countryName:"Tunisia",currencyCode:"TND",population:"10589025",capital:"Tunis",continentName:"Africa"},{countryCode:"TO",countryName:"Tonga",currencyCode:"TOP",population:"122580",capital:"Nuku'alofa",continentName:"Oceania"},{countryCode:"TR",countryName:"Turkey",currencyCode:"TRY",population:"77804122",capital:"Ankara",continentName:"Asia"},{countryCode:"TT",countryName:"Trinidad and Tobago",currencyCode:"TTD",population:"1228691",capital:"Port of Spain",continentName:"North America"},{countryCode:"TV",countryName:"Tuvalu",currencyCode:"AUD",population:"10472",capital:"Funafuti",continentName:"Oceania"},{countryCode:"TW",countryName:"Taiwan",currencyCode:"TWD",population:"22894384",capital:"Taipei",continentName:"Asia"},{countryCode:"TZ",countryName:"Tanzania",currencyCode:"TZS",population:"41892895",capital:"Dodoma",continentName:"Africa"},{countryCode:"UA",countryName:"Ukraine",currencyCode:"UAH",population:"45415596",capital:"Kiev",continentName:"Europe"},{countryCode:"UG",countryName:"Uganda",currencyCode:"UGX",population:"33398682",capital:"Kampala",continentName:"Africa"},{countryCode:"UM",countryName:"U.S. Minor Outlying Islands",currencyCode:"USD",population:"0",capital:"",continentName:"Oceania"},{countryCode:"US",countryName:"United States",currencyCode:"USD",population:"310232863",capital:"Washington",continentName:"North America"},{countryCode:"UY",countryName:"Uruguay",currencyCode:"UYU",population:"3477000",capital:"Montevideo",continentName:"South America"},{countryCode:"UZ",countryName:"Uzbekistan",currencyCode:"UZS",population:"27865738",capital:"Tashkent",continentName:"Asia"},{countryCode:"VA",countryName:"Vatican City",currencyCode:"EUR",population:"921",capital:"Vatican City",continentName:"Europe"},{countryCode:"VC",countryName:"Saint Vincent and the Grenadines",currencyCode:"XCD",population:"104217",capital:"Kingstown",continentName:"North America"},{countryCode:"VE",countryName:"Venezuela",currencyCode:"VEF",population:"27223228",capital:"Caracas",continentName:"South America"},{countryCode:"VG",countryName:"British Virgin Islands",currencyCode:"USD",population:"21730",capital:"Road Town",continentName:"North America"},{countryCode:"VI",countryName:"U.S. Virgin Islands",currencyCode:"USD",population:"108708",capital:"Charlotte Amalie",continentName:"North America"},{countryCode:"VN",countryName:"Vietnam",currencyCode:"VND",population:"89571130",capital:"Hanoi",continentName:"Asia"},{countryCode:"VU",countryName:"Vanuatu",currencyCode:"VUV",population:"221552",capital:"Port Vila",continentName:"Oceania"},{countryCode:"WF",countryName:"Wallis and Futuna",currencyCode:"XPF",population:"16025",capital:"Mata-Utu",continentName:"Oceania"},{countryCode:"WS",countryName:"Samoa",currencyCode:"WST",population:"192001",capital:"Apia",continentName:"Oceania"},{countryCode:"XK",countryName:"Kosovo",currencyCode:"EUR",population:"1800000",capital:"Pristina",continentName:"Europe"},{countryCode:"YE",countryName:"Yemen",currencyCode:"YER",population:"23495361",capital:"Sanaa",continentName:"Asia"},{countryCode:"YT",countryName:"Mayotte",currencyCode:"EUR",population:"159042",capital:"Mamoudzou",continentName:"Africa"},{countryCode:"ZA",countryName:"South Africa",currencyCode:"ZAR",population:"49000000",capital:"Pretoria",continentName:"Africa"},{countryCode:"ZM",countryName:"Zambia",currencyCode:"ZMW",population:"13460305",capital:"Lusaka",continentName:"Africa"},{countryCode:"ZW",countryName:"Zimbabwe",currencyCode:"ZWL",population:"13061000",capital:"Harare",continentName:"Africa"}],xc=n(184);var _c,Ec=function(){var e=[{id:1,type:(0,xc.jsx)(vc,{size:20,color:"darkorange"})},{id:2,type:(0,xc.jsx)(bc,{size:20,color:"white"})},{id:3,type:(0,xc.jsx)(pc,{size:20,color:"white"})}],t=c(r.useState("United States"),2),n=t[0],i=t[1],a=c(r.useState(!1),2),o=a[0],s=a[1],u=c(r.useState(!1),2),l=u[0],h=u[1],f=c(r.useState({name:"",email:"",subject:"",message:"",error:null}),2),d=f[0],p=f[1],v=function(e){p(tc(tc({},d),{},ye({},e.target.name,e.target.value)))};return(0,xc.jsxs)("footer",{className:"tw-flex tw-bg-gradient-to-r tw-from-pink-800 tw-to-slate-900 tw-flex-col tw-py-5 tw-justify-center tw-items-center tw-border-t-[1px] tw-border-neutral-300 tw-text-white",children:[(0,xc.jsx)("span",{className:"tw-text-center tw-mb-5 tw-text-sm tw-font-light",children:"Quick Links"}),(0,xc.jsxs)("div",{className:"xl:tw-w-[60%] tw-w-full md:tw-w-[90%] tw-px-5 md:tw-px-10 tw-flex tw-flex-col md:tw-flex-row md:tw-justify-between tw-border-b tw-border-neutral-900 tw-mb-5",children:[(0,xc.jsxs)("div",{className:"tw-w-full tw-grid tw-grid-cols-2 tw-gap-2 md:tw-mr-10 tw-text-white md:tw-border-r-[1px] md:tw-border-neutral-900 md:tw-pr-20 tw-mb-10",children:[(0,xc.jsxs)("div",{className:"tw-mb-5",children:[(0,xc.jsx)("h1",{className:"tw-text-xs tw-font-bold  tw-mb-2",children:"Indian Hair"}),(0,xc.jsx)("ul",{className:"tw-flex tw-flex-col tw-justify-center tw-text-xs tw-font-light tw-mb-1",children:[{id:"1",name:"Bundles (Indian)",route:"/indian-bundles"},{id:"2",name:"Closure / Frontal (Indian)",route:"/indian-closure-frontal"},{id:"3",name:"Jet Black / Blonde (Indian)",route:"/indian-jet-black-&-blonde"}].map((function(e){return(0,xc.jsx)($,{to:e.route,className:"hover:tw-cursor-pointer hover:tw-underline tw-mb-1 ",children:e.name},e.id)}))})]}),(0,xc.jsxs)("div",{className:"tw-mb-5",children:[(0,xc.jsx)("h1",{className:"tw-text-xs tw-font-bold  tw-mb-2",children:"Vietnamese Hair"}),(0,xc.jsx)("ul",{className:"tw-flex tw-flex-col tw-justify-center tw-text-xs tw-font-light tw-mb-1",children:[{id:"1",name:"Bundles (Vietnamese)"},{id:"2",name:"Closure / Frontal (Vietnamese)"},{id:"3",name:"Jet Black / Blonde (Vietnamese)"}].map((function(e){return(0,xc.jsxs)($,{to:"/",className:"hover:tw-cursor-pointer hover:tw-underline tw-mb-1 ",children:[e.name," ",(0,xc.jsx)("span",{className:"tw-text-[10px] tw-font-bold",children:"- coming soon..."})]},e.id)}))})]}),(0,xc.jsxs)("div",{className:"tw-mb-5",children:[(0,xc.jsx)("h1",{className:"tw-text-xs tw-font-bold  tw-mb-2",children:"Brazillian Hair"}),(0,xc.jsx)("ul",{className:"tw-flex tw-flex-col tw-justify-center tw-text-xs tw-font-light tw-mb-1",children:[{id:"1",name:"Bundles (Brazillian)"},{id:"2",name:"Closure / Frontal (Brazillian)"},{id:"3",name:"Jet Black / Blonde (Brazillian)"}].map((function(e){return(0,xc.jsxs)($,{to:"/",className:"hover:tw-cursor-pointer hover:tw-underline tw-mb-1 ",children:[e.name," ",(0,xc.jsx)("span",{className:"tw-text-[10px] tw-font-bold",children:"- coming soon..."})]},e.id)}))})]})]}),(0,xc.jsxs)("div",{className:" tw-text-white",children:[(0,xc.jsx)("h1",{className:"tw-text-xs tw-font-bold  tw-mb-2",children:"Customer Service"}),(0,xc.jsx)("ul",{className:"tw-flex tw-flex-col tw-justify-center tw-text-xs tw-font-light tw-mb-1",children:[{id:1,name:"Contact Us"},{id:2,name:"Terms and Conditions"},{id:3,name:"Shipping & Returns"},{id:4,name:"Privacy Policy"}].map((function(e){return(0,xc.jsx)("li",{onClick:"Contact Us"===e.name?function(){s(!o),h(!1)}:"Terms and Conditions"===e.name?function(){h(!l),s(!1)}:null,className:"hover:tw-cursor-pointer hover:tw-underline tw-mb-1 ",children:e.name},e.id)}))}),(0,xc.jsxs)("div",{className:"tw-border-neutral-100 tw-w-full tw-flex tw-flex-col tw-mt-5 tw-mb-5 tw-pb-5 tw-pt-5 md:tw-items-center tw-text-white",children:[(0,xc.jsx)("span",{className:"tw-text-xs tw-font-light tw-tracking-widest tw-mb-1",children:"Country/region"}),(0,xc.jsx)("select",{className:"tw-w-[220px] tw-mb-5 tw-text-neutral-500 tw-font-light tw-bg-white tw-block tw-px-3 tw-py-2 tw-border-neutral-500 tw-rounded-[2px] tw-text-xs tw-border-[1px] tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:function(e){i(e.target.value),localStorage.setItem("country",e.target.value)},id:"country",value:n,name:"country",children:kc.map((function(e,t){return(0,xc.jsxs)("option",{children:[e.countryName," - ",e.currencyCode]},t)}))})]})]})]}),o&&(0,xc.jsxs)("form",{onSubmit:function(e){e.preventDefault();try{window.open("mailto:'modelEst1010@gmail.com'?subject=".concat(d.subject,"&body=").concat(d.name,": ").concat(d.message,". My email is ").concat(d.email)),p({name:"",email:"",subject:"",message:"",error:null})}catch(Dn){console.log(Dn),p(tc(tc({},d),{},{error:Dn.message}))}s(!1)},className:"tw-w-full tw-flex tw-flex-col tw-items-center md:tw-max-w-[80%] tw-bg-neutral-50 tw-py-5 tw-mb-5",children:[(0,xc.jsx)("span",{className:"tw-text-2xl tw-font-light tw-mb-1 tw-mt-5",children:"Contact - ModelEst"}),(0,xc.jsx)("p",{className:"tw-font-light tw-text-[14px] tw-max-w-[80%] lg:tw-max-w-[50%] tw-my-5",children:"We at modelEst are customer centric, we take pride in our customers. We are committed in helping with picking the right hair for you, adequate information regarding education on hair maintenance, and providing high quality hair extensions. We value you our customers and we are committed to long time support. Our customers are our sister\u2019s. We respond within 24-48 business hours Monday - Friday."}),(0,xc.jsxs)("div",{className:"md:tw-w-[90%] lg:tw-w-[70%] 2xl:tw-w-[50%] tw-mx-auto tw-flex tw-flex-col tw-items-center",children:[(0,xc.jsx)("input",{type:"text",name:"name",id:"name",value:d.name,onChange:v,placeholder:"Full Name",className:"tw-w-[100%] tw-mb-5 tw-text-neutral-500 tw-font-light tw-bg-white tw-block tw-px-3 tw-py-2 tw-border-gray-200 tw-rounded-[2px] tw-text-xs tw-border-[1px] tw-placeholder-neutral-400 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0"}),(0,xc.jsx)("input",{type:"text",name:"email",id:"email",value:d.email,onChange:v,placeholder:"Email",className:"tw-w-[100%] tw-mb-5 tw-text-neutral-500 tw-font-light tw-bg-white tw-block tw-px-3 tw-py-2 tw-border-gray-200 tw-rounded-[2px] tw-text-xs tw-border-[1px] tw-placeholder-neutral-400 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0"}),(0,xc.jsx)("input",{type:"text",name:"subject",id:"subject",value:d.subject,onChange:v,placeholder:"subject / order - number",className:"tw-w-[100%] tw-mb-5 tw-text-neutral-500 tw-font-light tw-bg-white tw-block tw-px-3 tw-py-2 tw-border-gray-200 tw-rounded-[2px] tw-text-xs tw-border-[1px] tw-placeholder-neutral-400 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0"}),(0,xc.jsx)("textarea",{id:"message",rows:"4",cols:"50",name:"message",value:d.message,onChange:v,placeholder:"message...",className:"tw-w-[100%] tw-mb-5 tw-text-neutral-500 tw-font-light tw-bg-white tw-block tw-px-3 tw-py-2 tw-border-gray-200 tw-rounded-[2px] tw-text-xs tw-border-[1px] tw-placeholder-neutral-400 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0"}),(0,xc.jsx)("div",{className:"tw-text-center tw-text-xs tw-text-red-800",children:d.error?(0,xc.jsxs)("p",{children:["Error message: ",d.error]}):null}),(0,xc.jsx)("button",{className:"tw-bg-neutral-600 tw-w-[70%] tw-text-white tw-py-2 tw-text-sm tw-font-light tw-tracking-wide",type:"submit",children:"submit"})]})]}),l&&(0,xc.jsxs)("div",{className:"tw-w-[80%] tw-text-sm tw-font-light",children:[(0,xc.jsx)("div",{className:"tw-text-center tw-mb-4 tw-mt-5 tw-font-light tw-text-lg tw-uppercase tw-border-b",children:(0,xc.jsx)("span",{children:"Terms and Services"})}),(0,xc.jsxs)("p",{children:["This website is operated by Only Raw Beauty. Throughout the site, the terms \u201cwe\u201d, \u201cus\u201d and \u201cour\u201d refer to Only Raw Beauty. Only Raw Beauty offers this website, including all information, tools and services available from this site to you, the user, conditioned upon your acceptance of all terms, conditions, policies and notices stated here.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"By visiting our site and/ or purchasing something from us, you engage in our \u201cService\u201d and agree to be bound by the following terms and conditions (\u201cTerms of Service\u201d, \u201cTerms\u201d), including those additional terms and conditions and policies referenced herein and/or available by hyperlink. These Terms of Service apply to all users of the site, including without limitation users who are browsers, vendors, customers, merchants, and/ or contributors of content.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Please read these Terms of Service carefully before accessing or using our website. By accessing or using any part of the site, you agree to be bound by these Terms of Service. If you do not agree to all the terms and conditions of this agreement, then you may not access the website or use any services. If these Terms of Service are considered an offer, acceptance is expressly limited to these Terms of Service.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Any new features or tools which are added to the current store shall also be subject to the Terms of Service. You can review the most current version of the Terms of Service at any time on this page. We reserve the right to update, change or replace any part of these Terms of Service by posting updates and/or changes to our website. It is your responsibility to check this page periodically for changes. Your continued use of or access to the website following the posting of any changes constitutes acceptance of those changes.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Our store is hosted on Shopify Inc. They provide us with the online e-commerce platform that allows us to sell our products and services to you.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 1 - ONLINE STORE TERMS"}),(0,xc.jsx)("br",{}),"By agreeing to these Terms of Service, you represent that you are at least the age of majority in your state or province of residence, or that you are the age of majority in your state or province of residence and you have given us your consent to allow any of your minor dependents to use this site.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You may not use our products for any illegal or unauthorized purpose nor may you, in the use of the Service, violate any laws in your jurisdiction (including but not limited to copyright laws).",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You must not transmit any worms or viruses or any code of a destructive nature.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"A breach or violation of any of the Terms will result in an immediate termination of your Services.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 2 - GENERAL CONDITIONS"}),(0,xc.jsx)("br",{}),"We reserve the right to refuse service to anyone for any reason at any time.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You understand that your content (not including credit card information), may be transferred unencrypted and involve (a) transmissions over various networks; and (b) changes to conform and adapt to technical requirements of connecting networks or devices. Credit card information is always encrypted during transfer over networks.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You agree not to reproduce, duplicate, copy, sell, resell or exploit any portion of the Service, use of the Service, or access to the Service or any contact on the website through which the service is provided, without express written permission by us.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"The headings used in this agreement are included for convenience only and will not limit or otherwise affect these Terms.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 3 - ACCURACY, COMPLETENESS AND TIMELINESS OF INFORMATION"}),(0,xc.jsx)("br",{}),"We are not responsible if information made available on this site is not accurate, complete or current. The material on this site is provided for general information only and should not be relied upon or used as the sole basis for making decisions without consulting primary, more accurate, more complete or more timely sources of information. Any reliance on the material on this site is at your own risk.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"This site may contain certain historical information. Historical information, necessarily, is not current and is provided for your reference only. We reserve the right to modify the contents of this site at any time, but we have no obligation to update any information on our site. You agree that it is your responsibility to monitor changes to our site.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 4 - MODIFICATIONS TO THE SERVICE AND PRICES"}),"Prices for our products are subject to change without notice.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We reserve the right at any time to modify or discontinue the Service (or any part or content thereof) without notice at any time.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We shall not be liable to you or to any third-party for any modification, price change, suspension or discontinuance of the Service.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 5 - PRODUCTS OR SERVICES (if applicable)"}),"Certain products or services may be available exclusively online through the website. These products or services may have limited quantities and are subject to return or exchange only according to our Return Policy.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We have made every effort to display as accurately as possible the colors and images of our products that appear at the store. We cannot guarantee that your computer monitor's display of any color will be accurate.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We reserve the right, but are not obligated, to limit the sales of our products or Services to any person, geographic region or jurisdiction. We may exercise this right on a case-by-case basis. We reserve the right to limit the quantities of any products or services that we offer. All descriptions of products or product pricing are subject to change at anytime without notice, at the sole discretion of us. We reserve the right to discontinue any product at any time. Any offer for any product or service made on this site is void where prohibited.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We do not warrant that the quality of any products, services, information, or other material purchased or obtained by you will meet your expectations, or that any errors in the Service will be corrected.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 6 - ACCURACY OF BILLING AND ACCOUNT INFORMATION"}),(0,xc.jsx)("br",{}),"We reserve the right to refuse any order you place with us. We may, in our sole discretion, limit or cancel quantities purchased per person, per household or per order. These restrictions may include orders placed by or under the same customer account, the same credit card, and/or orders that use the same billing and/or shipping address. In the event that we make a change to or cancel an order, we may attempt to notify you by contacting the e-mail and/or billing address/phone number provided at the time the order was made. We reserve the right to limit or prohibit orders that, in our sole judgment, appear to be placed by dealers, resellers or distributors.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You agree to provide current, complete and accurate purchase and account information for all purchases made at our store. You agree to promptly update your account and other information, including your email address and credit card numbers and expiration dates, so that we can complete your transactions and contact you as needed.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"For more detail, please review our Returns Policy.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 7 - OPTIONAL TOOLS"}),(0,xc.jsx)("br",{}),"We may provide you with access to third-party tools over which we neither monitor nor have any control nor input.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You acknowledge and agree that we provide access to such tools \u201das is\u201d and \u201cas available\u201d without any warranties, representations or conditions of any kind and without any endorsement. We shall have no liability whatsoever arising from or relating to your use of optional third-party tools.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Any use by you of optional tools offered through the site is entirely at your own risk and discretion and you should ensure that you are familiar with and approve of the terms on which tools are provided by the relevant third-party provider(s).",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We may also, in the future, offer new services and/or features through the website (including, the release of new tools and resources). Such new features and/or services shall also be subject to these Terms of Service.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 8 - THIRD-PARTY LINKS"}),"Certain content, products and services available via our Service may include materials from third-parties.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Third-party links on this site may direct you to third-party websites that are not affiliated with us. We are not responsible for examining or evaluating the content or accuracy and we do not warrant and will not have any liability or responsibility for any third-party materials or websites, or for any other materials, products, or services of third-parties.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We are not liable for any harm or damages related to the purchase or use of goods, services, resources, content, or any other transactions made in connection with any third-party websites. Please review carefully the third-party's policies and practices and make sure you understand them before you engage in any transaction. Complaints, claims, concerns, or questions regarding third-party products should be directed to the third-party.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 9 - USER COMMENTS, FEEDBACK AND OTHER SUBMISSIONS"}),(0,xc.jsx)("br",{}),"If, at our request, you send certain specific submissions (for example contest entries) or without a request from us you send creative ideas, suggestions, proposals, plans, or other materials, whether online, by email, by postal mail, or otherwise (collectively, 'comments'), you agree that we may, at any time, without restriction, edit, copy, publish, distribute, translate and otherwise use in any medium any comments that you forward to us. We are and shall be under no obligation (1) to maintain any comments in confidence; (2) to pay compensation for any comments; or (3) to respond to any comments.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We may, but have no obligation to, monitor, edit or remove content that we determine in our sole discretion are unlawful, offensive, threatening, libelous, defamatory, pornographic, obscene or otherwise objectionable or violates any party\u2019s intellectual property or these Terms of Service.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You agree that your comments will not violate any right of any third-party, including copyright, trademark, privacy, personality or other personal or proprietary right. You further agree that your comments will not contain libelous or otherwise unlawful, abusive or obscene material, or contain any computer virus or other malware that could in any way affect the operation of the Service or any related website. You may not use a false e-mail address, pretend to be someone other than yourself, or otherwise mislead us or third-parties as to the origin of any comments. You are solely responsible for any comments you make and their accuracy. We take no responsibility and assume no liability for any comments posted by you or any third-party.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 10 - PERSONAL INFORMATION"}),(0,xc.jsx)("br",{}),"Your submission of personal information through the store is governed by our Privacy Policy. To view our Privacy Policy.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 11 - ERRORS, INACCURACIES AND OMISSIONS"}),(0,xc.jsx)("br",{}),"Occasionally there may be information on our site or in the Service that contains typographical errors, inaccuracies or omissions that may relate to product descriptions, pricing, promotions, offers, product shipping charges, transit times and availability. We reserve the right to correct any errors, inaccuracies or omissions, and to change or update information or cancel orders if any information in the Service or on any related website is inaccurate at any time without prior notice (including after you have submitted your order).",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We undertake no obligation to update, amend or clarify information in the Service or on any related website, including without limitation, pricing information, except as required by law. No specified update or refresh date applied in the Service or on any related website, should be taken to indicate that all information in the Service or on any related website has been modified or updated.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 12 - PROHIBITED USES"}),(0,xc.jsx)("br",{}),"In addition to other prohibitions as set forth in the Terms of Service, you are prohibited from using the site or its content: (a) for any unlawful purpose; (b) to solicit others to perform or participate in any unlawful acts; (c) to violate any international, federal, provincial or state regulations, rules, laws, or local ordinances; (d) to infringe upon or violate our intellectual property rights or the intellectual property rights of others; (e) to harass, abuse, insult, harm, defame, slander, disparage, intimidate, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability; (f) to submit false or misleading information; (g) to upload or transmit viruses or any other type of malicious code that will or may be used in any way that will affect the functionality or operation of the Service or of any related website, other websites, or the Internet; (h) to collect or track the personal information of others; (i) to spam, phish, pharm, pretext, spider, crawl, or scrape; (j) for any obscene or immoral purpose; or (k) to interfere with or circumvent the security features of the Service or any related website, other websites, or the Internet. We reserve the right to terminate your use of the Service or any related website for violating any of the prohibited uses.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 13 - DISCLAIMER OF WARRANTIES; LIMITATION OF LIABILITY"}),(0,xc.jsx)("br",{}),"We do not guarantee, represent or warrant that your use of our service will be uninterrupted, timely, secure or error-free.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We do not warrant that the results that may be obtained from the use of the service will be accurate or reliable.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You agree that from time to time we may remove the service for indefinite periods of time or cancel the service at any time, without notice to you.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"You expressly agree that your use of, or inability to use, the service is at your sole risk. The service and all products and services delivered to you through the service are (except as expressly stated by us) provided 'as is' and 'as available' for your use, without any representation, warranties or conditions of any kind, either express or implied, including all implied warranties or conditions of merchantability, merchantable quality, fitness for a particular purpose, durability, title, and non-infringement.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"In no case shall Only Raw Beauty, our directors, officers, employees, affiliates, agents, contractors, interns, suppliers, service providers or licensors be liable for any injury, loss, claim, or any direct, indirect, incidental, punitive, special, or consequential damages of any kind, including, without limitation lost profits, lost revenue, lost savings, loss of data, replacement costs, or any similar damages, whether based in contract, tort (including negligence), strict liability or otherwise, arising from your use of any of the service or any products procured using the service, or for any other claim related in any way to your use of the service or any product, including, but not limited to, any errors or omissions in any content, or any loss or damage of any kind incurred as a result of the use of the service or any content (or product) posted, transmitted, or otherwise made available via the service, even if advised of their possibility. Because some states or jurisdictions do not allow the exclusion or the limitation of liability for consequential or incidental damages, in such states or jurisdictions, our liability shall be limited to the maximum extent permitted by law.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 14 - INDEMNIFICATION"}),(0,xc.jsx)("br",{}),"You agree to indemnify, defend and hold harmless Only Raw Beauty and our parent, subsidiaries, affiliates, partners, officers, directors, agents, contractors, licensors, service providers, subcontractors, suppliers, interns and employees, harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any third-party due to or arising out of your breach of these Terms of Service or the documents they incorporate by reference, or your violation of any law or the rights of a third-party.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 15 - SEVERABILITY"}),(0,xc.jsx)("br",{}),"In the event that any provision of these Terms of Service is determined to be unlawful, void or unenforceable, such provision shall nonetheless be enforceable to the fullest extent permitted by applicable law, and the unenforceable portion shall be deemed to be severed from these Terms of Service, such determination shall not affect the validity and enforceability of any other remaining provisions.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 16 - TERMINATION"}),(0,xc.jsx)("br",{}),"The obligations and liabilities of the parties incurred prior to the termination date shall survive the termination of this agreement for all purposes.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"These Terms of Service are effective unless and until terminated by either you or us. You may terminate these Terms of Service at any time by notifying us that you no longer wish to use our Services, or when you cease using our site.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"If in our sole judgment you fail, or we suspect that you have failed, to comply with any term or provision of these Terms of Service, we also may terminate this agreement at any time without notice and you will remain liable for all amounts due up to and including the date of termination; and/or accordingly may deny you access to our Services (or any part thereof).",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 17 - ENTIRE AGREEMENT"}),(0,xc.jsx)("br",{}),"The failure of us to exercise or enforce any right or provision of these Terms of Service shall not constitute a waiver of such right or provision.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"These Terms of Service and any policies or operating rules posted by us on this site or in respect to The Service constitutes the entire agreement and understanding between you and us and govern your use of the Service, superseding any prior or contemporaneous agreements, communications and proposals, whether oral or written, between you and us (including, but not limited to, any prior versions of the Terms of Service).",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Any ambiguities in the interpretation of these Terms of Service shall not be construed against the drafting party.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 18 - GOVERNING LAW"}),(0,xc.jsx)("br",{}),"These Terms of Service and any separate agreements whereby we provide you Services shall be governed by and construed in accordance with the laws of.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),(0,xc.jsx)("p",{className:"tw-font-normal",children:"SECTION 19 - CHANGES TO TERMS OF SERVICE"}),(0,xc.jsx)("br",{}),"You can review the most current version of the Terms of Service at any time at this page.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"We reserve the right, at our sole discretion, to update, change or replace any part of these Terms of Service by posting updates and changes to our website. It is your responsibility to check our website periodically for changes. Your continued use of or access to our website or the Service following the posting of any changes to these Terms of Service constitutes acceptance of those changes.",(0,xc.jsx)("br",{}),(0,xc.jsx)("br",{}),"Questions about the Terms of Service should be sent to us at modelEst1010@gmail.com."]})]}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between tw-items-center tw-mb-5",children:e.map((function(e){return(0,xc.jsx)("div",{className:3!==e.id?"tw-mx-2 tw-border tw-border-gray-300 tw-rounded-sm tw-px-1":"tw-mx-2",children:e.type},e.id)}))}),(0,xc.jsxs)("div",{className:"tw-flex tw-text-xs tw-text-white tw-font-light",children:[(0,xc.jsx)("div",{className:"tw-pr-1 tw-border-r-[1px] tw-border-r-neutral-50 md:tw-flex",children:(0,xc.jsxs)("p",{className:"",children:["\xa9 ",(new Date).getUTCFullYear()," ",(0,xc.jsx)("span",{children:"hairposey"}),(0,xc.jsx)("span",{children:" \u2022 All right reserved"})]})}),(0,xc.jsx)("div",{className:"md:tw-flex tw-ml-1",children:(0,xc.jsxs)("p",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)("span",{children:"Design by"})," ",(0,xc.jsx)("span",{className:"rose-gold tw-ml-1",children:(0,xc.jsx)("a",{href:"https://www.linkedin.com/in/oluwatosin-isijola-33333ba8/",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(yc,{size:15})})})]})})]}),(0,xc.jsx)("span",{className:"tw-text-[10px] tw-font-light tw-my-5 tw-bg-slate-900 tw-w-full tw-text-center tw-text-white",children:"This site is protected by Google Privacy Policy and Terms of Service apply."}),(0,xc.jsxs)("div",{className:"tw-flex tw-justify-evenly tw-items-center tw-w-[80%] md:tw-w-[8%] md:tw-ml-10 tw-mt-3 rose-gold",children:[(0,xc.jsx)("a",{href:"https://www.instagram.com/hairposey/",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(lc,{size:20,className:"hover:tw-text-rose-100"})}),(0,xc.jsx)("a",{href:"https://www.tiktok.com/search?q=hairposey&t=1652981534762",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(dc,{size:20,className:"hover:tw-text-rose-100"})})]})]})},Cc={canada:9,usa:20,london:20},Tc="hairposey@gmail.com",Sc="tisijola7@gmail.com",Nc=function(){function e(t,n){var r=this;pe(this,e),this._delegate=t,this.firebase=n,Ut(t,new yt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return me(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Jt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Dt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ut(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Bt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ic=(ye(_c={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ye(_c,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_c),Ac=new ze("app-compat","Firebase",Ic);var Pc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Qe(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:en,setLogLevel:nn,onLog:tn,apps:null,SDK_VERSION:Yt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Vt(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ac.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ae(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Qe(n,e=e||Dt))throw Ac.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Nc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ae(n,e)},createSubscribe:at,ErrorFactory:ze,deepExtend:Ae}),n}(),Rc=new At("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Rc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Oc=self.firebase.SDK_VERSION;Oc&&Oc.indexOf("LITE")>=0&&Rc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var jc=Pc;!function(e){en("@firebase/app-compat","0.1.22",e)}();jc.registerVersion("firebase","9.6.11","app-compat");var Dc="firebasestorage.googleapis.com",Mc=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,Lc(e),"Firebase Storage: ".concat(r," (").concat(Lc(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(re(i),n.prototype),i}return me(n,[{key:"_codeEquals",value:function(e){return Lc(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ve);function Lc(e){return"storage/"+e}function Fc(){return new Mc("unknown","An unknown error occurred, please check the error payload for server response.")}function Uc(){return new Mc("canceled","User canceled the upload/download.")}function Bc(){return new Mc("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vc(e){return new Mc("invalid-argument",e)}function zc(){return new Mc("app-deleted","The Firebase app was deleted.")}function qc(e){return new Mc("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kc(e,t){return new Mc("invalid-format","String does not match format '"+e+"': "+t)}function Hc(e){throw new Mc("internal-error","Internal error: "+e)}var Wc,Gc=function(){function e(t,n){pe(this,e),this.bucket=t,this.path_=n}return me(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Mc("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Dc?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new Mc("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Yc=function(){function e(t){pe(this,e),this.promise_=Promise.reject(t)}return me(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Qc(e){return"string"===typeof e||e instanceof String}function $c(e){return Xc()&&e instanceof Blob}function Xc(){return"undefined"!==typeof Blob}function Jc(e,t,n,r){if(r<t)throw Vc("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Vc("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Zc(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function el(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Wc||(Wc={}));var tl=function(){function e(t,n,r,i,a,o,s,u,c,l,h){var f=this;pe(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return me(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Fc();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?zc():Uc());else i(new Mc("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new nl(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function f(){a&&clearTimeout(a)}function d(e){if(c)f();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return f(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return f(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),h(a)}}var p=!1;function v(e){p||(p=!0,f(),c||(null!==i?(e||(s=2),clearTimeout(i),h(0)):e||(s=1)))}return h(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new nl(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Wc.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new nl(o,r))}else{var s=r.getErrorCode()===Wc.ABORT;t(!1,new nl(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),nl=me((function e(t,n,r){pe(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function rl(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function il(){for(var e=rl(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Xc())return new Blob(n);throw new Mc("unsupported-environment","This browser doesn't seem to support creating Blobs")}var al={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ol=me((function e(t,n){pe(this,e),this.data=t,this.contentType=n||null}));function sl(e,t){switch(e){case al.RAW:return new ol(ul(t));case al.BASE64:case al.BASE64URL:return new ol(cl(e,t));case al.DATA_URL:return new ol(function(e){var t=new ll(e);return t.base64?cl(al.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Kc(al.DATA_URL,"Malformed data URL.")}return ul(t)}(t.rest)}(t),new ll(t).contentType)}throw Fc()}function ul(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function cl(e,t){switch(e){case al.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Kc(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case al.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Kc(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Kc(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var ll=me((function e(t){pe(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Kc(al.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var hl=function(){function e(t,n){pe(this,e);var r=0,i="";$c(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return me(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if($c(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Xc()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(il.apply(null,i))}var a=n.map((function(e){return Qc(e)?sl(al.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function fl(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function dl(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function pl(e,t){return t}var vl=me((function e(t,n,r,i){pe(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||pl})),ml=null;function yl(){if(ml)return ml;var e=[];e.push(new vl("bucket")),e.push(new vl("generation")),e.push(new vl("metageneration")),e.push(new vl("name","fullPath",!0));var t=new vl("name");t.xform=function(e,t){return function(e){return!Qc(e)||e.length<2?e:dl(e)}(t)},e.push(t);var n=new vl("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new vl("timeCreated")),e.push(new vl("updated")),e.push(new vl("md5Hash",null,!0)),e.push(new vl("cacheControl",null,!0)),e.push(new vl("contentDisposition",null,!0)),e.push(new vl("contentEncoding",null,!0)),e.push(new vl("contentLanguage",null,!0)),e.push(new vl("contentType",null,!0)),e.push(new vl("metadata","customMetadata",!0)),ml=e}function gl(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Gc(n,r);return t._makeStorageReference(i)}})}(r,e),r}function wl(e,t,n){var r=fl(t);return null===r?null:gl(e,r,n)}function bl(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function kl(e,t,n){var r=fl(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=de(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new Gc(t,o));r.prefixes.push(s)}}catch(f){a.e(f)}finally{a.f()}}if(n.items){var u,c=de(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=e._makeStorageReference(new Gc(t,l.name));r.items.push(h)}}catch(f){c.e(f)}finally{c.f()}}return r}(e,t,r)}var xl=me((function e(t,n,r,i){pe(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function _l(e){if(!e)throw Fc()}function El(e,t){return function(n,r){var i=wl(e,r,t);return _l(null!==i),i}}function Cl(e,t){return function(n,r){var i=wl(e,r,t);return _l(null!==i),function(e,t,n,r){var i=fl(t);if(null===i)return null;if(!Qc(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Zc("/b/"+o(i)+"/o/"+o(a),n,r)+el({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Tl(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Mc("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Mc("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Mc("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Mc("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Sl(e){var t=Tl(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Mc("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Nl(e,t,n){var r=Zc(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new xl(r,"GET",El(e,n),i);return a.errorHandler=Sl(t),a}function Il(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=Zc(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new xl(o,"GET",function(e,t){return function(n,r){var i=kl(e,t,r);return _l(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Tl(t),u}function Al(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Pl(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Al(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bl(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=hl.getBlob(c,r,l);if(null===h)throw Bc();var f={name:u.fullPath},d=Zc(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new xl(d,"POST",El(e,n),p);return v.urlParams=f,v.headers=o,v.body=h.uploadData(),v.errorHandler=Tl(t),v}var Rl=me((function e(t,n,r,i){pe(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Ol(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){_l(!1)}return _l(!!n&&-1!==(t||["active"]).indexOf(n)),n}var jl=262144;function Dl(e,t,n,r,i,a,o,s){var u=new Rl(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Mc("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(h,f);if(null===p)throw Bc();var v=t.maxUploadRetryTime,m=new xl(n,"POST",(function(e,n){var i,o=Ol(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?El(t,a)(e,n):null,new Rl(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Tl(e),m}var Ml={STATE_CHANGED:"state_changed"},Ll={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fl(e){switch(e){case"running":case"pausing":case"canceling":return Ll.RUNNING;case"paused":return Ll.PAUSED;case"success":return Ll.SUCCESS;case"canceled":return Ll.CANCELED;default:return Ll.ERROR}}var Ul=me((function e(t,n,r){pe(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Bl(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Vl=function(){function e(){var t=this;pe(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wc.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Wc.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Wc.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return me(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Hc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Hc("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Hc("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Hc("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),zl=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Vl);function ql(){return new zl}var Kl=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;pe(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=yl(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return me(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Al(t,r,i),s={name:o.fullPath},u=Zc(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=bl(o,n),h=e.maxUploadRetryTime,f=new xl(u,"POST",(function(e){var t;Ol(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){_l(!1)}return _l(Qc(t)),t}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Tl(t),f}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ql,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new xl(n,"POST",(function(e){var t=Ol(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){_l(!1)}n||_l(!1);var i=Number(n);return _l(!isNaN(i)),new Rl(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Tl(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,ql,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=jl*this._chunkMultiplier,n=new Rl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Dl(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,ql,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){jl*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Nl(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,ql,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Pl(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,ql,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Uc(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Fl(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ul(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Fl(this._state)){case Ll.SUCCESS:Bl(this._resolve.bind(null,this.snapshot))();break;case Ll.CANCELED:case Ll.ERROR:Bl(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Fl(this._state)){case Ll.RUNNING:case Ll.PAUSED:e.next&&Bl(e.next.bind(e,this.snapshot))();break;case Ll.SUCCESS:e.complete&&Bl(e.complete.bind(e))();break;default:e.error&&Bl(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Hl=function(){function e(t,n){pe(this,e),this._service=t,this._location=n instanceof Gc?n:Gc.makeFromUrl(n,t.host)}return me(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Gc(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return dl(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Gc(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw qc(e)}}]),e}();function Wl(e,t,n){return Gl.apply(this,arguments)}function Gl(){return Gl=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Yl(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,fe(s.prefixes)),(a=n.items).push.apply(a,fe(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,Wl(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Yl(e,t){null!=t&&"number"===typeof t.maxResults&&Jc("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Il(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,ql)}function Ql(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=Zc(t.fullServerUrl(),e.host,e._protocol),a=bl(n,r),o=e.maxOperationRetryTime,s=new xl(i,"PATCH",El(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=Sl(t),s}(e.storage,e._location,t,yl());return e.storage.makeRequestWithTokens(n,ql)}function $l(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Zc(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new xl(r,"GET",Cl(e,n),i);return a.errorHandler=Sl(t),a}(e.storage,e._location,yl());return e.storage.makeRequestWithTokens(t,ql).then((function(e){if(null===e)throw new Mc("no-download-url","The given file does not have any download URLs.");return e}))}function Xl(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Zc(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new xl(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Sl(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,ql)}function Jl(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Gc(e._location.bucket,n);return new Hl(e.storage,r)}function Zl(e,t){if(e instanceof rh){var n=e;if(null==n._bucket)throw new Mc("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Hl(n,n._bucket);return null!=t?Zl(r,t):r}return void 0!==t?Jl(e,t):e}function eh(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof rh)return new Hl(e,t);throw Vc("To use ref(service, url), the first argument must be a Storage instance.")}return Zl(e,t)}function th(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Gc.makeFromBucketSpec(n,e)}function nh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Re(i,e.app.options.projectId))}var rh=function(){function e(t,n,r,i,a){pe(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Dc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Gc.makeFromBucketSpec(i,this._host):th(this._host,this.app.options)}return me(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Gc.makeFromBucketSpec(this._url,e):this._bucket=th(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Jc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Jc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Hl(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Yc(zc());var a=function(e,t,n,r,i,a){var o=el(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new tl(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),ih="@firebase/storage",ah="0.9.5",oh="storage";function sh(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Kl(e,new hl(t),n)}(e=ht(e),t,n)}function uh(e){return function(e){e._throwIfRoot("getMetadata");var t=Nl(e.storage,e._location,yl());return e.storage.makeRequestWithTokens(t,ql)}(e=ht(e))}function ch(e){return function(e){var t={prefixes:[],items:[]};return Wl(e,t).then((function(){return t}))}(e=ht(e))}function lh(e,t){return eh(e=ht(e),t)}function hh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};nh(e,t,n,r)}function fh(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new rh(r,i,a,n,Yt)}Vt(new yt(oh,fh,"PUBLIC").setMultipleInstances(!0)),en(ih,ah,""),en(ih,ah,"esm2017");var dh=function(){function e(t,n,r){pe(this,e),this._delegate=t,this.task=n,this.ref=r}return me(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),ph=function(){function e(t,n){pe(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return me(e,[{key:"snapshot",get:function(){return new dh(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new dh(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new dh(e,i,i._ref))}:{next:t.next?function(e){return t.next(new dh(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),vh=function(){function e(t,n){pe(this,e),this._delegate=t,this._service=n}return me(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new mh(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new mh(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),mh=function(){function e(t,n){pe(this,e),this._delegate=t,this.storage=n}return me(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Jl(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new ph(sh(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:al.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=sl(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ph(new Kl(this._delegate,new hl(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return ch(this._delegate).then((function(t){return new vh(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return Yl(e=ht(e),t)}(this._delegate,e||void 0).then((function(e){return new vh(e,t.storage)}))}},{key:"getMetadata",value:function(){return uh(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Ql(e=ht(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return function(e){return $l(e=ht(e))}(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),function(e){return Xl(e=ht(e))}(this._delegate)}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw qc(e)}}]),e}(),yh=function(){function e(t,n){pe(this,e),this.app=t,this._delegate=n}return me(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(gh(e))throw Vc("ref() expected a child path but got a URL, use refFromURL instead.");return new mh(lh(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!gh(e))throw Vc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gc.makeFromUrl(e,this._delegate.host)}catch(t){throw Vc("refFromUrl() expected a valid full URL but got an invalid one.")}return new mh(lh(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hh(this._delegate,e,t,n)}}]),e}();function gh(e){return/^[A-Za-z]+:\/\//.test(e)}function wh(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new yh(r,i)}function bh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=oe(e)););return e}function kh(){return kh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},kh.apply(this,arguments)}!function(e){var t={TaskState:Ll,TaskEvent:Ml,StringFormat:al,Storage:yh,Reference:mh};e.INTERNAL.registerComponent(new yt("storage-compat",wh,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.13")}(jc);var xh,_h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Eh={},Ch=Ch||{},Th=_h||self;function Sh(){}function Nh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ih(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ah="closure_uid_"+(1e9*Math.random()>>>0),Ph=0;function Rh(e,t,n){return e.call.apply(e.bind,arguments)}function Oh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function jh(e,t,n){return(jh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rh:Oh).apply(null,arguments)}function Dh(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Mh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Lh(){this.s=this.s,this.o=this.o}var Fh={};Lh.prototype.s=!1,Lh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ah)&&e[Ah]||(e[Ah]=++Ph)}(this);delete Fh[e]}},Lh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Uh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Bh=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Vh(e){return Array.prototype.concat.apply([],arguments)}function zh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function qh(e){return/^[\s\xa0]*$/.test(e)}var Kh,Hh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wh(e,t){return-1!=e.indexOf(t)}function Gh(e,t){return e<t?-1:e>t?1:0}e:{var Yh=Th.navigator;if(Yh){var Qh=Yh.userAgent;if(Qh){Kh=Qh;break e}}Kh=""}function $h(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Xh(e){var t={};for(var n in e)t[n]=e[n];return t}var Jh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jh.length;a++)n=Jh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ef(e){return ef[" "](e),e}ef[" "]=Sh;var tf,nf=Wh(Kh,"Opera"),rf=Wh(Kh,"Trident")||Wh(Kh,"MSIE"),af=Wh(Kh,"Edge"),of=af||rf,sf=Wh(Kh,"Gecko")&&!(Wh(Kh.toLowerCase(),"webkit")&&!Wh(Kh,"Edge"))&&!(Wh(Kh,"Trident")||Wh(Kh,"MSIE"))&&!Wh(Kh,"Edge"),uf=Wh(Kh.toLowerCase(),"webkit")&&!Wh(Kh,"Edge");function cf(){var e=Th.document;return e?e.documentMode:void 0}e:{var lf="",hf=function(){var e=Kh;return sf?/rv:([^\);]+)(\)|;)/.exec(e):af?/Edge\/([\d\.]+)/.exec(e):rf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):uf?/WebKit\/(\S+)/.exec(e):nf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(hf&&(lf=hf?hf[1]:""),rf){var ff=cf();if(null!=ff&&ff>parseFloat(lf)){tf=String(ff);break e}}tf=lf}var df,pf={};function vf(){return function(e){var t=pf;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Hh(String(tf)).split("."),n=Hh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Gh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Gh(0==a[2].length,0==o[2].length)||Gh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Th.document&&rf){var mf=cf();df=mf||(parseInt(tf,10)||void 0)}else df=void 0;var yf=df,gf=function(){if(!Th.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Th.addEventListener("test",Sh,t),Th.removeEventListener("test",Sh,t)}catch(n){}return e}();function wf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function bf(e,t){if(wf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(sf){e:{try{ef(t.nodeName);var i=!0;break e}catch(pL){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kf[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bf.Z.h.call(this)}}wf.prototype.h=function(){this.defaultPrevented=!0},Mh(bf,wf);var kf={2:"touch",3:"pen",4:"mouse"};bf.prototype.h=function(){bf.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var xf="closure_listenable_"+(1e6*Math.random()|0),_f=0;function Ef(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_f,this.ca=this.fa=!1}function Cf(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Tf(e){this.src=e,this.g={},this.h=0}function Sf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Uh(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Cf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Nf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Tf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Nf(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ef(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var If="closure_lm_"+(1e6*Math.random()|0),Af={};function Pf(e,t,n,r,i){if(r&&r.once)return Of(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Pf(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[xf]?e.N(t,n,Ih(r)?!!r.capture:!!r,i):Rf(e,t,n,!1,r,i)}function Rf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ih(i)?!!i.capture:!!i,s=Ff(e);if(s||(e[If]=s=new Tf(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)gf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Mf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Of(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Of(e,t[a],n,r,i);return null}return n=Bf(n),e&&e[xf]?e.O(t,n,Ih(r)?!!r.capture:!!r,i):Rf(e,t,n,!0,r,i)}function jf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)jf(e,t[a],n,r,i);else r=Ih(r)?!!r.capture:!!r,n=Bf(n),e&&e[xf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Nf(a=e.g[t],n,r,i))&&(Cf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ff(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Nf(t,n,r,i)),(n=-1<e?t[e]:null)&&Df(n))}function Df(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[xf])Sf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Mf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ff(t))?(Sf(n,e),0==n.h&&(n.src=null,t[If]=null)):Cf(e)}}}function Mf(e){return e in Af?Af[e]:Af[e]="on"+e}function Lf(e,t){if(e.ca)e=!0;else{t=new bf(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Df(e),e=n.call(r,t)}return e}function Ff(e){return(e=e[If])instanceof Tf?e:null}var Uf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bf(e){return"function"===typeof e?e:(e[Uf]||(e[Uf]=function(t){return e.handleEvent(t)}),e[Uf])}function Vf(){Lh.call(this),this.i=new Tf(this),this.P=this,this.I=null}function zf(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new wf(t,e);else if(t instanceof wf)t.target=t.target||e;else{var i=t;Zh(t=new wf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=qf(o,r,!0,t)&&i}if(i=qf(o=t.g=e,r,!0,t)&&i,i=qf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=qf(o=t.g=n[a],r,!1,t)&&i}function qf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Sf(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Mh(Vf,Lh),Vf.prototype[xf]=!0,Vf.prototype.removeEventListener=function(e,t,n,r){jf(this,e,t,n,r)},Vf.prototype.M=function(){if(Vf.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cf(n[r]);delete t.g[e],t.h--}}this.I=null},Vf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Kf=Th.JSON.stringify;function Hf(){var e=Zf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Wf,Gf=function(){function e(){pe(this,e),this.h=this.g=null}return me(e,[{key:"add",value:function(e,t){var n=Yf.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Yf=new(function(){function e(t,n){pe(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return me(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Qf}),(function(e){return e.reset()})),Qf=function(){function e(){pe(this,e),this.next=this.g=this.h=null}return me(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function $f(e){Th.setTimeout((function(){throw e}),0)}function Xf(e,t){Wf||function(){var e=Th.Promise.resolve(void 0);Wf=function(){e.then(ed)}}(),Jf||(Wf(),Jf=!0),Zf.add(e,t)}var Jf=!1,Zf=new Gf;function ed(){for(var e;e=Hf();){try{e.h.call(e.g)}catch(n){$f(n)}var t=Yf;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jf=!1}function td(e,t){Vf.call(this),this.h=e||1,this.g=t||Th,this.j=jh(this.kb,this),this.l=Date.now()}function nd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function rd(e,t,n){if("function"===typeof e)n&&(e=jh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=jh(e.handleEvent,e)}return 2147483647<Number(t)?-1:Th.setTimeout(e,t||0)}function id(e){e.g=rd((function(){e.g=null,e.i&&(e.i=!1,id(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Mh(td,Vf),(xh=td.prototype).da=!1,xh.S=null,xh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zf(this,"tick"),this.da&&(nd(this),this.start()))}},xh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xh.M=function(){td.Z.M.call(this),nd(this),delete this.g};var ad=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return me(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:id(this)}},{key:"M",value:function(){kh(oe(n.prototype),"M",this).call(this),this.g&&(Th.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Lh);function od(e){Lh.call(this),this.h=e,this.g={}}Mh(od,Lh);var sd=[];function ud(e,t,n,r){Array.isArray(n)||(n&&(sd[0]=n.toString()),n=sd);for(var i=0;i<n.length;i++){var a=Pf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function cd(e){$h(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Df(e)}),e),e.g={}}function ld(){this.g=!0}function hd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Kf(n)}catch(sL){return t}}(e,n)+(r?" "+r:"")}))}od.prototype.M=function(){od.Z.M.call(this),cd(this)},od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ld.prototype.Aa=function(){this.g=!1},ld.prototype.info=function(){};var fd={},dd=null;function pd(){return dd=dd||new Vf}function vd(e){wf.call(this,fd.Ma,e)}function md(e){var t=pd();zf(t,new vd(t,e))}function yd(e,t){wf.call(this,fd.STAT_EVENT,e),this.stat=t}function gd(e){var t=pd();zf(t,new yd(t,e))}function wd(e,t){wf.call(this,fd.Na,e),this.size=t}function bd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Th.setTimeout((function(){e()}),t)}fd.Ma="serverreachability",Mh(vd,wf),fd.STAT_EVENT="statevent",Mh(yd,wf),fd.Na="timingevent",Mh(wd,wf);var kd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xd={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _d(){}function Ed(e){return e.h||(e.h=e.i())}function Cd(){}_d.prototype.h=null;var Td,Sd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Nd(){wf.call(this,"d")}function Id(){wf.call(this,"c")}function Ad(){}function Pd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new od(this),this.P=Od,e=of?125:void 0,this.W=new td(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rd}function Rd(){this.i=null,this.g="",this.h=!1}Mh(Nd,wf),Mh(Id,wf),Mh(Ad,_d),Ad.prototype.g=function(){return new XMLHttpRequest},Ad.prototype.i=function(){return{}},Td=new Ad;var Od=45e3,jd={},Dd={};function Md(e,t,n){e.K=1,e.v=ap(Zd(t)),e.s=n,e.U=!0,Ld(e,null)}function Ld(e,t){e.F=Date.now(),Vd(e),e.A=Zd(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),gp(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Rd,e.g=wv(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ad(jh(e.Ia,e,e.g),e.O)),ud(e.V,e.g,"readystatechange",e.gb),t=e.H?Xh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),md(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Fd(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ud(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Bd(e,n))==Dd){4==t&&(e.o=4,gd(14),i=!1),hd(e.j,e.m,null,"[Incomplete Response]");break}if(r==jd){e.o=4,gd(15),hd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}hd(e.j,e.m,r,null),Wd(e,r)}Fd(e)&&r!=Dd&&r!=jd&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,gd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),hv(t),t.L=!0,gd(11))):(hd(e.j,e.m,n,"[Invalid Chunked Response]"),Hd(e),Kd(e))}function Bd(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dd:(n=Number(t.substring(n,r)),isNaN(n)?jd:(r+=1)+n>t.length?Dd:(t=t.substr(r,n),e.C=r+n,t))}function Vd(e){e.Y=Date.now()+e.P,zd(e,e.P)}function zd(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=bd(jh(e.eb,e),t)}function qd(e){e.B&&(Th.clearTimeout(e.B),e.B=null)}function Kd(e){0==e.l.G||e.I||pv(e.l,e)}function Hd(e){qd(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,nd(e.W),cd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Wd(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Cp(n.i,e)))if(n.I=e.N,!e.J&&Cp(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;dv(n),nv(n)}lv(n),gd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=bd(jh(n.ab,n),6e3));if(1>=Ep(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else mv(n,11)}else if((e.J||n.g==e)&&dv(n),!qh(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Wh(l,"spdy")||Wh(l,"quic")||Wh(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Tp(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,ip(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=gv(r,r.H?r.la:null,r.W),d.J){Sp(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(qd(p),Vd(p)),r.g=d}else cv(r);0<n.l.length&&av(n)}else"stop"!=a[0]&&"close"!=a[0]||mv(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?mv(n,7):tv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}md(4)}catch(a){}}function Gd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nh(e)||"string"===typeof e)Bh(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Nh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Nh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Yd(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Yd)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Qd(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];$d(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)$d(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function $d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(xh=Pd.prototype).setTimeout=function(e){this.P=e},xh.gb=function(e){e=e.target;var t=this.L;t&&3==$p(e)?t.l():this.Ia(e)},xh.Ia=function(e){try{if(e==this.g)e:{var t=$p(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||of||this.g&&(this.h.h||this.g.ga()||Xp(this.g)))){this.I||4!=t||7==n||md(8==n||0>=r?3:2),qd(this);var i=this.g.ba();this.N=i;t:if(Fd(this)){var a=Xp(this.g);e="";var o=a.length,s=4==$p(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Hd(this),Kd(this);var u="";break t}this.h.i=new Th.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qh(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,gd(12),Hd(this),Kd(this);break e}hd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wd(this,i)}this.U?(Ud(this,t,u),of&&this.i&&3==t&&(ud(this.V,this.W,"tick",this.fb),this.W.start())):(hd(this.j,this.m,u,null),Wd(this,u)),4==t&&Hd(this),this.i&&!this.I&&(4==t?pv(this.l,this):(this.i=!1,Vd(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,gd(12)):(this.o=0,gd(13)),Hd(this),Kd(this)}}}catch(t){}},xh.fb=function(){if(this.g){var e=$p(this.g),t=this.g.ga();this.C<t.length&&(qd(this),Ud(this,e,t),this.i&&4!=e&&Vd(this))}},xh.cancel=function(){this.I=!0,Hd(this)},xh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(md(3),gd(17)),Hd(this),this.o=2,Kd(this)):zd(this,this.Y-e)},(xh=Yd.prototype).R=function(){Qd(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},xh.T=function(){return Qd(this),this.g.concat()},xh.get=function(e,t){return $d(this.h,e)?this.h[e]:t},xh.set=function(e,t){$d(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},xh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Xd=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jd(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Jd){this.g=void 0!==t?t:e.g,ep(this,e.j),this.s=e.s,tp(this,e.i),np(this,e.m),this.l=e.l,t=e.h;var n=new pp;n.i=t.i,t.g&&(n.g=new Yd(t.g),n.h=t.h),rp(this,n),this.o=e.o}else e&&(n=String(e).match(Xd))?(this.g=!!t,ep(this,n[1]||"",!0),this.s=op(n[2]||""),tp(this,n[3]||"",!0),np(this,n[4]),this.l=op(n[5]||"",!0),rp(this,n[6]||"",!0),this.o=op(n[7]||"")):(this.g=!!t,this.h=new pp(null,this.g))}function Zd(e){return new Jd(e)}function ep(e,t,n){e.j=n?op(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tp(e,t,n){e.i=n?op(t,!0):t}function np(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rp(e,t,n){t instanceof pp?(e.h=t,function(e,t){t&&!e.j&&(vp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mp(this,t),gp(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=sp(t,fp)),e.h=new pp(t,e.g))}function ip(e,t,n){e.h.set(t,n)}function ap(e){return ip(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function op(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,up),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function up(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Jd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sp(t,cp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sp(t,cp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(sp(n,"/"==n.charAt(0)?hp:lp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sp(n,dp)),e.join("")};var cp=/[#\/\?@]/g,lp=/[#\?:]/g,hp=/[#\?]/g,fp=/[#\?@]/g,dp=/#/g;function pp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vp(e){e.g||(e.g=new Yd,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mp(e,t){vp(e),t=wp(e,t),$d(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,$d((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Qd(e)))}function yp(e,t){return vp(e),t=wp(e,t),$d(e.g.h,t)}function gp(e,t,n){mp(e,t),0<n.length&&(e.i=null,e.g.set(wp(e,t),zh(n)),e.h+=n.length)}function wp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xh=pp.prototype).add=function(e,t){vp(this),this.i=null,e=wp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xh.forEach=function(e,t){vp(this),this.g.forEach((function(n,r){Bh(n,(function(n){e.call(t,n,r,this)}),this)}),this)},xh.T=function(){vp(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},xh.R=function(e){vp(this);var t=[];if("string"===typeof e)yp(this,e)&&(t=Vh(t,this.g.get(wp(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Vh(t,e[n])}return t},xh.set=function(e,t){return vp(this),this.i=null,yp(this,e=wp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},xh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var bp=me((function e(t,n){pe(this,e),this.h=t,this.g=n}));function kp(e){this.l=e||xp,Th.PerformanceNavigationTiming?e=0<(e=Th.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Th.g&&Th.g.Ea&&Th.g.Ea()&&Th.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xp=10;function _p(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ep(e){return e.h?1:e.g?e.g.size:0}function Cp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tp(e,t){e.g?e.g.add(t):e.h=t}function Sp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Np(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=de(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return zh(e.i)}function Ip(){}function Ap(){this.g=new Ip}function Pp(e,t,n){var r=n||"";try{Gd(e,(function(e,n){var i=e;Ih(e)&&(i=Kf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(pL){}}function Op(e){this.l=e.$b||null,this.j=e.ib||!1}function jp(e,t){Vf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kp.prototype.cancel=function(){if(this.i=Np(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=de(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ip.prototype.stringify=function(e){return Th.JSON.stringify(e,void 0)},Ip.prototype.parse=function(e){return Th.JSON.parse(e,void 0)},Mh(Op,_d),Op.prototype.g=function(){return new jp(this.l,this.j)},Op.prototype.i=function(e){return function(){return e}}({}),Mh(jp,Vf);var Dp=0;function Mp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Lp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fp(e)}function Fp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xh=jp.prototype).open=function(e,t){if(this.readyState!=Dp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fp(this)},xh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Th).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},xh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lp(this)),this.readyState=Dp},xh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fp(this)),this.g&&(this.readyState=3,Fp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Th.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},xh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lp(this):Fp(this),3==this.readyState&&Mp(this)}},xh.Ua=function(e){this.g&&(this.response=this.responseText=e,Lp(this))},xh.Ta=function(e){this.g&&(this.response=e,Lp(this))},xh.ha=function(){this.g&&Lp(this)},xh.setRequestHeader=function(e,t){this.v.append(e,t)},xh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Up=Th.JSON.parse;function Bp(e){Vf.call(this),this.headers=new Yd,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vp,this.K=this.L=!1}Mh(Bp,Vf);var Vp="",zp=/^https?$/i,qp=["POST","PUT"];function Kp(e){return"content-type"==e.toLowerCase()}function Hp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Wp(e),Yp(e)}function Wp(e){e.D||(e.D=!0,zf(e,"complete"),zf(e,"error"))}function Gp(e){if(e.h&&"undefined"!=typeof Ch&&(!e.C[1]||4!=$p(e)||2!=e.ba()))if(e.v&&4==$p(e))rd(e.Fa,0,e);else if(zf(e,"readystatechange"),4==$p(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Xd)[1]||null;if(!a&&Th.self&&Th.self.location){var o=Th.self.location.protocol;a=o.substr(0,o.length-1)}i=!zp.test(a?a.toLowerCase():"")}t=i}if(t)zf(e,"complete"),zf(e,"success");else{e.m=6;try{var s=2<$p(e)?e.g.statusText:""}catch(fL){s=""}e.j=s+" ["+e.ba()+"]",Wp(e)}}finally{Yp(e)}}}function Yp(e,t){if(e.g){Qp(e);var n=e.g,r=e.C[0]?Sh:null;e.g=null,e.C=null,t||zf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Qp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Th.clearTimeout(e.A),e.A=null)}function $p(e){return e.g?e.g.readyState:0}function Xp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(_L){return null}}function Jp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return $h(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ip(e,t,n))}function Zp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ev(e){this.za=0,this.l=[],this.h=new ld,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Zp("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Zp("baseRetryDelayMs",5e3,e),this.$a=Zp("retryDelaySeedMs",1e4,e),this.Ya=Zp("forwardChannelMaxRetries",2,e),this.ra=Zp("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new kp(e&&e.concurrentRequestLimit),this.Ca=new Ap,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function tv(e){if(rv(e),3==e.G){var t=e.V++,n=Zd(e.F);ip(n,"SID",e.J),ip(n,"RID",t),ip(n,"TYPE","terminate"),sv(e,n),(t=new Pd(e,e.h,t,void 0)).K=2,t.v=ap(Zd(n)),n=!1,Th.navigator&&Th.navigator.sendBeacon&&(n=Th.navigator.sendBeacon(t.v.toString(),"")),!n&&Th.Image&&((new Image).src=t.v,n=!0),n||(t.g=wv(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vd(t)}yv(e)}function nv(e){e.g&&(hv(e),e.g.cancel(),e.g=null)}function rv(e){nv(e),e.u&&(Th.clearTimeout(e.u),e.u=null),dv(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Th.clearTimeout(e.m),e.m=null)}function iv(e,t){e.l.push(new bp(e.Za++,t)),3==e.G&&av(e)}function av(e){_p(e.i)||e.m||(e.m=!0,Xf(e.Ha,e),e.C=0)}function ov(e,t){var n;n=t?t.m:e.V++;var r=Zd(e.F);ip(r,"SID",e.J),ip(r,"RID",n),ip(r,"AID",e.U),sv(e,r),e.o&&e.s&&Jp(r,e.o,e.s),n=new Pd(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=uv(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Tp(e.i,n),Md(n,r,t)}function sv(e,t){e.j&&Gd({},(function(e,n){ip(t,n,e)}))}function uv(e,t,n){n=Math.min(e.l.length,n);var r=e.j?jh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Pp(l,o,"req"+c+"_")}catch(Gv){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function cv(e){e.g||e.u||(e.Y=1,Xf(e.Ga,e),e.A=0)}function lv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=bd(jh(e.Ga,e),vv(e,e.A)),e.A++,!0)}function hv(e){null!=e.B&&(Th.clearTimeout(e.B),e.B=null)}function fv(e){e.g=new Pd(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zd(e.oa);ip(t,"RID","rpc"),ip(t,"SID",e.J),ip(t,"CI",e.N?"0":"1"),ip(t,"AID",e.U),sv(e,t),ip(t,"TYPE","xmlhttp"),e.o&&e.s&&Jp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ap(Zd(t)),n.s=null,n.U=!0,Ld(n,e)}function dv(e){null!=e.v&&(Th.clearTimeout(e.v),e.v=null)}function pv(e,t){var n=null;if(e.g==t){dv(e),hv(e),e.g=null;var r=2}else{if(!Cp(e.i,t))return;n=t.D,Sp(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zf(r=pd(),new wd(r,n,t,i)),av(e)}else cv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Ep(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=bd(jh(e.Ha,e,t),vv(e,e.C)),e.C++,!0))}(e,t)||2==r&&lv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:mv(e,5);break;case 4:mv(e,10);break;case 3:mv(e,6);break;default:mv(e,2)}}function vv(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function mv(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=jh(e.jb,e);n||(n=new Jd("//www.google.com/images/cleardot.gif"),Th.location&&"http"==Th.location.protocol||ep(n,"https"),ap(n)),function(e,t){var n=new ld;if(Th.Image){var r=new Image;r.onload=Dh(Rp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Dh(Rp,n,r,"TestLoadImage: error",!1,t),r.onabort=Dh(Rp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Dh(Rp,n,r,"TestLoadImage: timeout",!1,t),Th.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else gd(2);e.G=0,e.j&&e.j.va(t),yv(e),rv(e)}function yv(e){e.G=0,e.I=-1,e.j&&(0==Np(e.i).length&&0==e.l.length||(e.i.i.length=0,zh(e.l),e.l.length=0),e.j.ua())}function gv(e,t,n){var r=function(e){return e instanceof Jd?Zd(e):new Jd(e,void 0)}(n);if(""!=r.i)t&&tp(r,t+"."+r.i),np(r,r.m);else{var i=Th.location;r=function(e,t,n,r){var i=new Jd(null,void 0);return e&&ep(i,e),t&&tp(i,t),n&&np(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&$h(e.aa,(function(e,t){ip(r,t,e)})),t=e.D,n=e.sa,t&&n&&ip(r,t,n),ip(r,"VER",e.ma),sv(e,r),r}function wv(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Bp(new Op({ib:!0})):new Bp(e.qa)).L=e.H,t}function bv(){}function kv(){if(rf&&!(10<=Number(yf)))throw Error("Environmental error: no available transport.")}function xv(e,t){Vf.call(this),this.g=new ev(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!qh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qh(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cv(this)}function _v(e){Nd.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ev(){Id.call(this),this.status=1}function Cv(e){this.g=e}(xh=Bp.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Td.g(),this.C=this.u?Ed(this.u):Ed(Td),this.g.onreadystatechange=jh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(pL){return void Hp(this,pL)}e=n||"";var i=new Yd(this.headers);r&&Gd(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Kp,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Th.FormData&&e instanceof Th.FormData,!(0<=Uh(qp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qp(this),0<this.B&&((this.K=function(e){return rf&&vf()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jh(this.pa,this)):this.A=rd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(pL){Hp(this,pL)}},xh.pa=function(){"undefined"!=typeof Ch&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zf(this,"timeout"),this.abort(8))},xh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zf(this,"complete"),zf(this,"abort"),Yp(this))},xh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yp(this,!0)),Bp.Z.M.call(this)},xh.Fa=function(){this.s||(this.F||this.v||this.l?Gp(this):this.cb())},xh.cb=function(){Gp(this)},xh.ba=function(){try{return 2<$p(this)?this.g.status:-1}catch(dL){return-1}},xh.ga=function(){try{return this.g?this.g.responseText:""}catch(dL){return""}},xh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Up(t)}},xh.Da=function(){return this.m},xh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(xh=ev.prototype).ma=8,xh.G=1,xh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(_L){}},xh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Pd(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zh(n=Xh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=uv(this,t,r),ip(i=Zd(this.F),"RID",e),ip(i,"CVER",22),this.D&&ip(i,"X-HTTP-Session-Id",this.D),sv(this,i),this.o&&n&&Jp(i,this.o,n),Tp(this.i,t),this.Ra&&ip(i,"TYPE","init"),this.ja?(ip(i,"$req",r),ip(i,"SID","null"),t.$=!0,Md(t,i,null)):Md(t,i,r),this.G=2}}else 3==this.G&&(e?ov(this,e):0==this.l.length||_p(this.i)||ov(this))},xh.Ga=function(){if(this.u=null,fv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=bd(jh(this.bb,this),e)}},xh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,gd(10),nv(this),fv(this))},xh.ab=function(){null!=this.v&&(this.v=null,nv(this),lv(this),gd(19))},xh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),gd(2)):(this.h.info("Failed to ping google.com"),gd(1))},(xh=bv.prototype).xa=function(){},xh.wa=function(){},xh.va=function(){},xh.ua=function(){},xh.Oa=function(){},kv.prototype.g=function(e,t){return new xv(e,t)},Mh(xv,Vf),xv.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xf(jh(e.hb,e,t))),gd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gv(e,null,e.W),av(e)},xv.prototype.close=function(){tv(this.g)},xv.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,iv(this.g,t)}else this.v?((t={}).__data__=Kf(e),iv(this.g,t)):iv(this.g,e)},xv.prototype.M=function(){this.g.j=null,delete this.j,tv(this.g),delete this.g,xv.Z.M.call(this)},Mh(_v,Nd),Mh(Ev,Id),Mh(Cv,bv),Cv.prototype.xa=function(){zf(this.g,"a")},Cv.prototype.wa=function(e){zf(this.g,new _v(e))},Cv.prototype.va=function(e){zf(this.g,new Ev(e))},Cv.prototype.ua=function(){zf(this.g,"b")},kv.prototype.createWebChannel=kv.prototype.g,xv.prototype.send=xv.prototype.u,xv.prototype.open=xv.prototype.m,xv.prototype.close=xv.prototype.close,kd.NO_ERROR=0,kd.TIMEOUT=8,kd.HTTP_ERROR=6,xd.COMPLETE="complete",Cd.EventType=Sd,Sd.OPEN="a",Sd.CLOSE="b",Sd.ERROR="c",Sd.MESSAGE="d",Vf.prototype.listen=Vf.prototype.N,Bp.prototype.listenOnce=Bp.prototype.O,Bp.prototype.getLastError=Bp.prototype.La,Bp.prototype.getLastErrorCode=Bp.prototype.Da,Bp.prototype.getStatus=Bp.prototype.ba,Bp.prototype.getResponseJson=Bp.prototype.Qa,Bp.prototype.getResponseText=Bp.prototype.ga,Bp.prototype.send=Bp.prototype.ea;var Tv=Eh.createWebChannelTransport=function(){return new kv},Sv=Eh.getStatEventTarget=function(){return pd()},Nv=Eh.ErrorCode=kd,Iv=Eh.EventType=xd,Av=Eh.Event=fd,Pv=Eh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rv=Eh.FetchXmlHttpFactory=Op,Ov=Eh.WebChannel=Cd,jv=Eh.XhrIo=Bp,Dv="@firebase/firestore",Mv=function(){function e(t){pe(this,e),this.uid=t}return me(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Mv.UNAUTHENTICATED=new Mv(null),Mv.GOOGLE_CREDENTIALS=new Mv("google-credentials-uid"),Mv.FIRST_PARTY=new Mv("first-party-uid"),Mv.MOCK_USER=new Mv("mock-user");var Lv="9.6.11",Fv=new At("@firebase/firestore");function Uv(){return Fv.logLevel}function Bv(e){if(Fv.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qv);Fv.debug.apply(Fv,["Firestore (".concat(Lv,"): ").concat(e)].concat(fe(i)))}}function Vv(e){if(Fv.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qv);Fv.error.apply(Fv,["Firestore (".concat(Lv,"): ").concat(e)].concat(fe(i)))}}function zv(e){if(Fv.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(qv);Fv.warn.apply(Fv,["Firestore (".concat(Lv,"): ").concat(e)].concat(fe(i)))}}function qv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Kv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Lv,") INTERNAL ASSERTION FAILED: ")+e;throw Vv(t),new Error(t)}function Hv(e,t){e||Kv()}function Wv(e,t){return e}var Gv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yv=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return me(n)}(Ve),Qv=me((function e(){var t=this;pe(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),$v=me((function e(t,n){pe(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Xv=function(){function e(){pe(this,e)}return me(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Jv=function(){function e(t){pe(this,e),this.token=t,this.changeListener=null}return me(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Zv=function(){function e(t){pe(this,e),this.t=t,this.currentUser=Mv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return me(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Qv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Qv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Bv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Bv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Bv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Hv("string"==typeof n.accessToken),new $v(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Hv(null===e||"string"==typeof e),new Mv(e)}}]),e}(),em=me((function e(t,n,r){pe(this,e),this.type="FirstParty",this.user=Mv.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),tm=function(){function e(t,n,r){pe(this,e),this.h=t,this.l=n,this.m=r}return me(e,[{key:"getToken",value:function(){return Promise.resolve(new em(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Mv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),nm=me((function e(t){pe(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),rm=function(){function e(t){pe(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return me(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Bv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Bv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Bv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Bv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Hv("string"==typeof t.token),e.p=t.token,new nm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),im=function(){function e(t,n){var r=this;pe(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return me(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function am(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}im.A=-1;var om=function(){function e(){pe(this,e)}return me(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=am(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function sm(e,t){return e<t?-1:e>t?1:0}function um(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function cm(e){return e+"\0"}var lm=function(){function e(t,n){if(pe(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Yv(Gv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Yv(Gv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Yv(Gv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yv(Gv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return me(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?sm(this.nanoseconds,e.nanoseconds):sm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),hm=function(){function e(t){pe(this,e),this.timestamp=t}return me(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new lm(0,0))}},{key:"max",value:function(){return new e(new lm(253402300799,999999999))}}]),e}();function fm(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function dm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var vm=function(){function e(t,n,r){pe(this,e),void 0===n?n=0:n>t.length&&Kv(),void 0===r?r=t.length-n:r>t.length-n&&Kv(),this.segments=t,this.offset=n,this.len=r}return me(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),mm=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,fe(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vm),ym=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gm=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ym.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Yv(Gv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Yv(Gv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Yv(Gv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(vm),wm=function(){function e(t){pe(this,e),this.fields=t,t.sort(gm.comparator)}return me(e,[{key:"covers",value:function(e){var t,n=de(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return um(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var bm=function(e){function t(e){pe(this,t),this.binaryString=e}return me(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return sm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();bm.EMPTY_BYTE_STRING=new bm("");var km=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xm(e){if(Hv(!!e),"string"==typeof e){var t=0,n=km.exec(e);if(Hv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:_m(e.seconds),nanos:_m(e.nanos)}}function _m(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Em(e){return"string"==typeof e?bm.fromBase64String(e):bm.fromUint8Array(e)}function Cm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tm(e){var t=e.mapValue.fields.__previous_value__;return Cm(t)?Tm(t):t}function Sm(e){var t=xm(e.mapValue.fields.__local_write_time__.timestampValue);return new lm(t.seconds,t.nanos)}var Nm=me((function e(t,n,r,i,a,o,s,u){pe(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Im=function(){function e(t,n){pe(this,e),this.projectId=t,this.database=n||"(default)"}return me(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Am(e){return null==e}function Pm(e){return 0===e&&1/e==-1/0}function Rm(e){return"number"==typeof e&&Number.isInteger(e)&&!Pm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Om=function(){function e(t){pe(this,e),this.path=t}return me(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===mm.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(mm.fromString(t))}},{key:"fromName",value:function(t){return new e(mm.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(mm.emptyPath())}},{key:"comparator",value:function(e,t){return mm.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new mm(t.slice()))}}]),e}(),jm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Dm={nullValue:"NULL_VALUE"};function Mm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Cm(e)?4:$m(e)?9:10:Kv()}function Lm(e,t){if(e===t)return!0;var n=Mm(e);if(n!==Mm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Sm(e).isEqual(Sm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xm(e.timestampValue),r=xm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Em(e.bytesValue).isEqual(Em(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _m(e.geoPointValue.latitude)===_m(t.geoPointValue.latitude)&&_m(e.geoPointValue.longitude)===_m(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _m(e.integerValue)===_m(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=_m(e.doubleValue),r=_m(t.doubleValue);return n===r?Pm(n)===Pm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return um(e.arrayValue.values||[],t.arrayValue.values||[],Lm);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(fm(n)!==fm(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lm(n[i],r[i])))return!1;return!0}(e,t);default:return Kv()}}function Fm(e,t){return void 0!==(e.values||[]).find((function(e){return Lm(e,t)}))}function Um(e,t){if(e===t)return 0;var n=Mm(e),r=Mm(t);if(n!==r)return sm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=_m(e.integerValue||e.doubleValue),r=_m(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bm(e.timestampValue,t.timestampValue);case 4:return Bm(Sm(e),Sm(t));case 5:return sm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Em(e),r=Em(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=sm(n[i],r[i]);if(0!==a)return a}return sm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=sm(_m(e.latitude),_m(t.latitude));return 0!==n?n:sm(_m(e.longitude),_m(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Um(n[i],r[i]);if(a)return a}return sm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=sm(r[o],a[o]);if(0!==s)return s;var u=Um(n[r[o]],i[a[o]]);if(0!==u)return u}return sm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Kv()}}function Bm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sm(e,t);var n=xm(e),r=xm(t),i=sm(n.seconds,r.seconds);return 0!==i?i:sm(n.nanos,r.nanos)}function Vm(e){return zm(e)}function zm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Em(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Om.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=de(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=zm(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=de(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(zm(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Kv();var t,n}function qm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Km(e){return!!e&&"integerValue"in e}function Hm(e){return!!e&&"arrayValue"in e}function Wm(e){return!!e&&"nullValue"in e}function Gm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ym(e){return!!e&&"mapValue"in e}function Qm(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return dm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Qm(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qm(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $m(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Xm(e){return"nullValue"in e?Dm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?qm(Im.empty(),Om.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Kv()}function Jm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?qm(Im.empty(),Om.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jm:Kv()}function Zm(e,t){return void 0===e?t:void 0===t||Um(e,t)>0?e:t}function ey(e,t){return void 0===e?t:void 0===t||Um(e,t)<0?e:t}var ty=function(){function e(t){pe(this,e),this.value=t}return me(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ym(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qm(t)}},{key:"setAll",value:function(e){var t=this,n=gm.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Qm(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ym(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Lm(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ym(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){dm(t,(function(t,n){return e[t]=n}));var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Qm(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ny(e){var t=[];return dm(e.fields,(function(e,n){var r=new gm([e]);if(Ym(n)){var i=ny(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=de(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new wm(t)}var ry=function(){function e(t,n,r,i,a,o){pe(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return me(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=ty.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=ty.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,hm.min(),hm.min(),ty.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,hm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,hm.min(),ty.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,hm.min(),ty.empty(),2)}}]),e}(),iy=me((function e(t,n,r,i){pe(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ay(e){return e.fields.find((function(e){return 2===e.kind}))}function oy(e){return e.fields.filter((function(e){return 2!==e.kind}))}iy.UNKNOWN_ID=-1;var sy=me((function e(t,n){pe(this,e),this.fieldPath=t,this.kind=n})),uy=function(){function e(t,n){pe(this,e),this.sequenceNumber=t,this.offset=n}return me(e,null,[{key:"empty",value:function(){return new e(0,hy.min())}}]),e}();function cy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=hm.fromTimestamp(1e9===r?new lm(n+1,0):new lm(n,r));return new hy(i,Om.empty(),t)}function ly(e){return new hy(e.readTime,e.key,-1)}var hy=function(){function e(t,n,r){pe(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return me(e,null,[{key:"min",value:function(){return new e(hm.min(),Om.empty(),-1)}},{key:"max",value:function(){return new e(hm.max(),Om.empty(),-1)}}]),e}();function fy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Om.comparator(e.documentKey,t.documentKey))?n:sm(e.largestBatchId,t.largestBatchId)}var dy=me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;pe(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.P=null}));function py(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new dy(e,t,n,r,i,a,o)}function vy(e){var t=Wv(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Vm(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Am(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Vm(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Vm(e)})).join(",")),t.P=n}return t.P}function my(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ry(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Lm(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jy(e.startAt,t.startAt)&&jy(e.endAt,t.endAt)}function yy(e){return Om.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gy(e,t){return e.filters.filter((function(e){return e instanceof ky&&e.field.isEqual(t)}))}function wy(e,t,n){var r,i,a=!0,o=de(gy(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,c=!0;switch(s.op){case"<":case"<=":u=Xm(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=Dm}Zm(r,u)===u&&(r=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];Zm(r,h)===h&&(r=h,a=n.inclusive);break}return{value:r,inclusive:a}}function by(e,t,n){var r,i,a=!0,o=de(gy(e,t));try{for(o.s();!(i=o.n()).done;){var s=i.value,u=void 0,c=!0;switch(s.op){case">=":case">":u=Jm(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=jm}ey(r,u)===u&&(r=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];ey(r,h)===h&&(r=h,a=n.inclusive);break}return{value:r,inclusive:a}}var ky=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Um(t,this.value)):null!==t&&Mm(this.value)===Mm(t)&&this.v(Um(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kv()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new xy(e,t,r):"array-contains"===t?new Ty(e,r):"in"===t?new Sy(e,r):"not-in"===t?new Ny(e,r):"array-contains-any"===t?new Iy(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new _y(e,n):new Ey(e,n)}}]),n}(function(){return me((function e(){pe(this,e)}))}()),xy=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this,e,r,i)).key=Om.fromName(i.referenceValue),a}return me(n,[{key:"matches",value:function(e){var t=Om.comparator(e.key,this.key);return this.v(t)}}]),n}(ky),_y=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,"in",r)).keys=Cy("in",r),i}return me(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ky),Ey=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,"not-in",r)).keys=Cy("not-in",r),i}return me(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ky);function Cy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Om.fromName(e.referenceValue)}))}var Ty=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"array-contains",r)}return me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Hm(t)&&Fm(t.arrayValue,this.value)}}]),n}(ky),Sy=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"in",r)}return me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Fm(this.value.arrayValue,t)}}]),n}(ky),Ny=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"not-in",r)}return me(n,[{key:"matches",value:function(e){if(Fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Fm(this.value.arrayValue,t)}}]),n}(ky),Iy=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"array-contains-any",r)}return me(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Fm(t.value.arrayValue,e)}))}}]),n}(ky),Ay=me((function e(t,n){pe(this,e),this.position=t,this.inclusive=n})),Py=me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";pe(this,e),this.field=t,this.dir=n}));function Ry(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Oy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Om.comparator(Om.fromName(o.referenceValue),n.key):Um(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Lm(e.position[n],t.position[n]))return!1;return!0}var Dy=me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;pe(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.D=null,this.C=null,this.startAt,this.endAt}));function My(e,t,n,r,i,a,o,s){return new Dy(e,t,n,r,i,a,o,s)}function Ly(e){return new Dy(e)}function Fy(e){return!Am(e.limit)&&"F"===e.limitType}function Uy(e){return!Am(e.limit)&&"L"===e.limitType}function By(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vy(e){var t,n=de(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function zy(e){return null!==e.collectionGroup}function qy(e){var t=Wv(e);if(null===t.D){t.D=[];var n=Vy(t),r=By(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Py(n)),t.D.push(new Py(gm.keyField(),"asc"));else{var i,a=!1,o=de(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.D.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Py(gm.keyField(),u))}}}return t.D}function Ky(e){var t=Wv(e);if(!t.C)if("F"===t.limitType)t.C=py(t.path,t.collectionGroup,qy(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=de(qy(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Py(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Ay(t.endAt.position,!t.endAt.inclusive):null,u=t.startAt?new Ay(t.startAt.position,!t.startAt.inclusive):null;t.C=py(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.C}function Hy(e,t,n){return new Dy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wy(e,t){return my(Ky(e),Ky(t))&&e.limitType===t.limitType}function Gy(e){return"".concat(vy(Ky(e)),"|lt:").concat(e.limitType)}function Yy(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Vm(t.value));var t})).join(", "),"]")),Am(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Vm(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Vm(e)})).join(",")),"Target(".concat(t,")")}(Ky(e)),"; limitType=").concat(e.limitType,")")}function Qy(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Om.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=de(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=de(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Oy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qy(e),t))&&!(e.endAt&&!function(e,t,n){var r=Oy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qy(e),t))}(e,t)}function $y(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xy(e){return function(t,n){var r,i=!1,a=de(qy(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Jy(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Jy(e,t,n){var r=e.field.isKeyField()?Om.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Um(r,i):Kv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Kv()}}function Zy(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pm(t)?"-0":t}}function eg(e){return{integerValue:""+e}}function tg(e,t){return Rm(t)?eg(t):Zy(e,t)}var ng=me((function e(){pe(this,e),this._=void 0}));function rg(e,t,n){return e instanceof og?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sg?ug(e,t):e instanceof cg?lg(e,t):function(e,t){var n=ag(e,t),r=fg(n)+fg(e.k);return Km(n)&&Km(e.k)?eg(r):Zy(e.M,r)}(e,t)}function ig(e,t,n){return e instanceof sg?ug(e,t):e instanceof cg?lg(e,t):n}function ag(e,t){return e instanceof hg?Km(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var og=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n)}(ng),sg=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).elements=e,r}return me(n)}(ng);function ug(e,t){var n,r=dg(t),i=de(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Lm(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var cg=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).elements=e,r}return me(n)}(ng);function lg(e,t){var n,r=dg(t),i=de(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Lm(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var hg=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).M=e,i.k=r,i}return me(n)}(ng);function fg(e){return _m(e.integerValue||e.doubleValue)}function dg(e){return Hm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var pg=me((function e(t,n){pe(this,e),this.field=t,this.transform=n}));var vg=me((function e(t,n){pe(this,e),this.version=t,this.transformResults=n})),mg=function(){function e(t,n){pe(this,e),this.updateTime=t,this.exists=n}return me(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function yg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var gg=me((function e(){pe(this,e)}));function wg(e,t,n){e instanceof Eg?function(e,t,n){var r=e.value.clone(),i=Sg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cg?function(e,t,n){if(yg(e.precondition,t)){var r=Sg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Tg(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function bg(e,t,n){e instanceof Eg?function(e,t,n){if(yg(e.precondition,t)){var r=e.value.clone(),i=Ng(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(_g(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Cg?function(e,t,n){if(yg(e.precondition,t)){var r=Ng(e.fieldTransforms,n,t),i=t.data;i.setAll(Tg(e)),i.setAll(r),t.convertToFoundDocument(_g(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){yg(e.precondition,t)&&t.convertToNoDocument(hm.min())}(e,t)}function kg(e,t){var n,r=null,i=de(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ag(a.transform,o||null);null!=s&&(null==r&&(r=ty.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function xg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&um(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sg&&t instanceof sg||e instanceof cg&&t instanceof cg?um(e.elements,t.elements,Lm):e instanceof hg&&t instanceof hg?Lm(e.k,t.k):e instanceof og&&t instanceof og}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function _g(e){return e.isFoundDocument()?e.version:hm.min()}var Eg=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return pe(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return me(n)}(gg),Cg=function(e){ae(n,e);var t=le(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return pe(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return me(n)}(gg);function Tg(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Sg(e,t,n){var r=new Map;Hv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,ig(o,s,n[i]))}return r}function Ng(e,t,n){var r,i=new Map,a=de(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,rg(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ig,Ag,Pg=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return me(n)}(gg),Rg=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return me(n)}(gg),Og=me((function e(t){pe(this,e),this.count=t}));function jg(e){switch(e){default:return Kv();case Gv.CANCELLED:case Gv.UNKNOWN:case Gv.DEADLINE_EXCEEDED:case Gv.RESOURCE_EXHAUSTED:case Gv.INTERNAL:case Gv.UNAVAILABLE:case Gv.UNAUTHENTICATED:return!1;case Gv.INVALID_ARGUMENT:case Gv.NOT_FOUND:case Gv.ALREADY_EXISTS:case Gv.PERMISSION_DENIED:case Gv.FAILED_PRECONDITION:case Gv.ABORTED:case Gv.OUT_OF_RANGE:case Gv.UNIMPLEMENTED:case Gv.DATA_LOSS:return!0}}function Dg(e){if(void 0===e)return Vv("GRPC error has no .code"),Gv.UNKNOWN;switch(e){case Ig.OK:return Gv.OK;case Ig.CANCELLED:return Gv.CANCELLED;case Ig.UNKNOWN:return Gv.UNKNOWN;case Ig.DEADLINE_EXCEEDED:return Gv.DEADLINE_EXCEEDED;case Ig.RESOURCE_EXHAUSTED:return Gv.RESOURCE_EXHAUSTED;case Ig.INTERNAL:return Gv.INTERNAL;case Ig.UNAVAILABLE:return Gv.UNAVAILABLE;case Ig.UNAUTHENTICATED:return Gv.UNAUTHENTICATED;case Ig.INVALID_ARGUMENT:return Gv.INVALID_ARGUMENT;case Ig.NOT_FOUND:return Gv.NOT_FOUND;case Ig.ALREADY_EXISTS:return Gv.ALREADY_EXISTS;case Ig.PERMISSION_DENIED:return Gv.PERMISSION_DENIED;case Ig.FAILED_PRECONDITION:return Gv.FAILED_PRECONDITION;case Ig.ABORTED:return Gv.ABORTED;case Ig.OUT_OF_RANGE:return Gv.OUT_OF_RANGE;case Ig.UNIMPLEMENTED:return Gv.UNIMPLEMENTED;case Ig.DATA_LOSS:return Gv.DATA_LOSS;default:return Kv()}}(Ag=Ig||(Ig={}))[Ag.OK=0]="OK",Ag[Ag.CANCELLED=1]="CANCELLED",Ag[Ag.UNKNOWN=2]="UNKNOWN",Ag[Ag.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ag[Ag.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ag[Ag.NOT_FOUND=5]="NOT_FOUND",Ag[Ag.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ag[Ag.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ag[Ag.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ag[Ag.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ag[Ag.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ag[Ag.ABORTED=10]="ABORTED",Ag[Ag.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ag[Ag.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ag[Ag.INTERNAL=13]="INTERNAL",Ag[Ag.UNAVAILABLE=14]="UNAVAILABLE",Ag[Ag.DATA_LOSS=15]="DATA_LOSS";var Mg=function(){function e(t,n){pe(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return me(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){dm(this.inner,(function(t,n){var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return pm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Lg=function(){function e(t,n){pe(this,e),this.comparator=t,this.root=n||Ug.EMPTY}return me(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ug.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ug.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fg(this.root,e,this.comparator,!0)}}]),e}(),Fg=function(){function e(t,n,r,i){pe(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return me(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ug=function(){function e(t,n,r,i,a){pe(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return me(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Kv();if(this.right.isRed())throw Kv();var e=this.left.check();if(e!==this.right.check())throw Kv();return e+(this.isRed()?0:1)}}]),e}();Ug.EMPTY=null,Ug.RED=!0,Ug.BLACK=!1,Ug.EMPTY=new(function(){function e(){pe(this,e),this.size=0}return me(e,[{key:"key",get:function(){throw Kv()}},{key:"value",get:function(){throw Kv()}},{key:"color",get:function(){throw Kv()}},{key:"left",get:function(){throw Kv()}},{key:"right",get:function(){throw Kv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ug(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Bg=function(){function e(t){pe(this,e),this.comparator=t,this.data=new Lg(this.comparator)}return me(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Vg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Vg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Vg=function(){function e(t){pe(this,e),this.iter=t}return me(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function zg(e){return e.hasNext()?e.getNext():void 0}var qg=new Lg(Om.comparator);function Kg(){return qg}var Hg=new Lg(Om.comparator);function Wg(){return Hg}function Gg(){return new Mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Yg=new Lg(Om.comparator),Qg=new Bg(Om.comparator);function $g(){for(var e=Qg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Xg=new Bg(sm);function Jg(){return Xg}var Zg=function(){function e(t,n,r,i,a){pe(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return me(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ew.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(hm.min(),r,Jg(),Kg(),$g())}}]),e}(),ew=function(){function e(t,n,r,i,a){pe(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return me(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(bm.EMPTY_BYTE_STRING,n,$g(),$g(),$g())}}]),e}(),tw=me((function e(t,n,r,i){pe(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),nw=me((function e(t,n){pe(this,e),this.targetId=t,this.$=n})),rw=me((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bm.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;pe(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),iw=function(){function e(){pe(this,e),this.B=0,this.L=sw(),this.U=bm.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return me(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=$g(),t=$g(),n=$g();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Kv()}})),new ew(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=sw()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),aw=function(){function e(t){pe(this,e),this.nt=t,this.st=new Map,this.it=Kg(),this.rt=ow(),this.ot=new Bg(sm)}return me(e,[{key:"ut",value:function(e){var t,n=de(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(s){n.e(s)}finally{n.f()}var i,a=de(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Kv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(yy(i))if(0===n){var a=new Om(i.path);this.ct(t,a,ry.newNoDocument(a,hm.min()))}else Hv(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&yy(a.target)){var o=new Om(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,ry.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=$g();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Zg(e,n,this.ot,this.it,r);return this.it=Kg(),this.rt=ow(),this.ot=new Bg(sm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new iw,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Bg(sm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Bv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new iw),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ow(){return new Lg(Om.comparator)}function sw(){return new Lg(Om.comparator)}var uw={asc:"ASCENDING",desc:"DESCENDING"},cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw=me((function e(t,n){pe(this,e),this.databaseId=t,this.N=n}));function hw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fw(e,t){return e.N?t.toBase64():t.toUint8Array()}function dw(e,t){return hw(e,t.toTimestamp())}function pw(e){return Hv(!!e),hm.fromTimestamp(function(e){var t=xm(e);return new lm(t.seconds,t.nanos)}(e))}function vw(e,t){return function(e){return new mm(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function mw(e){var t=mm.fromString(e);return Hv(Uw(t)),t}function yw(e,t){return vw(e.databaseId,t.path)}function gw(e,t){var n=mw(t);if(n.get(1)!==e.databaseId.projectId)throw new Yv(Gv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Yv(Gv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Om(xw(n))}function ww(e,t){return vw(e.databaseId,t)}function bw(e){var t=mw(e);return 4===t.length?mm.emptyPath():xw(t)}function kw(e){return new mm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xw(e){return Hv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _w(e,t,n){return{name:yw(e,t),fields:n.value.mapValue.fields}}function Ew(e,t,n){var r=gw(e,t.name),i=pw(t.updateTime),a=new ty({mapValue:{fields:t.fields}}),o=ry.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Cw(e,t){return"found"in t?function(e,t){Hv(!!t.found),t.found.name,t.found.updateTime;var n=gw(e,t.found.name),r=pw(t.found.updateTime),i=new ty({mapValue:{fields:t.found.fields}});return ry.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Hv(!!t.missing),Hv(!!t.readTime);var n=gw(e,t.missing),r=pw(t.readTime);return ry.newNoDocument(n,r)}(e,t):Kv()}function Tw(e,t){var n;if(t instanceof Eg)n={update:_w(e,t.key,t.value)};else if(t instanceof Pg)n={delete:yw(e,t.key)};else if(t instanceof Cg)n={update:_w(e,t.key,t.data),updateMask:Fw(t.fieldMask)};else{if(!(t instanceof Rg))return Kv();n={verify:yw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof og)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof cg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof hg)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Kv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:dw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Kv()}(e,t.precondition)),n}function Sw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?mg.updateTime(pw(e.updateTime)):void 0!==e.exists?mg.exists(e.exists):mg.none()}(t.currentDocument):mg.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Hv("REQUEST_TIME"===t.setToServerValue),n=new og;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new sg(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new cg(i)}else"increment"in t?n=new hg(e,t.increment):Kv();var a=gm.fromServerFormat(t.fieldPath);return new pg(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=gw(e,t.update.name),a=new ty({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new wm(t.map((function(e){return gm.fromServerFormat(e)})))}(t.updateMask);return new Cg(i,a,o,n,r)}return new Eg(i,a,n,r)}if(t.delete){var s=gw(e,t.delete);return new Pg(s,n)}if(t.verify){var u=gw(e,t.verify);return new Rg(u,n)}return Kv()}function Nw(e,t){return{documents:[ww(e,t.path)]}}function Iw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ww(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ww(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Gm(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NAN"}};if(Wm(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Gm(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NOT_NAN"}};if(Wm(e.value))return{unaryFilter:{field:jw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jw(e.field),op:Ow(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:jw(e.field),direction:Rw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.N||Am(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Aw(e){var t=bw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Hv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Pw(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Py(Dw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Am(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ay(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ay(n,t)}(n.endAt)),My(t,i,s,o,u,"F",c,l)}function Pw(e){return e?void 0!==e.unaryFilter?[Lw(e)]:void 0!==e.fieldFilter?[Mw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Pw(e)})).reduce((function(e,t){return e.concat(t)})):Kv():[]}function Rw(e){return uw[e]}function Ow(e){return cw[e]}function jw(e){return{fieldPath:e.canonicalString()}}function Dw(e){return gm.fromServerFormat(e.fieldPath)}function Mw(e){return ky.create(Dw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kv()}}(e.fieldFilter.op),e.fieldFilter.value)}function Lw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Dw(e.unaryFilter.field);return ky.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Dw(e.unaryFilter.field);return ky.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Dw(e.unaryFilter.field);return ky.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Dw(e.unaryFilter.field);return ky.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Kv()}}function Fw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Uw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Bw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zw(t)),t=Vw(e.get(n),t);return zw(t)}function Vw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zw(e){return e+"\x01\x01"}function qw(e){var t=e.length;if(Hv(t>=2),2===t)return Hv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),mm.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Kv(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Kv()}a=o+2}return new mm(r)}var Kw=["userId","batchId"];function Hw(e,t){return[e,Bw(t)]}function Ww(e,t,n){return[e,Bw(t),n]}var Gw={},Yw=["prefixPath","collectionGroup","readTime","documentId"],Qw=["prefixPath","collectionGroup","documentId"],$w=["collectionGroup","readTime","prefixPath","documentId"],Xw=["canonicalId","targetId"],Jw=["targetId","path"],Zw=["path","targetId"],eb=["collectionId","parent"],tb=["indexId","uid"],nb=["uid","sequenceNumber"],rb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ib=["indexId","uid","orderedDocumentKey"],ab=["userId","collectionPath","documentId"],ob=["userId","collectionPath","largestBatchId"],sb=["userId","collectionGroup","largestBatchId"],ub=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),cb=[].concat(fe(ub),["documentOverlays"]),lb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],hb=[].concat(lb,["indexConfiguration","indexState","indexEntries"]),fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",db=function(){function e(){pe(this,e),this.onCommittedListeners=[]}return me(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),pb=function(){function e(t){var n=this;pe(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return me(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Kv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=de(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),vb=function(){function e(t,n){var r=this;pe(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Qv,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new gb(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=_b(e.target.error);r.At.reject(new gb(t,n))}}return me(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Bv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new bb(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new gb(n,t)}}}]),e}(),mb=function(){function e(t,n,r){pe(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(Oe())&&Vv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return me(e,[{key:"Nt",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Bv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new gb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Yv(Gv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Yv(Gv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new gb(t,n))},i.onupgradeneeded=function(e){Bv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Bv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(ee().mark((function e(){var n,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=vb.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),pb.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,Bv("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Bv("SimpleDb","Removing database:",e),kb(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Be())return!1;if(e.St())return!0;var t=Oe(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),yb=function(){function e(t){pe(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return me(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return kb(this.Ft.delete())}}]),e}(),gb=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,Gv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return me(n)}(Yv);function wb(e){return"IndexedDbTransactionError"===e.name}var bb=function(){function e(t){pe(this,e),this.store=t}return me(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Bv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Bv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),kb(n)}},{key:"add",value:function(e){return Bv("SimpleDb","ADD",this.store.name,e,e),kb(this.store.add(e))}},{key:"get",value:function(e){var t=this;return kb(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Bv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Bv("SimpleDb","DELETE",this.store.name,e),kb(this.store.delete(e))}},{key:"count",value:function(){return Bv("SimpleDb","COUNT",this.store.name),kb(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new pb((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new pb((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Bv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new pb((function(n,r){t.onerror=function(e){var t=_b(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new pb((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new yb(i),o=t(i.primaryKey,i.value,a);if(o instanceof pb){var s=o.catch((function(e){return a.done(),pb.reject(e)}));n.push(s)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return pb.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function kb(e){return new pb((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=_b(e.target.error);n(t)}}))}var xb=!1;function _b(e){var t=mb.Vt(Oe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Yv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return xb||(xb=!0,setTimeout((function(){throw r}),0)),r}}return e}var Eb=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return me(n)}(db);function Cb(e,t){var n=Wv(e);return mb.xt(n.Ht,t)}var Tb=function(){function e(t,n,r,i){pe(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return me(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&wg(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=de(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&bg(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=de(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&bg(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(hm.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),$g())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&um(this.mutations,e.mutations,(function(e,t){return xg(e,t)}))&&um(this.baseMutations,e.baseMutations,(function(e,t){return xg(e,t)}))}}]),e}(),Sb=function(){function e(t,n,r,i){pe(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return me(e,null,[{key:"from",value:function(t,n,r){Hv(t.mutations.length===r.length);for(var i=Yg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Nb=function(){function e(t,n){pe(this,e),this.largestBatchId=t,this.mutation=n}return me(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ib=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:hm.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bm.EMPTY_BYTE_STRING;pe(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return me(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Ab=me((function e(t){pe(this,e),this.Jt=t}));function Pb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Rb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:hw(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ob(t.version)};else{if(!t.isUnknownDocument())return Kv();r.unknownDocument={path:n.path.toArray(),version:Ob(t.version)}}return r}function Rb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ob(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jb(e){var t=new lm(e.seconds,e.nanoseconds);return hm.fromTimestamp(t)}function Db(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Sw(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Sw(e.Jt,t)})),s=lm.fromMillis(t.localWriteTimeMs);return new Tb(t.batchId,s,n,o)}function Mb(e){var t,n,r=jb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jb(e.lastLimboFreeSnapshotVersion):hm.min();return void 0!==e.query.documents?(Hv(1===(n=e.query).documents.length),t=Ky(Ly(bw(n.documents[0])))):t=function(e){return Ky(Aw(e))}(e.query),new Ib(t,e.targetId,0,e.lastListenSequenceNumber,r,i,bm.fromBase64String(e.resumeToken))}function Lb(e,t){var n,r=Ob(t.snapshotVersion),i=Ob(t.lastLimboFreeSnapshotVersion);n=yy(t.target)?Nw(e.Jt,t.target):Iw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vy(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Fb(e){var t=Aw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hy(t,t.limit,"L"):t}function Ub(e,t){return new Nb(t.largestBatchId,Sw(e.Jt,t.overlayMutation))}function Bb(e,t){var n=t.path.lastSegment();return[e,Bw(t.path.popLast()),n]}var Vb=function(){function e(){pe(this,e)}return me(e,[{key:"getBundleMetadata",value:function(e,t){return zb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return zb(e).put({bundleId:(n=t).id,createTime:Ob(pw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return qb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Fb(t.bundledQuery),readTime:jb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return qb(e).put(function(e){return{name:e.name,readTime:Ob(pw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function zb(e){return Cb(e,"bundles")}function qb(e){return Cb(e,"namedQueries")}var Kb=function(){function e(t,n){pe(this,e),this.M=t,this.userId=n}return me(e,[{key:"getOverlay",value:function(e,t){var n=this;return Hb(e).get(Bb(this.userId,t)).next((function(e){return e?Ub(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Nb(t,a);i.push(r.Xt(e,o))})),pb.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Bw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Hb(e).Qt("collectionPathOverlayIndex",i))})),pb.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Gg(),a=Bw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hb(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Ub(r.M,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Gg(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hb(e).Wt({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Ub(a.M,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Hb(e).put(function(e,t,n){var r=c(Bb(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Tw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Hb(e){return Cb(e,"documentOverlays")}var Wb=function(){function e(){pe(this,e)}return me(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_m(e.integerValue));else if("doubleValue"in e){var n=_m(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Pm(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Em(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?$m(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Kv()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Om.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Gb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yb(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Gb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Wb.fe=new Wb;var Qb=function(){function e(){pe(this,e),this.buffer=new Uint8Array(1024),this.position=0}return me(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Yb(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Yb(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),$b=function(){function e(t){pe(this,e),this.De=t}return me(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),Xb=function(){function e(t){pe(this,e),this.De=t}return me(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),Jb=function(){function e(){pe(this,e),this.De=new Qb,this.Ce=new $b(this.De),this.xe=new Xb(this.De)}return me(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Zb=function(){function e(t,n,r,i){pe(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return me(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function ek(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=tk(e.arrayValue,t.arrayValue))?n:0!==(n=tk(e.directionalValue,t.directionalValue))?n:Om.comparator(e.documentKey,t.documentKey)}function tk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var nk=function(){function e(t){pe(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=de(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return me(e,[{key:"$e",value:function(e){var t=ay(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=oy(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=de(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),rk=function(){function e(){pe(this,e),this.qe=new ik}return me(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),pb.resolve()}},{key:"getCollectionParents",value:function(e,t){return pb.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return pb.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return pb.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return pb.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return pb.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return pb.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return pb.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return pb.resolve()}},{key:"updateIndexEntries",value:function(e,t){return pb.resolve()}}]),e}(),ik=function(){function e(){pe(this,e),this.index={}}return me(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bg(mm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Bg(mm.comparator)).toArray()}}]),e}(),ak=new Uint8Array(0),ok=function(){function e(t,n){pe(this,e),this.user=t,this.databaseId=n,this.Ke=new ik,this.Ge=new Mg((function(e){return vy(e)}),(function(e,t){return my(e,t)})),this.uid=t.uid||""}return me(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Bw(i)};return sk(e).put(a)}return pb.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[cm(t),""],!1,!0);return sk(e).qt(r).next((function(e){var r,i=de(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(qw(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=ck(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ck(e),r=lk(e),i=uk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=uk(e),i=!0,a=new Map;return pb.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=$g(),o=[];return pb.forEach(a,(function(i,a){var s;Bv("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(vy(t)));var u=function(e,t){var n=ay(t);if(void 0===n)return null;var r,i=de(gy(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=de(oy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=de(gy(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=de(oy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?wy(e,o.fieldPath,e.startAt):by(e,o.fieldPath,e.startAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ay(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=de(oy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?by(e,o.fieldPath,e.endAt):wy(e,o.fieldPath,e.endAt);if(!s.value)return null;r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Ay(r,i)}(a,i),f=n.je(i,a,l),d=n.je(i,a,h),p=n.We(i,a,c),v=n.ze(i.indexId,u,f,!!l&&l.inclusive,d,!!h&&h.inclusive,p);return pb.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Om.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return pb.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=u/(null!=t?t.length:1),l=[],h=function(u){var h=t?s.He(t[u/c]):ak,f=n?s.Je(e,h,n[u%c],r):s.Ye(e),d=i?s.Xe(e,h,i[u%c],a):s.Ye(e+1);l.push.apply(l,fe(s.createRange(f,d,o.map((function(t){return s.Je(e,h,t,!0)})))))},f=0;f<u;++f)h(f);return l}},{key:"Je",value:function(e,t,n,r){var i=new Zb(e,Om.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Zb(e,Om.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Zb(e,Om.empty(),ak,ak)}},{key:"getFieldIndex",value:function(e,t){var n=new nk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new Jb,i=de(oy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.Ne(a.kind);Wb.fe.Zt(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new Jb;return Wb.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new Jb;return Wb.fe.Zt(qm(this.databaseId,t),n.Ne(function(e){var t=oy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Jb);var i,a=0,o=de(oy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=de(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.en(t,u.fieldPath)&&Hm(c))r=this.nn(r,u,c);else{var f=h.Ne(u.kind);Wb.fe.Zt(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=fe(e),a=[],o=de(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=de(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new Jb;h.seed(l.Se()),Wb.fe.Zt(u,h.Ne(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ky&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ck(e),i=lk(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return pb.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new uy(t.sequenceNumber,new hy(jb(t.readTime),new Om(qw(t.documentKey)),t.largestBatchId)):uy.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new sy(gm.fromServerFormat(n),r)}));return new iy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ck(e),a=lk(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return pb.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ob(r.readTime),documentKey:Bw(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return pb.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?pb.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),pb.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?pb.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return uk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return uk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=uk(e),i=new Bg(ek);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Zb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Bg(ek),r=this.Ze(t,e);if(null==r)return n;var i=ay(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Hm(a)){var o,s=de(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new Zb(t.indexId,e.key,this.He(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new Zb(t.indexId,e.key,ak,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Bv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=zg(a),u=zg(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=zg(o)):l?(i(s),s=zg(a)):(s=zg(a),u=zg(o))}}(r,i,ek,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),pb.waitFor(o)}},{key:"rn",value:function(e){var t=1;return lk(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return ek(e,t)})).filter((function(e,t,n){return!t||0!==ek(e,n[t-1])}));var r=[];r.push(e);var i,a=de(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=ek(o,e),u=ek(o,t);if(0===s)r[0]=e.ke();else if(s>0&&u<0)r.push(o),r.push(o.ke());else if(u>0)break}}catch(h){a.e(h)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,ak,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,ak,[]]));return c}}]),e}();function sk(e){return Cb(e,"collectionParents")}function uk(e){return Cb(e,"indexEntries")}function ck(e){return Cb(e,"indexConfiguration")}function lk(e){return Cb(e,"indexState")}var hk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fk=function(){function e(t,n,r){pe(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return me(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function dk(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.Wt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Hv(1===s)})));var c,l=[],h=de(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=Ww(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return pb.waitFor(a).next((function(){return l}))}function pk(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Kv();t=e.noDocument}return JSON.stringify(t).length}fk.DEFAULT_COLLECTION_PERCENTILE=10,fk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fk.DEFAULT=new fk(41943040,fk.DEFAULT_COLLECTION_PERCENTILE,fk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fk.DISABLED=new fk(-1,0,0);var vk=function(){function e(t,n,r,i){pe(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return me(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yk(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=gk(e),o=yk(e);return o.add({}).next((function(s){Hv("number"==typeof s);var u,c=new Tb(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Tw(e.Jt,t)})),i=n.mutations.map((function(t){return Tw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),h=[],f=new Bg((function(e,t){return sm(e.canonicalString(),t.canonicalString())})),d=de(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=Ww(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,Gw))}}catch(m){d.e(m)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[s]=c.keys()})),pb.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return yk(e).get(t).next((function(e){return e?(Hv(e.userId===n.userId),Db(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?pb.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return yk(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Hv(t.batchId>=r),a=Db(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yk(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yk(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Db(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Hw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return gk(e).Wt({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],h=s[2],f=qw(l);if(u===n.userId&&t.path.isEqual(f))return yk(e).get(h).next((function(e){if(!e)throw Kv();Hv(e.userId===n.userId),a.push(Db(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bg(sm),i=[];return t.forEach((function(t){var a=Hw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=gk(e).Wt({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],h=qw(u);s===n.userId&&t.path.isEqual(h)?r=r.add(l):a.done()}));i.push(s)})),pb.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Hw(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Bg(sm);return gk(e).Wt({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],h=o[2],f=qw(l);u===n.userId&&r.isPrefixOf(f)?f.length===i&&(s=s.add(h)):a.done()})).next((function(){return n.dn(e,s)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yk(e).get(t).next((function(e){if(null===e)throw Kv();Hv(e.userId===n.userId),r.push(Db(n.M,e))})))})),pb.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return dk(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),pb.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return pb.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return gk(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=qw(e[1]);i.push(a)}else r.done()})).next((function(){Hv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return mk(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return wk(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Hv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function mk(e,t,n){var r=Hw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return gk(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function yk(e){return Cb(e,"mutations")}function gk(e){return Cb(e,"documentMutations")}function wk(e){return Cb(e,"mutationQueues")}var bk=function(){function e(t){pe(this,e),this.mn=t}return me(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),kk=function(){function e(t,n){pe(this,e),this.referenceDelegate=t,this.M=n}return me(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new bk(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return hm.fromTimestamp(new lm(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return xk(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Hv(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return xk(e).Wt((function(o,s){var u=Mb(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return pb.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return xk(e).Wt((function(e,n){var r=Mb(n);t(r)}))}},{key:"pn",value:function(e){return _k(e).get("targetGlobalKey").next((function(e){return Hv(null!==e),e}))}},{key:"In",value:function(e,t){return _k(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return xk(e).put(Lb(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vy(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xk(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Mb(n);my(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Ek(e);return t.forEach((function(t){var o=Bw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),pb.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Ek(e);return pb.forEach(t,(function(t){var a=Bw(t.path);return pb.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Ek(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ek(e),i=$g();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=qw(e[1]),a=new Om(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Bw(t.path),r=IDBKeyRange.bound([n],[cm(n)],!1,!0),i=0;return Ek(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return xk(e).get(t).next((function(e){return e?Mb(e):null}))}}]),e}();function xk(e){return Cb(e,"targets")}function _k(e){return Cb(e,"targetGlobal")}function Ek(e){return Cb(e,"targetDocuments")}function Ck(e){return Tk.apply(this,arguments)}function Tk(){return Tk=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Gv.FAILED_PRECONDITION&&t.message===fb){e.next=2;break}throw t;case 2:Bv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Sk(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=sm(r,o);return 0===u?sm(i,s):u}var Nk=function(){function e(t){pe(this,e),this.An=t,this.buffer=new Bg(Sk),this.Rn=0}return me(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Sk(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Ik=function(){function e(t,n){pe(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return me(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Bv("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!wb(n.t0)){n.next=12;break}Bv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Ck(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ak=function(){function e(t,n){pe(this,e),this.Dn=t,this.params=n}return me(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return pb.resolve(im.A);var r=new Nk(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Bv("LruGarbageCollector","Garbage collection skipped; disabled"),pb.resolve(hk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Bv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),hk):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Bv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Uv()<=kt.DEBUG&&Bv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),pb.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Pk=function(){function e(t,n){pe(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ak(e,t)}(this,n)}return me(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Rk(e,n)}},{key:"removeReference",value:function(e,t,n){return Rk(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Rk(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return wk(e).zt((function(r){return mk(e,r,t).next((function(e){return e&&(n=!0),pb.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,s){if(s<=t){var u=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,hm.min()),Ek(e).delete([0,Bw(o.path)])}))}));i.push(u)}})).next((function(){return pb.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Rk(e,t)}},{key:"Mn",value:function(e,t){var n,r=Ek(e),i=im.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==im.A&&t(new Om(qw(n)),i),i=u,n=s):i=im.A})).next((function(){i!==im.A&&t(new Om(qw(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Rk(e,t){return Ek(e).put(function(e,t){return{targetId:0,path:Bw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ok=function(){function e(){pe(this,e),this.changes=new Mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return me(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ry.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?pb.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jk=function(){function e(t){pe(this,e),this.M=t}return me(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Lk(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Lk(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Rb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=ry.newInvalidDocument(t);return Lk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fk(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:ry.newInvalidDocument(t)};return Lk(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Fk(t))},(function(e,i){r={document:n.$n(t,i),size:pk(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kg();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Kg(),i=new Lg(Om.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,pk(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return pb.resolve();var r=new Bg(Bk);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Fk(r.first()),Fk(r.last())),a=r.getIterator(),o=a.getNext();return Lk(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Om.fromSegments([].concat(fe(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Bk(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Fk(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Rb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lk(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Kg(),i=de(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Om.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(s){i.e(s)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kg(),o=Uk(t,n),s=Uk(t,hy.max());return Lk(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.$n(Om.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Dk(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Mk(e).get("remoteDocumentGlobalKey").next((function(e){return Hv(!!e),e}))}},{key:"Fn",value:function(e,t){return Mk(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Ew(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Om.fromSegments(t.noDocument.path),i=jb(t.noDocument.readTime);n=ry.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Kv();var a=Om.fromSegments(t.unknownDocument.path),o=jb(t.unknownDocument.version);n=ry.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new lm(e[0],e[1]);return hm.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(hm.min()))return n}return ry.newInvalidDocument(e)}}]),e}(),Dk=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return me(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Bg((function(e,t){return sm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Pb(t.Kn.M,o);i=i.add(a.path.popLast());var c=pk(u);r+=c-s.size,n.push(t.Kn.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Pb(t.Kn.M,o.convertToNoDocument(hm.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),pb.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ok);function Mk(e){return Cb(e,"remoteDocumentGlobal")}function Lk(e){return Cb(e,"remoteDocumentsV14")}function Fk(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Uk(e,t){var n=t.documentKey.path.toArray();return[e,Rb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Bk(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=sm(n[a],r[a]))return i;return(i=sm(n.length,r.length))||((i=sm(n[n.length-2],r[r.length-2]))||sm(n[n.length-1],r[r.length-1]))}var Vk=function(){function e(t){pe(this,e),this.M=t}return me(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new vb("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kw,{unique:!0}),e.createObjectStore("documentMutations")}(e),zk(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=pb.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),zk(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:hm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Kw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return pb.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ab});t.createIndex("collectionPathOverlayIndex",ob,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",sb,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Yw});t.createIndex("documentKeyIndex",Qw),t.createIndex("collectionGroupIndex",$w)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:tb}).createIndex("sequenceNumberIndex",nb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:rb}).createIndex("documentKeyIndex",ib,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=pk(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return pb.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return pb.forEach(r,(function(r){Hv(r.userId===n.userId);var i=Db(t.M,r);return dk(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new mm(n),o=function(e){return[0,Bw(e)]}(a);r.push(t.get(o).next((function(n){return n?pb.resolve():function(n){return t.put({targetId:0,path:Bw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return pb.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:eb});var n=t.store("collectionParents"),r=new ik,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Bw(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new mm(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],qw(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Mb(r),a=Lb(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Om(mm.fromString(i.document.name).popFirst(5)):i.noDocument?Om.fromSegments(i.noDocument.path):i.unknownDocument?Om.fromSegments(i.unknownDocument.path):Kv()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return pb.waitFor(r)}))}}]),e}();function zk(e){e.createObjectStore("targetDocuments",{keyPath:Jw}).createIndex("documentTargetsIndex",Zw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xw,{unique:!0}),e.createObjectStore("targetGlobal")}var qk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kk=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(pe(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=s,this.Xn=c,this.Zn=l,this.ts=h,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Yv(Gv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pk(this,i),this.hs=n+"main",this.M=new Ab(u),this.ls=new mb(this.hs,this.ts,new Vk(this.M)),this.fs=new kk(this.referenceDelegate,this.M),this.ds=function(e){return new jk(e)}(this.M),this._s=new Vb,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Vv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return me(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Yv(Gv.FAILED_PRECONDITION,qk);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new im(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=J(ee().mark((function n(r){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Wk(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(wb(t))return Bv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Bv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Hk(e).get("owner").next((function(e){return pb.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return Wk(e).delete(this.clientId)}},{key:"vs",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Cb(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return pb.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=de(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?pb.resolve(!0):Hk(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Yv(Gv.FAILED_PRECONDITION,qk);return!1}}return!(!t.networkEnabled||!t.inForeground)||Wk(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Bv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Eb(e,im.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Wk(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return vk.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new ok(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kb.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Bv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=14===(i=this.ts)?hb:13===i?lb:12===i?cb:11===i?ub:void Kv();return this.ls.runTransaction(e,o,s,(function(i){return a=new Eb(i,r.es?r.es.next():im.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Vv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Yv(Gv.FAILED_PRECONDITION,fb);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Hk(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Yv(Gv.FAILED_PRECONDITION,qk)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hk(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Hk(e);return n.get("owner").next((function(e){return t.bs(e)?(Bv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):pb.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Vv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Bv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Vv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Mh){Vv("Failed to set zombie client id.",Mh)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Mh){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return mb.vt()}}]),e}();function Hk(e){return Cb(e,"owner")}function Wk(e){return Cb(e,"clientMetadata")}function Gk(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Yk=function(){function e(t,n,r){pe(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return me(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=de(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=de(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Om.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):zy(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Om(t)).next((function(e){var t=Wg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Wg();return this.indexManager.getCollectionParents(e,i).next((function(o){return pb.forEach(o,(function(o){var s=function(e,t){return new Dy(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=de(a.mutations);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=s.key,c=r.get(u);null==c&&(c=ry.newInvalidDocument(u),r=r.insert(u,c)),bg(s,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Qy(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Qk=function(){function e(t,n,r,i){pe(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return me(e,null,[{key:"Ys",value:function(t,n){var r,i=$g(),a=$g(),o=de(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$k=function(){function e(){pe(this,e)}return me(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(hm.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Fy(t)||Uy(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Uv()<=kt.DEBUG&&Bv("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Yy(t)),i.Zs.Qs(e,t,cy(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Bg(Xy(e));return t.forEach((function(t,r){Qy(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Uv()<=kt.DEBUG&&Bv("QueryEngine","Using full collection scan to execute query:",Yy(t)),this.Zs.Qs(e,t,hy.min())}}]),e}(),Xk=function(){function e(t,n,r,i){pe(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Lg(sm),this.ri=new Mg((function(e){return vy(e)}),my),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return me(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new Yk(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function Jk(e,t,n,r){return new Xk(e,t,n,r)}function Zk(e,t){return ex.apply(this,arguments)}function ex(){return ex=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=$g(),u=de(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=de(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(w){h.e(w)}finally{h.f()}}}catch(w){u.e(w)}finally{u.f()}var d,p=de(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=de(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(w){y.e(w)}finally{y.f()}}}catch(w){p.e(w)}finally{p.f()}return r.ci.Ks(e,s).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){var n=Wv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=pb.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Hv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function nx(e){var t=Wv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function rx(e,t){var n=Wv(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(bm.EMPTY_BYTE_STRING,hm.min()).withLastLimboFreeSnapshotVersion(hm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var s=Kg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ix(e,a,t.documentUpdates).next((function(e){s=e}))),!r.isEqual(hm.min())){var u=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return pb.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,s)})).next((function(){return s}))})).then((function(e){return n.ii=i,e}))}function ix(e,t,n){var r=$g();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kg();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(hm.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Bv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function ax(e,t){var n=Wv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function ox(e,t){var n=Wv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,pb.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new Ib(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function sx(e,t,n){return ux.apply(this,arguments)}function ux(){return ux=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wv(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),wb(e.t1)){e.next=12;break}throw e.t1;case 12:Bv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),ux.apply(this,arguments)}function cx(e,t,n){var r=Wv(e),i=hm.min(),a=$g();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Wv(e),i=r.ri.get(n);return void 0!==i?pb.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Ky(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:hm.min(),n?a:$g())})).next((function(e){return fx(r,$y(t),e),{documents:e,li:a}}))}))}function lx(e,t){var n=Wv(e),r=Wv(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function hx(e,t){var n=Wv(e),r=n.oi.get(t)||hm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,cy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return fx(n,t,e),e}))}function fx(e,t,n){var r=hm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function dx(e,t,n,r){return px.apply(this,arguments)}function px(){return px=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Wv(t),o=$g(),s=Kg(),u=de(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.fi(l.metadata.name),l.document&&(o=o.add(h)),(f=n.di(l)).setReadTime(n._i(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,ox(a,function(e){return Ky(Ly(mm.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ix(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=J(ee().mark((function e(t,n){var r,i,a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:$g(),e.next=3,ox(t,Ky(Fb(n.bundledQuery)));case 3:return i=e.sent,a=Wv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=pw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(bm.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}var yx=function(){function e(t){pe(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return me(e,[{key:"getBundleMetadata",value:function(e,t){return pb.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:pw(n.createTime)}),pb.resolve()}},{key:"getNamedQuery",value:function(e,t){return pb.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Fb(e.bundledQuery),readTime:pw(e.readTime)}}(t)),pb.resolve()}}]),e}(),gx=function(){function e(){pe(this,e),this.overlays=new Lg(Om.comparator),this.gi=new Map}return me(e,[{key:"getOverlay",value:function(e,t){return pb.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),pb.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),pb.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Gg(),i=t.length+1,a=new Om(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return pb.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Lg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Gg(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Gg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return pb.resolve(u)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Nb(t,n));var a=this.gi.get(t);void 0===a&&(a=$g(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),wx=function(){function e(){pe(this,e),this.yi=new Bg(bx.pi),this.Ii=new Bg(bx.Ti)}return me(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new bx(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new bx(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Om(new mm([])),r=new bx(n,e),i=new bx(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Om(new mm([])),n=new bx(t,e),r=new bx(t,e+1),i=$g();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new bx(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),bx=function(){function e(t,n){pe(this,e),this.key=t,this.vi=n}return me(e,null,[{key:"pi",value:function(e,t){return Om.comparator(e.key,t.key)||sm(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return sm(e.vi,t.vi)||Om.comparator(e.key,t.key)}}]),e}(),kx=function(){function e(t,n){pe(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Bg(bx.pi)}return me(e,[{key:"checkEmpty",value:function(e){return pb.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Tb(i,t,n,r);this.Bs.push(a);var o,s=de(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Di=this.Di.add(new bx(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return pb.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return pb.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return pb.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return pb.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return pb.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new bx(t,0),i=new bx(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),pb.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Bg(sm);return t.forEach((function(e){var t=new bx(e,0),i=new bx(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),pb.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Om.isDocumentKey(i)||(i=i.child(""));var a=new bx(new Om(i),0),o=new Bg(sm);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),pb.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Hv(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return pb.forEach(t.mutations,(function(i){var a=new bx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new bx(t,0),r=this.Di.firstAfterOrEqual(n);return pb.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,pb.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),xx=function(){function e(t){pe(this,e),this.Mi=t,this.docs=new Lg(Om.comparator),this.size=0}return me(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return pb.resolve(n?n.document.mutableCopy():ry.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ry.newInvalidDocument(e))})),pb.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kg(),i=new Om(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||fy(ly(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return pb.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Kv()}},{key:"Oi",value:function(e,t){return pb.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new _x(this)}},{key:"getSize",value:function(e){return pb.resolve(this.size)}}]),e}(),_x=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).Kn=e,r}return me(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),pb.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Ok),Ex=function(){function e(t){pe(this,e),this.persistence=t,this.Fi=new Mg((function(e){return vy(e)}),my),this.lastRemoteSnapshotVersion=hm.min(),this.highestTargetId=0,this.$i=0,this.Bi=new wx,this.targetCount=0,this.Li=bk.gn()}return me(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),pb.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return pb.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return pb.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),pb.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),pb.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new bk(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,pb.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),pb.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,pb.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),pb.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return pb.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return pb.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),pb.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),pb.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),pb.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return pb.resolve(n)}},{key:"containsKey",value:function(e,t){return pb.resolve(this.Bi.containsKey(t))}}]),e}(),Cx=function(){function e(t,n){var r=this;pe(this,e),this.Ui={},this.overlays={},this.es=new im(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new Ex(this),this.indexManager=new rk,this.ds=new xx((function(e){return r.referenceDelegate.qi(e)})),this.M=new Ab(n),this._s=new yx(this.M)}return me(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new gx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new kx(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Bv("MemoryPersistence","Starting transaction:",e);var i=new Tx(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return pb.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Tx=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return me(n)}(db),Sx=function(){function e(t){pe(this,e),this.persistence=t,this.ji=new wx,this.Wi=null}return me(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Kv()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),pb.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),pb.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),pb.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pb.forEach(this.Hi,(function(r){var i=Om.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,hm.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return pb.or([function(){return pb.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function Nx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Ix(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ax(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Px=function(){function e(t,n,r,i){pe(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return me(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Yv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Vv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Rx=function(){function e(t,n,r){pe(this,e),this.targetId=t,this.state=n,this.error=r}return me(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yv(i.error.code,i.error.message))),a?new e(t,i.state,r):(Vv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ox=function(){function e(t,n){pe(this,e),this.clientId=t,this.activeTargetIds=n}return me(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Jg(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Vv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),jx=function(){function e(t,n){pe(this,e),this.clientId=t,this.onlineState=n}return me(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Dx=function(){function e(){pe(this,e),this.activeTargetIds=Jg()}return me(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Mx=function(){function e(t,n,r,i,a){pe(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Lg(sm),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=Nx(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new Dx),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return me(e,[{key:"start",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=de(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Nx(this.persistenceKey,i)))&&(o=Ox.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(s=this.storage.getItem(this.dr))&&(u=this.mr(s))&&this.gr(u),c=de(this.rr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.sr(h)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ax(this.persistenceKey,e));if(n){var r=Rx.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ax(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Bv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Bv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Bv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Bv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Vv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(J(ee().mark((function e(){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(s));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}u=function(e){var t=im.A;if(null!=e)try{var n=JSON.parse(e);Hv("number"==typeof n),t=n}catch(e){Vv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==im.A&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new Px(this.currentUser,e,t,n),i=Ix(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=Ix(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=Ax(this.persistenceKey,e),i=new Rx(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return Ox.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Px.Yi(new Mv(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return Rx.Yi(r,t)}},{key:"mr",value:function(e){return jx.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Bv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.Fr(o,s).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Jg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Lx=function(){function e(){pe(this,e),this.$r=new Dx,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return me(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new Dx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Fx=function(){function e(){pe(this,e)}return me(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Ux=function(){function e(){var t=this;pe(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return me(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Bv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=de(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Bv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=de(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Vx=function(){function e(t){pe(this,e),this.Wr=t.Wr,this.zr=t.zr}return me(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),zx=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return me(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new jv;o.listenOnce(Iv.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Nv.NO_ERROR:var t=o.getResponseJson();Bv("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nv.TIMEOUT:Bv("Connection",'RPC "'+e+'" timed out'),a(new Yv(Gv.DEADLINE_EXCEEDED,"Request time out"));break;case Nv.HTTP_ERROR:var n=o.getStatus();if(Bv("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gv).indexOf(t)>=0?t:Gv.UNKNOWN}(r.status);a(new Yv(s,r.message))}else a(new Yv(Gv.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Yv(Gv.UNAVAILABLE,"Connection failed."));break;default:Kv()}}finally{Bv("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Tv(),a=Sv(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Rv({})),this.ao(o.initMessageHeaders,t,n),je()||Le()||Oe().indexOf("Electron/")>=0||Fe()||Oe().indexOf("MSAppHost/")>=0||Me()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Bv("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new Vx({Wr:function(e){l?Bv("Connection","Not sending because WebChannel is closed:",e):(c||(Bv("Connection","Opening WebChannel transport."),u.open(),c=!0),Bv("Connection","WebChannel sending:",e),u.send(e))},zr:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Ov.EventType.OPEN,(function(){l||Bv("Connection","WebChannel transport opened.")})),f(u,Ov.EventType.CLOSE,(function(){l||(l=!0,Bv("Connection","WebChannel transport closed"),h.no())})),f(u,Ov.EventType.ERROR,(function(e){l||(l=!0,zv("Connection","WebChannel transport errored:",e),h.no(new Yv(Gv.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ov.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Hv(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Bv("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ig[e];if(void 0!==t)return Dg(t)}(a),s=i.message;void 0===o&&(o=Gv.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.no(new Yv(o,s)),u.close()}else Bv("Connection","WebChannel received:",n),h.so(n)}})),f(a,Av.STAT_EVENT,(function(e){e.stat===Pv.PROXY?Bv("Connection","Detected buffering proxy"):e.stat===Pv.NOPROXY&&Bv("Connection","Detected no buffering proxy")})),setTimeout((function(){h.eo()}),0),h}}]),n}(function(){function e(t){pe(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return me(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Bv("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Bv("RestConnection","Received: ",e),e}),(function(t){throw zv("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=Bx[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function qx(){return"undefined"!=typeof window?window:null}function Kx(){return"undefined"!=typeof document?document:null}function Hx(e){return new lw(e,!0)}var Wx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;pe(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return me(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Bv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),Gx=function(){function e(t,n,r,i,a,o,s,u){pe(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Wx(t,n)}return me(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Gv.RESOURCE_EXHAUSTED?(Vv(n.toString()),Vv("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Gv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Yv(Gv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Bv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Bv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Yx=function(e){ae(n,e);var t=le(n);function n(e,r,i,a,o,s){var u;return pe(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).M=o,u}return me(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Kv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Hv(void 0===t||"string"==typeof t),bm.fromBase64String(t||"")):(Hv(void 0===t||t instanceof Uint8Array),bm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Gv.UNKNOWN:Dg(e.code);return new Yv(t,e.message||"")}(o);n=new rw(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=gw(e,u.document.name),l=pw(u.document.updateTime),h=new ty({mapValue:{fields:u.document.fields}}),f=ry.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new tw(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=gw(e,v.document),y=v.readTime?pw(v.readTime):hm.min(),g=ry.newNoDocument(m,y),w=v.removedTargetIds||[];n=new tw([],w,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var k=gw(e,b.document),x=b.removedTargetIds||[];n=new tw([],x,k,null)}else{if(!("filter"in t))return Kv();t.filter;var _=t.filter;_.targetId;var E=_.count||0,C=new Og(E),T=_.targetId;n=new nw(T,C)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return hm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?hm.min():t.readTime?pw(t.readTime):hm.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=kw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=yy(r)?{documents:Nw(e,r)}:{query:Iw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fw(e,t.resumeToken):t.snapshotVersion.compareTo(hm.min())>0&&(n.readTime=hw(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Kv()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=kw(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(Gx),Qx=function(e){ae(n,e);var t=le(n);function n(e,r,i,a,o,s){var u;return pe(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).M=o,u.zo=!1,u}return me(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,kh(oe(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Hv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Hv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?pw(e.updateTime):pw(t);return n.isEqual(hm.min())&&(n=pw(t)),new vg(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=pw(e.commitTime);return this.listener.Yo(n,t)}return Hv(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=kw(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Tw(t.M,e)}))};this.Fo(n)}}]),n}(Gx),$x=function(e){ae(n,e);var t=le(n);function n(e,r,i,a){var o;return pe(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return me(n,[{key:"eu",value:function(){if(this.tu)throw new Yv(Gv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.oo(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Yv(Gv.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.bo.ho(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Gv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Yv(Gv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return me((function e(){pe(this,e)}))}()),Xx=function(){function e(t,n){pe(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return me(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Vv(t),this.iu=!1):Bv("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),Jx=me((function e(t,n,r,i,a){var o=this;pe(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=c_(o),!e.t0){e.next=5;break}return Bv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wv(t)).fu.add(4),e.next=4,t_(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,Zx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new Xx(r,i)}));function Zx(e){return e_.apply(this,arguments)}function e_(){return e_=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c_(t)){e.next=18;break}n=de(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),e_.apply(this,arguments)}function t_(e){return n_.apply(this,arguments)}function n_(){return n_=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=de(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),n_.apply(this,arguments)}function r_(e,t){var n=Wv(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),u_(n)?s_(n):F_(n).xo()&&a_(n,t))}function i_(e,t){var n=Wv(e),r=F_(n);n.lu.delete(t),r.xo()&&o_(n,t),0===n.lu.size&&(r.xo()?r.Mo():c_(n)&&n.wu.set("Unknown"))}function a_(e,t){e.mu.Z(t.targetId),F_(e).jo(t)}function o_(e,t){e.mu.Z(t),F_(e).Wo(t)}function s_(e){e.mu=new aw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),F_(e).start(),e.wu.ru()}function u_(e){return c_(e)&&!F_(e).Co()&&e.lu.size>0}function c_(e){return 0===Wv(e).fu.size}function l_(e){e.mu=void 0}function h_(e){return f_.apply(this,arguments)}function f_(){return f_=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){a_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l_(t),u_(t)?(t.wu.au(n),s_(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t,n){return m_.apply(this,arguments)}function m_(){return m_=J(ee().mark((function e(t,n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof rw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=de(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Bv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,y_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof tw?t.mu.ut(n):n instanceof nw?t.mu._t(n):t.mu.ht(n),r.isEqual(hm.min())){e.next=29;break}return e.prev=14,e.next=17,nx(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(bm.EMPTY_BYTE_STRING,n.snapshotVersion)),o_(e,t);var r=new Ib(n.target,t,1,n.sequenceNumber);a_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Bv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,y_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),m_.apply(this,arguments)}function y_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wb(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,t_(t);case 5:t.wu.set("Offline"),r||(r=function(){return nx(t.localStore)}),t.asyncQueue.enqueueRetryable(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,Zx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function w_(e,t){return t().catch((function(n){return y_(e,n,t)}))}function b_(e){return k_.apply(this,arguments)}function k_(){return k_=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Wv(t),r=U_(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!x_(n)){e.next=19;break}return e.prev=3,e.next=6,ax(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,__(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,y_(n,e.t0);case 17:e.next=2;break;case 19:E_(n)&&C_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),k_.apply(this,arguments)}function x_(e){return c_(e)&&e.hu.length<10}function __(e,t){e.hu.push(t);var n=U_(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function E_(e){return c_(e)&&!U_(e).Co()&&e.hu.length>0}function C_(e){U_(e).start()}function T_(e){return S_.apply(this,arguments)}function S_(){return S_=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U_(t).Zo();case 1:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function N_(e){return I_.apply(this,arguments)}function I_(){return I_=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=U_(t),r=de(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),I_.apply(this,arguments)}function A_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=Sb.from(i,n,r),e.next=3,w_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,b_(t);case 5:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function R_(e,t){return O_.apply(this,arguments)}function O_(){return O_=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&U_(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!jg(i=n.code)||i===Gv.ABORTED){e.next=7;break}return r=t.hu.shift(),U_(t).ko(),e.next=5,w_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,b_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:E_(t)&&C_(t);case 5:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function j_(e,t){return D_.apply(this,arguments)}function D_(){return D_=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Wv(t)).asyncQueue.verifyOperationInProgress(),Bv("RemoteStore","RemoteStore received new credentials"),i=c_(r),r.fu.add(3),e.next=6,t_(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,Zx(r);case 12:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function M_(e,t){return L_.apply(this,arguments)}function L_(){return L_=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,Zx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,t_(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}function F_(e){return e.gu||(e.gu=function(e,t,n){var r=Wv(e);return r.eu(),new Yx(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:h_.bind(null,e),Yr:d_.bind(null,e),Qo:v_.bind(null,e)}),e.du.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),u_(e)?s_(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:l_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function U_(e){return e.yu||(e.yu=function(e,t,n){var r=Wv(e);return r.eu(),new Qx(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:T_.bind(null,e),Yr:R_.bind(null,e),Xo:N_.bind(null,e),Yo:A_.bind(null,e)}),e.du.push(function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,b_(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Bv("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var B_=function(){function e(t,n,r,i,a){pe(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Qv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return me(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yv(Gv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function V_(e,t){if(Vv("AsyncQueue","".concat(t,": ").concat(e)),wb(e))return new Yv(Gv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var z_=function(){function e(t){pe(this,e),this.comparator=t?function(e,n){return t(e,n)||Om.comparator(e.key,n.key)}:function(e,t){return Om.comparator(e.key,t.key)},this.keyedMap=Wg(),this.sortedSet=new Lg(this.comparator)}return me(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),q_=function(){function e(){pe(this,e),this.pu=new Lg(Om.comparator)}return me(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Kv():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),K_=function(){function e(t,n,r,i,a,o,s,u){pe(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return me(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,z_.emptySet(n),a,r,i,!0,!1)}}]),e}(),H_=me((function e(){pe(this,e),this.Tu=void 0,this.listeners=[]})),W_=me((function e(){pe(this,e),this.queries=new Mg((function(e){return Gy(e)}),Wy),this.onlineState="Unknown",this.Eu=new Set}));function G_(e,t){return Y_.apply(this,arguments)}function Y_(){return Y_=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new H_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=V_(e.t0,"Initialization of query '".concat(Yy(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&Z_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Y_.apply(this,arguments)}function Q_(e,t){return $_.apply(this,arguments)}function $_(){return $_=J(ee().mark((function e(t,n){var r,i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}function X_(e,t){var n,r=Wv(e),i=!1,a=de(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=de(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.Tu=o}}}catch(h){a.e(h)}finally{a.f()}i&&Z_(r)}function J_(e,t,n){var r=Wv(e),i=r.queries.get(t);if(i){var a,o=de(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Z_(e){e.Eu.forEach((function(e){e.next()}))}var eE=function(){function e(t,n,r){pe(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return me(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=de(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new K_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=K_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),tE=function(){function e(t,n){pe(this,e),this.payload=t,this.byteLength=n}return me(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),nE=function(){function e(t){pe(this,e),this.M=t}return me(e,[{key:"fi",value:function(e){return gw(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?Ew(this.M,e.document,!1):ry.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return pw(e)}}]),e}(),rE=function(){function e(t,n,r){pe(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=iE(t)}return me(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=mm.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new nE(this.M),i=de(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.fi(a.metadata.name),u=de(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||$g()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dx(this.localStore,new nE(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=de(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,vx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function iE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var aE=me((function e(t){pe(this,e),this.key=t})),oE=me((function e(t){pe(this,e),this.key=t})),sE=function(){function e(t,n){pe(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=$g(),this.mutatedKeys=$g(),this.Uu=Xy(t),this.qu=new z_(this.Uu)}return me(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new q_,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=Fy(this.query)&&i.size===this.query.limit?i.last():null,c=Uy(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Qy(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.ju(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Uu(h,u)>0||c&&n.Uu(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Fy(this.query)||Uy(this.query))for(;o.size>this.query.limit;){var l=Fy(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:s,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kv()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],s=0===this.Lu.size&&this.current?1:0,u=s!==this.Bu;return this.Bu=s,0!==a.length||u?{snapshot:new K_(this.query,e.qu,i,a,e.mutatedKeys,0===s,u,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new q_,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=$g(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new oE(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new aE(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=$g();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return K_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),uE=me((function e(t,n,r){pe(this,e),this.query=t,this.targetId=n,this.view=r})),cE=me((function e(t){pe(this,e),this.key=t,this.Zu=!1})),lE=function(){function e(t,n,r,i,a,o){pe(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Mg((function(e){return Gy(e)}),Wy),this.na=new Map,this.sa=new Set,this.ia=new Lg(Om.comparator),this.ra=new Map,this.oa=new wx,this.ua={},this.aa=new Map,this.ca=bk.yn(),this.onlineState="Unknown",this.ha=void 0}return me(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function hE(e,t){return fE.apply(this,arguments)}function fE(){return fE=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=iC(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,ox(r.localStore,Ky(n));case 8:return s=e.sent,r.isPrimaryClient&&r_(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,dE(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(e,t,n,r){return pE.apply(this,arguments)}function pE(){return pE=J(ee().mark((function e(t,n,r,i){var a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,cx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(jE(t,n.targetId,s.Hu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,cx(t.localStore,n,!0);case 3:return a=e.sent,o=new sE(n,a.li),s=o.Gu(a.documents),u=ew.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),jE(t,r,c.Hu),l=new uE(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Wv(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Wy(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sx(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),i_(r.remoteStore,i.targetId),RE(r,i.targetId)})).catch(Ck);case 9:e.next=14;break;case 11:return RE(r,i.targetId),e.next=14,sx(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=aC(t),e.prev=1,e.next=4,function(e,t){var n,r=Wv(e),i=lm.now(),a=t.reduce((function(e,t){return e.add(t.key)}),$g());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,s=[],u=de(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=kg(c,n.get(c.key));null!=l&&s.push(new Cg(c.key,l,ny(l.value.mapValue),mg.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return r.Bs.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Lg(sm)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,LE(i,a.changes);case 9:return e.next=11,b_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=V_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),gE.apply(this,arguments)}function wE(e,t){return bE.apply(this,arguments)}function bE(){return bE=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.prev=1,e.next=4,rx(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Hv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Hv(n.Zu):e.removedDocuments.size>0&&(Hv(n.Zu),n.Zu=!1))})),e.next=8,LE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ck(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bE.apply(this,arguments)}function kE(e,t,n){var r=Wv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Wv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=de(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Z_(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xE(e,t,n){return _E.apply(this,arguments)}function _E(){return _E=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Wv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Lg(Om.comparator)).insert(o,ry.newNoDocument(o,hm.min())),u=$g().add(o),c=new Zg(hm.min(),new Map,new Bg(sm),s,u),e.next=9,wE(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),ME(i),e.next=16;break;case 14:return e.next=16,sx(i.localStore,n,!1).then((function(){return RE(i,n,r)})).catch(Ck);case 16:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function EE(e,t){return CE.apply(this,arguments)}function CE(){return CE=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=n.batch.batchId,e.prev=1,e.next=4,tx(r.localStore,n);case 4:return a=e.sent,PE(r,i,null),AE(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,LE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ck(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),CE.apply(this,arguments)}function TE(e,t,n){return SE.apply(this,arguments)}function SE(){return SE=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wv(t),e.prev=1,e.next=4,function(e,t){var n=Wv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Hv(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,PE(i,n,r),AE(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,LE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ck(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),SE.apply(this,arguments)}function NE(e,t){return IE.apply(this,arguments)}function IE(){return IE=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c_((r=Wv(t)).remoteStore)||Bv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Wv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=V_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),IE.apply(this,arguments)}function AE(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function PE(e,t,n){var r=Wv(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function RE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=de(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||OE(e,t)}))}function OE(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(i_(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),ME(e))}function jE(e,t,n){var r,i=de(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof aE?(e.oa.addReference(a.key,t),DE(e,a)):a instanceof oE?(Bv("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||OE(e,a.key)):Kv()}}catch(o){i.e(o)}finally{i.f()}}function DE(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Bv("SyncEngine","New document in limbo: "+n),e.sa.add(r),ME(e))}function ME(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Om(mm.fromString(t)),r=e.ca.next();e.ra.set(r,new cE(n)),e.ia=e.ia.insert(n,r),r_(e.remoteStore,new Ib(Ky(Ly(n.path)),r,2,im.A))}}function LE(e,t,n){return FE.apply(this,arguments)}function FE(){return FE=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Wv(t),a=[],o=[],s=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){s.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Qk.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.ta.Qo(a),e.next=9,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return pb.forEach(n,(function(t){return pb.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return pb.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),wb(e.t0)){e.next=10;break}throw e.t0;case 10:Bv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=de(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.ii.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),FE.apply(this,arguments)}function UE(e,t){return BE.apply(this,arguments)}function BE(){return BE=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Wv(t)).currentUser.isEqual(n)){e.next=11;break}return Bv("SyncEngine","User change. New user:",n.toKey()),e.next=5,Zk(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Yv(Gv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,LE(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function VE(e,t){var n=Wv(e),r=n.ra.get(t);if(r&&r.Zu)return $g().add(r.key);var i=$g(),a=n.na.get(t);if(!a)return i;var o,s=de(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.ea.get(u);i=i.unionWith(c.view.Ku)}}catch(l){s.e(l)}finally{s.f()}return i}function zE(e,t){return qE.apply(this,arguments)}function qE(){return qE=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.next=3,cx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&jE(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function KE(e,t){return HE.apply(this,arguments)}function HE(){return HE=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),e.abrupt("return",hx(r.localStore,n).then((function(e){return LE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),HE.apply(this,arguments)}function WE(e,t,n,r){return GE.apply(this,arguments)}function GE(){return GE=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wv(t),e.next=3,function(e,t){var n=Wv(e),r=Wv(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):pb.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,b_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(PE(a,n,i||null),AE(a,n),function(e,t){Wv(Wv(e).Bs)._n(t)}(a.localStore,n)):Kv();case 11:return e.next=13,LE(a,o);case 13:e.next=16;break;case 15:Bv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function YE(e,t){return QE.apply(this,arguments)}function QE(){return QE=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c,l;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iC(r=Wv(t)),aC(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,$E(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,M_(r.remoteStore,!0);case 9:o=de(a);try{for(o.s();!(s=o.n()).done;)u=s.value,r_(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return RE(r,t),sx(r.localStore,t,!0)})),i_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,$E(r,c);case 21:return function(e){var t=Wv(e);t.ra.forEach((function(e,n){i_(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Lg(Om.comparator)}(r),r.ha=!1,e.next=25,M_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function $E(e,t,n){return XE.apply(this,arguments)}function XE(){return XE=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,m,y;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Wv(t),a=[],o=[],s=de(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i.na.get(c))||0===h.length){e.next=34;break}return e.next=11,ox(i.localStore,Ky(h[0]));case 11:l=e.sent,f=de(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,zE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,lx(i.localStore,c);case 36:return y=e.sent,e.next=39,ox(i.localStore,y);case 39:return l=e.sent,e.next=42,dE(i,JE(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),XE.apply(this,arguments)}function JE(e){return My(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ZE(e){var t=Wv(e);return Wv(Wv(t.localStore).persistence).Fs()}function eC(e,t,n,r){return tC.apply(this,arguments)}function tC(){return tC=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Wv(t)).ha){e.next=3;break}return e.abrupt("return",void Bv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hx(a.localStore,$y(o[0]));case 10:return s=e.sent,u=Zg.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,LE(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,sx(a.localStore,n,!0);case 17:return RE(a,n,i),e.abrupt("break",20);case 19:Kv();case 20:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return rC=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=iC(t)).ha){e.next=45;break}a=de(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.na.has(s)){e.next=10;break}return Bv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,lx(i.localStore,s);case 12:return u=e.sent,e.next=15,ox(i.localStore,u);case 15:return c=e.sent,e.next=18,dE(i,JE(u),c.targetId,!1);case 18:r_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=de(r),e.prev=30,f=ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,sx(i.localStore,t,!1).then((function(){i_(i.remoteStore,t),RE(i,t)})).catch(Ck);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),rC.apply(this,arguments)}function iC(e){var t=Wv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xE.bind(null,t),t.ta.Qo=X_.bind(null,t.eventManager),t.ta.fa=J_.bind(null,t.eventManager),t}function aC(e){var t=Wv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TE.bind(null,t),t}function oC(e,t,n){var r=Wv(e);(function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Wv(e),r=pw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(iE(i)),a=new rE(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,LE(t,u.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Wv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(zv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var sC=function(){function e(){pe(this,e),this.synchronizeTabs=!1}return me(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Hx(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return Jk(this.persistence,new $k,e.initialUser,this.M)}},{key:"wa",value:function(e){return new Cx(Sx.zi,this.M)}},{key:"_a",value:function(e){return new Lx}},{key:"terminate",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),uC=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return me(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(oe(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,aC(this.ya.syncEngine);case 6:return e.next=8,b_(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return Jk(this.persistence,new $k,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Ik(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=Gk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fk.withCacheSize(this.cacheSizeBytes):fk.DEFAULT;return new Kk(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,qx(),Kx(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new Lx}}]),n}(sC),cC=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return me(n,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t){var r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(oe(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof Mx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:WE.bind(null,r),Or:eC.bind(null,r),Fr:nC.bind(null,r),Fs:ZE.bind(null,r),kr:KE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,YE(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=qx();if(!Mx.vt(t))throw new Yv(Gv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Mx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(uC),lC=function(){function e(){pe(this,e)}return me(e,[{key:"initialize",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return kE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=UE.bind(null,this.syncEngine),e.next=12,M_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new W_}},{key:"createDatastore",value:function(e){var t,n=Hx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zx(t));return function(e,t,n,r){return new $x(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return kE(o.syncEngine,e,0)},a=Ux.vt()?new Ux:new Fx,new Jx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new lE(e,t,n,r,i,a);return o&&(s.ha=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wv(t),Bv("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,t_(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function hC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return J(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var fC=function(){function e(t){pe(this,e),this.observer=t,this.muted=!1}return me(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),dC=function(){function e(t,n){var r=this;pe(this,e),this.Ta=t,this.M=n,this.metadata=new Qv,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return me(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=J(ee().mark((function e(){var t,n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new tE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pC=function(){function e(t){pe(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return me(e,[{key:"lookup",value:function(){var e=J(ee().mark((function e(t){var n,r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Yv(Gv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=kw(r.M)+"/documents",a={documents:n.map((function(e){return yw(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Cw(r.M,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Hv(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Pg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Om.fromPath(t);n.mutations.push(new Rg(r,n.precondition(r)))})),e.next=7,function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wv(t),i=kw(r.M)+"/documents",a={writes:n.map((function(e){return Tw(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Kv();t=hm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Yv(Gv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?mg.updateTime(t):mg.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(hm.min()))throw new Yv(Gv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mg.updateTime(t)}return mg.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),vC=function(){function e(t,n,r,i){pe(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new Wx(this.asyncQueue,"transaction_retry")}return me(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new pC(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!Am(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!jg(t)}return!1}}]),e}(),mC=function(){function e(t,n,r,i){var a=this;pe(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mv.UNAUTHENTICATED,this.clientId=om.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Bv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return me(e,[{key:"getConfiguration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Yv(Gv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Qv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=V_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function yC(e,t){return gC.apply(this,arguments)}function gC(){return gC=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Bv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Zk(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function wC(e,t){return bC.apply(this,arguments)}function bC(){return bC=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,kC(t);case 3:return r=e.sent,Bv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return j_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return j_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),bC.apply(this,arguments)}function kC(e){return xC.apply(this,arguments)}function xC(){return xC=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Bv("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,yC(t,new sC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function _C(e){return EC.apply(this,arguments)}function EC(){return EC=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Bv("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,wC(t,new lC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function CC(e){return kC(e).then((function(e){return e.persistence}))}function TC(e){return kC(e).then((function(e){return e.localStore}))}function SC(e){return _C(e).then((function(e){return e.remoteStore}))}function NC(e){return _C(e).then((function(e){return e.syncEngine}))}function IC(e){return AC.apply(this,arguments)}function AC(){return AC=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_C(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=hE.bind(null,n.syncEngine),r.onUnlisten=vE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),AC.apply(this,arguments)}function PC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fC({next:function(a){t.enqueueAndForget((function(){return Q_(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Yv(Gv.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Yv(Gv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new eE(Ly(n.path),a,{includeMetadataChanges:!0,Cu:!0});return G_(e,o)},i.next=3,IC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function RC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new fC({next:function(n){t.enqueueAndForget((function(){return Q_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Yv(Gv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new eE(n,a,{includeMetadataChanges:!0,Cu:!0});return G_(e,o)},i.next=3,IC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var OC=new Map;function jC(e,t,n){if(!n)throw new Yv(Gv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DC(e,t,n,r){if(!0===t&&!0===r)throw new Yv(Gv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function MC(e){if(!Om.isDocumentKey(e))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function LC(e){if(Om.isDocumentKey(e))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function FC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Kv()}function UC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Yv(Gv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=FC(e);throw new Yv(Gv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function BC(e,t){if(t<=0)throw new Yv(Gv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var VC=function(){function e(t){var n;if(pe(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Yv(Gv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yv(Gv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,DC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return me(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),zC=function(){function e(t,n,r){pe(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VC({}),this._settingsFrozen=!1,t instanceof Im?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Yv(Gv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Im(e.options.projectId)}(t))}return me(e,[{key:"app",get:function(){if(!this._app)throw new Yv(Gv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Yv(Gv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VC(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Xv;switch(e.type){case"gapi":var t=e.client;return Hv(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new tm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Yv(Gv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=OC.get(e);t&&(Bv("ComponentProvider","Removing Datastore"),OC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function qC(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=UC(e,zC))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zv("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Mv.MOCK_USER;else{o=Re(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Yv(Gv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Mv(u)}e._authCredentials=new Jv(new $v(o,s))}}var KC=function(){function e(t,n,r){pe(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return me(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new WC(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),HC=function(){function e(t,n,r){pe(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return me(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),WC=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this,e,r,Ly(i)))._path=i,a.type="collection",a}return me(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new KC(this.firestore,null,new Om(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(HC);function GC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),jC("collection","path",t),e instanceof zC){var a=mm.fromString.apply(mm,[t].concat(r));return LC(a),new WC(e,null,a)}if(!(e instanceof KC||e instanceof WC))throw new Yv(Gv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mm.fromString.apply(mm,[t].concat(r)));return LC(o),new WC(e.firestore,null,o)}function YC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ht(e),1===arguments.length&&(t=om.R()),jC("doc","path",t),e instanceof zC){var a=mm.fromString.apply(mm,[t].concat(r));return MC(a),new KC(e,null,new Om(a))}if(!(e instanceof KC||e instanceof WC))throw new Yv(Gv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(mm.fromString.apply(mm,[t].concat(r)));return MC(o),new KC(e.firestore,e instanceof WC?e.converter:null,new Om(o))}function QC(e,t){return e=ht(e),t=ht(t),(e instanceof KC||e instanceof WC)&&(t instanceof KC||t instanceof WC)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $C(e,t){return e=ht(e),t=ht(t),e instanceof HC&&t instanceof HC&&e.firestore===t.firestore&&Wy(e._query,t._query)&&e.converter===t.converter}var XC=function(){function e(){var t=this;pe(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Wx(this,"async_queue_retry"),this.qa=function(){var e=Kx();e&&Bv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=Kx();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return me(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=Kx();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Qv;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),wb(e.t0)){e.next=12;break}throw e.t0;case 12:Bv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=B_.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Kv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=de(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=de(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function JC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=de(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ZC=function(){function e(){pe(this,e),this._progressObserver={},this._taskCompletionResolver=new Qv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return me(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),eT=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new XC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return me(n,[{key:"_terminate",value:function(){return this._firestoreClient||nT(this),this._firestoreClient.terminate()}}]),n}(zC);function tT(e){return e._firestoreClient||nT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function nT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Nm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function rT(e,t,n){var r=new Qv;return e.asyncQueue.enqueue(J(ee().mark((function i(){return ee().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,yC(e,n);case 3:return i.next=5,wC(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Gv.FAILED_PRECONDITION||e.code===Gv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function iT(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CC(e);case 2:return n=t.sent,t.next=5,SC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Wv(e);return t.fu.delete(0),Zx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(tT(e=UC(e,eT)))}function aT(e){return function(e){return e.asyncQueue.enqueue(J(ee().mark((function t(){var n,r;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,CC(e);case 2:return n=t.sent,t.next=5,SC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Wv(t)).fu.add(0),e.next=4,t_(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(tT(e=UC(e,eT)))}function oT(e,t){var n=tT(e=UC(e,eT)),r=new ZC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new dC(e,t)}(function(e,t){if(e instanceof Uint8Array)return hC(e,t);if(e instanceof ArrayBuffer)return hC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Hx(t));e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=oC,t.next=3,NC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function sT(e,t){return function(e,t){return e.asyncQueue.enqueue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Wv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,TC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(tT(e=UC(e,eT)),t).then((function(t){return t?new HC(e,null,t.query):null}))}function uT(e){if(e._initialized||e._terminated)throw new Yv(Gv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var cT=function(){function e(){pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gm(n)}return me(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var lT=function(){function e(t){pe(this,e),this._byteString=t}return me(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(bm.fromBase64String(t))}catch(t){throw new Yv(Gv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(bm.fromUint8Array(t))}}]),e}(),hT=me((function e(t){pe(this,e),this._methodName=t})),fT=function(){function e(t,n){if(pe(this,e),!isFinite(t)||t<-90||t>90)throw new Yv(Gv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Yv(Gv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return me(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return sm(this._lat,e._lat)||sm(this._long,e._long)}}]),e}(),dT=/^__.*__$/,pT=function(){function e(t,n,r){pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return me(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Cg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eg(e,this.data,t,this.fieldTransforms)}}]),e}(),vT=function(){function e(t,n,r){pe(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return me(e,[{key:"toMutation",value:function(e,t){return new Cg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function mT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kv()}}var yT=function(){function e(t,n,r,i,a,o){pe(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return me(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return LT(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(mT(this.Xa)&&dT.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),gT=function(){function e(t,n,r){pe(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Hx(t)}return me(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yT({Xa:e,methodName:t,uc:n,path:gm.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function wT(e){var t=e._freezeSettings(),n=Hx(e._databaseId);return new gT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);OT("Data must be an object, but it was:",o,r);var s,u,c=PT(r,o);if(a.merge)s=new wm(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=de(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=l.value,p=jT(t,d,n);if(!o.contains(p))throw new Yv(Gv.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));FT(h,p)||h.push(p)}}catch(v){f.e(v)}finally{f.f()}s=new wm(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new pT(new ty(c),s,u)}var kT=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hT);function xT(e,t,n){return new yT({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var _T=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"_toFieldTransform",value:function(e){return new pg(e.path,new og)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(hT),ET=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e)).cc=r,i}return me(n,[{key:"_toFieldTransform",value:function(e){var t=xT(this,e,!0),n=this.cc.map((function(e){return AT(e,t)})),r=new sg(n);return new pg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hT),CT=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e)).cc=r,i}return me(n,[{key:"_toFieldTransform",value:function(e){var t=xT(this,e,!0),n=this.cc.map((function(e){return AT(e,t)})),r=new cg(n);return new pg(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hT),TT=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e)).hc=r,i}return me(n,[{key:"_toFieldTransform",value:function(e){var t=new hg(e.M,tg(e.M,this.hc));return new pg(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(hT);function ST(e,t,n,r){var i=e.ac(1,t,n);OT("Data must be an object, but it was:",i,r);var a=[],o=ty.empty();dm(r,(function(e,r){var s=MT(t,e,n);r=ht(r);var u=i.sc(s);if(r instanceof kT)a.push(s);else{var c=AT(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new wm(a);return new vT(o,s,i.fieldTransforms)}function NT(e,t,n,r,i,a){var o=e.ac(1,t,n),s=[jT(t,r,n)],u=[i];if(a.length%2!=0)throw new Yv(Gv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(jT(t,a[c])),u.push(a[c+1]);for(var l=[],h=ty.empty(),f=s.length-1;f>=0;--f)if(!FT(l,s[f])){var d=s[f],p=u[f];p=ht(p);var v=o.sc(d);if(p instanceof kT)l.push(d);else{var m=AT(p,v);null!=m&&(l.push(d),h.set(d,m))}}var y=new wm(l);return new vT(h,y,o.fieldTransforms)}function IT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return AT(n,e.ac(r?4:3,t))}function AT(e,t){if(RT(e=ht(e)))return OT("Unsupported field value:",t,e),PT(e,t);if(e instanceof hT)return function(e,t){if(!mT(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=de(e);try{for(a.s();!(n=a.n()).done;){var o=AT(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ht(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return tg(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=lm.fromDate(e);return{timestampValue:hw(t.M,n)}}if(e instanceof lm){var r=new lm(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hw(t.M,r)}}if(e instanceof fT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lT)return{bytesValue:fw(t.M,e._byteString)};if(e instanceof KC){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:vw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(FC(e)))}(e,t)}function PT(e,t){var n={};return pm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dm(e,(function(e,r){var i=AT(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function RT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof lm||e instanceof fT||e instanceof lT||e instanceof KC||e instanceof hT)}function OT(e,t,n){if(!RT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=FC(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function jT(e,t,n){if((t=ht(t))instanceof cT)return t._internalPath;if("string"==typeof t)return MT(e,t);throw LT("Field path arguments must be of type string or ",e,!1,void 0,n)}var DT=new RegExp("[~\\*/\\[\\]]");function MT(e,t,n){if(t.search(DT)>=0)throw LT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ge(cT,fe(t.split(".")))._internalPath}catch(r){throw LT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function LT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Yv(Gv.INVALID_ARGUMENT,s+e+u)}function FT(e,t){return e.some((function(e){return e.isEqual(t)}))}var UT=function(){function e(t,n,r,i,a){pe(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return me(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new KC(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new BT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),BT=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"data",value:function(){return kh(oe(n.prototype),"data",this).call(this)}}]),n}(UT);function VT(e,t){return"string"==typeof t?MT(e,t):t instanceof cT?t._internalPath:t._delegate._internalPath}var zT=function(){function e(t,n){pe(this,e),this.hasPendingWrites=t,this.fromCache=n}return me(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),qT=function(e){ae(n,e);var t=le(n);function n(e,r,i,a,o,s){var u;return pe(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return me(n,[{key:"exists",value:function(){return kh(oe(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new KT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(UT),KT=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kh(oe(n.prototype),"data",this).call(this,e)}}]),n}(qT),HT=function(){function e(t,n,r,i){pe(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new zT(i.hasPendingWrites,i.fromCache),this.query=r}return me(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new KT(n._firestore,n._userDataWriter,r.key,r,new zT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Yv(Gv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new KT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new KT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new zT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:WT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function WT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kv()}}function GT(e,t){return e instanceof qT&&t instanceof qT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof HT&&t instanceof HT&&e._firestore===t._firestore&&$C(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function YT(e){if(Uy(e)&&0===e.explicitOrderBy.length)throw new Yv(Gv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var QT=me((function e(){pe(this,e)}));function $T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var XT=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return me(n,[{key:"_apply",value:function(e){var t=wT(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){uS(o,a);var u,c=[],l=de(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(sS(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=sS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||uS(o,a),s=IT(n,"where",o,"in"===a||"not-in"===a);var f=ky.create(i,a,s);return function(e,t){if(t.S()){var n=Vy(e);if(null!==n&&!n.isEqual(t.field))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=By(e);null!==r&&cS(e,t.field,r)}var i=function(e,t){var n,r=de(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new HC(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Dy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(QT);var JT=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return me(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Py(t,n);return function(e,t){if(null===By(e)){var n=Vy(e);null!==n&&cS(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new HC(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Dy(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(QT);var ZT=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return me(n,[{key:"_apply",value:function(e){return new HC(e.firestore,e.converter,Hy(e._query,this.wc,this.mc))}}]),n}(QT);var eS=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return me(n,[{key:"_apply",value:function(e){var t=oS(e,this.type,this.gc,this.yc);return new HC(e.firestore,e.converter,function(e,t){return new Dy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(QT);function tS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eS("startAt",t,!0)}function nS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eS("startAfter",t,!1)}var rS=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a;return pe(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return me(n,[{key:"_apply",value:function(e){var t=oS(e,this.type,this.gc,this.yc);return new HC(e.firestore,e.converter,function(e,t){return new Dy(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(QT);function iS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rS("endBefore",t,!1)}function aS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new rS("endAt",t,!0)}function oS(e,t,n,r){if(n[0]=ht(n[0]),n[0]instanceof UT)return function(e,t,n,r,i){if(!r)throw new Yv(Gv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=de(qy(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(qm(t,r.key));else{var c=r.data.field(u.field);if(Cm(c))throw new Yv(Gv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new Ay(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=wT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Yv(Gv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!zy(e)&&-1!==c.indexOf("/"))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(mm.fromString(c));if(!Om.isDocumentKey(l))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new Om(l);s.push(qm(t,h))}else{var f=IT(n,r,c);s.push(f)}}return new Ay(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function sS(e,t,n){if("string"==typeof(n=ht(n))){if(""===n)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zy(t)&&-1!==n.indexOf("/"))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(mm.fromString(n));if(!Om.isDocumentKey(r))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qm(e,new Om(r))}if(n instanceof KC)return qm(e,n._key);throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(FC(n),"."))}function uS(e,t){if(!Array.isArray(e)||0===e.length)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function cS(e,t,n){if(!n.isEqual(t))throw new Yv(Gv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var lS=function(){function e(){pe(this,e)}return me(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Mm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _m(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Em(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kv()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return dm(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new fT(_m(e.latitude),_m(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Tm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Sm(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xm(e);return new lm(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=mm.fromString(e);Hv(Uw(n));var r=new Im(n.get(1),n.get(3)),i=new Om(n.popFirst(5));return r.isEqual(t)||Vv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function hS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var fS=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).firestore=e,r}return me(n,[{key:"convertBytes",value:function(e){return new lT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}]),n}(lS),dS=function(){function e(t,n){pe(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=wT(t)}return me(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=pS(e,this._firestore),i=hS(r.converter,t,n),a=bT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,mg.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=pS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ht(t))||t instanceof cT?NT(this._dataReader,"WriteBatch.update",i._key,t,n,o):ST(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,mg.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=pS(e,this._firestore);return this._mutations=this._mutations.concat(new Pg(t._key,mg.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Yv(Gv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function pS(e,t){if((e=ht(e)).firestore!==t)throw new Yv(Gv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var vS=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).firestore=e,r}return me(n,[{key:"convertBytes",value:function(e){return new lT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new KC(this.firestore,null,t)}}]),n}(lS);function mS(e){e=UC(e,KC);var t=UC(e.firestore,eT),n=tT(t),r=new vS(t);return function(e,t){var n=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Wv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Yv(Gv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=V_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,TC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new qT(t,r,e._key,n,new zT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function yS(e){e=UC(e,HC);var t=UC(e.firestore,eT),n=tT(t),r=new vS(t);return function(e,t){var n=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,cx(t,n,!0);case 3:i=e.sent,a=new sE(n,i.li),o=a.Gu(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=V_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,TC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new HT(t,r,e,n)}))}function gS(e,t,n){e=UC(e,KC);var r=UC(e.firestore,eT),i=hS(e.converter,t,n);return xS(r,[bT(wT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,mg.none())])}function wS(e,t,n){e=UC(e,KC);for(var r=UC(e.firestore,eT),i=wT(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return xS(r,[("string"==typeof(t=ht(t))||t instanceof cT?NT(i,"updateDoc",e._key,t,n,o):ST(i,"updateDoc",e._key,t)).toMutation(e._key,mg.exists(!0))])}function bS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ht(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||JC(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(JC(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof KC)l=UC(e.firestore,eT),h=Ly(e._key.path),c={next:function(t){n[u]&&n[u](_S(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=UC(e,HC);l=UC(p.firestore,eT),h=p._query;var v=new vS(l);c={next:function(e){n[u]&&n[u](new HT(l,v,p,e))},error:n[u+1],complete:n[u+2]},YT(e._query)}return function(e,t,n,r){var i=new fC(r),a=new eE(t,i,n);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=G_,t.next=3,IC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Q_,t.next=3,IC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tT(l),h,f,c)}function kS(e,t){return function(e,t){var n=new fC(t);return e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wv(e).Eu.add(t),t.next()},t.next=3,IC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Wv(e).Eu.delete(t)},t.next=3,IC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(tT(e=UC(e,eT)),JC(t)?t:{next:t})}function xS(e,t){return function(e,t){var n=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=yE,r.next=3,NC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(tT(e),t)}function _S(e,t,n){var r=n.docs.get(t._key),i=new vS(e);return new qT(e,i,t._key,r,new zT(n.hasPendingWrites,n.fromCache),t.converter)}var ES=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,r))._firestore=e,i}return me(n,[{key:"get",value:function(e){var t=this,r=pS(e,this._firestore),i=new vS(this._firestore);return kh(oe(n.prototype),"get",this).call(this,e).then((function(e){return new qT(t._firestore,i,r._key,e._document,new zT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){pe(this,e),this._firestore=t,this._transaction=n,this._dataReader=wT(t)}return me(e,[{key:"get",value:function(e){var t=this,n=pS(e,this._firestore),r=new fS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Kv();var i=e[0];if(i.isFoundDocument())return new UT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new UT(t._firestore,r,n._key,null,n.converter);throw Kv()}))}},{key:"set",value:function(e,t,n){var r=pS(e,this._firestore),i=hS(r.converter,t,n),a=bT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=pS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=ht(t))||t instanceof cT?NT(this._dataReader,"Transaction.update",i._key,t,n,o):ST(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=pS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function CS(e,t){return function(e,t){var n=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function r(){var i;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return _C(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new vC(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(tT(e=UC(e,eT)),(function(n){return t(new ES(e,n))}))}function TS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ET("arrayUnion",t)}function SS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new CT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lv=e}(Yt),Vt(new yt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new eT(i,new Zv(e.getProvider("auth-internal")),new rm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),en(Dv,"3.4.8",e),en(Dv,"3.4.8","esm2017")}();function NS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Yv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function IS(){if("undefined"===typeof Uint8Array)throw new Yv("unimplemented","Uint8Arrays are not available in this environment.")}function AS(){if("undefined"==typeof atob)throw new Yv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var PS=function(){function e(t){pe(this,e),this._delegate=t}return me(e,[{key:"toBase64",value:function(){return AS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return IS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return AS(),new e(lT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return IS(),new e(lT.fromUint8Array(t))}}]),e}();function RS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=de(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var OS=function(){function e(){pe(this,e)}return me(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){uT(e=UC(e,eT));var n=tT(e),r=e._freezeSettings(),i=new lC;return rT(n,i,new uC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){uT(e=UC(e,eT));var t=tT(e),n=e._freezeSettings(),r=new lC;return rT(t,r,new cC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Yv(Gv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Qv;return e._queue.enqueueAndForgetEvenWhileRestricted(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mb.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,mb.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Gk(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),jS=function(){function e(t,n,r){var i=this;pe(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Im||(this._appCompat=t)}return me(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qC(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return iT(this._delegate)}},{key:"disableNetwork",value:function(){return aT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&DC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Qv;return e.asyncQueue.enqueueAndForget(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=NE,n.next=3,NC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(tT(e=UC(e,eT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return kS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Yv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new YS(this,GC(this._delegate,e))}catch(t){throw BS(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new US(this,YC(this._delegate,e))}catch(t){throw BS(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new HS(this,function(e,t){if(e=UC(e,zC),jC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Yv(Gv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new HC(e,null,function(e){return new Dy(mm.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw BS(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return CS(this._delegate,(function(n){return e(new MS(t,n))}))}},{key:"batch",value:function(){var e=this;return tT(this._delegate),new LS(new dS(this._delegate,(function(t){return xS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return oT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return sT(this._delegate,e).then((function(e){return e?new HS(t,e):null}))}}]),e}(),DS=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this)).firestore=e,r}return me(n,[{key:"convertBytes",value:function(e){return new PS(new lT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return US.forKey(t,this.firestore,null)}}]),n}(lS);var MS=function(){function e(t,n){pe(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DS(t)}return me(e,[{key:"get",value:function(e){var t=this,n=QS(e);return this._delegate.get(n).then((function(e){return new qS(t._firestore,new qT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=QS(e);return n?(NS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QS(e);return this._delegate.delete(t),this}}]),e}(),LS=function(){function e(t){pe(this,e),this._delegate=t}return me(e,[{key:"set",value:function(e,t,n){var r=QS(e);return n?(NS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=QS(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=QS(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),FS=function(){function e(t,n,r){pe(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return me(e,[{key:"fromFirestore",value:function(e,t){var n=new KT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KS(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DS(t),n),i.set(n,a)),a}}]),e}();FS.INSTANCES=new WeakMap;var US=function(){function e(t,n){pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DS(t)}return me(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new YS(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new YS(this.firestore,GC(this._delegate,e))}catch(t){throw BS(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ht(e))instanceof KC&&QC(this._delegate,e)}},{key:"set",value:function(e,t){t=NS("DocumentReference.set",t);try{return t?gS(this._delegate,e,t):gS(this._delegate,e)}catch(n){throw BS(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?wS(this._delegate,e):wS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw BS(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return xS(UC(e.firestore,eT),[new Pg(e._key,mg.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VS(n),a=zS(n,(function(t){return new qS(e.firestore,new qT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return bS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?mS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UC(e,KC);var t=UC(e.firestore,eT);return PC(tT(t),e._key,{source:"server"}).then((function(n){return _S(t,e,n)}))}(this._delegate):function(e){e=UC(e,KC);var t=UC(e.firestore,eT);return PC(tT(t),e._key).then((function(n){return _S(t,e,n)}))}(this._delegate),t.then((function(e){return new qS(n.firestore,new qT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Yv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new KC(n._delegate,r,new Om(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new KC(n._delegate,r,t))}}]),e}();function BS(e,t,n){return e.message=e.message.replace(t,n),e}function VS(e){var t,n=de(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!RS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function zS(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=RS(e[0])?e[0]:RS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var qS=function(){function e(t,n){pe(this,e),this._firestore=t,this._delegate=n}return me(e,[{key:"ref",get:function(){return new US(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return GT(this._delegate,e._delegate)}}]),e}(),KS=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Kv()}(void 0!==t),t}}]),n}(qS),HS=function(){function e(t,n){pe(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DS(t)}return me(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,$T(this._delegate,function(e,t,n){var r=t,i=VT("where",e);return new XT(i,r,n)}(t,n,r)))}catch(i){throw BS(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,$T(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VT("orderBy",e);return new JT(n,t)}(t,n)))}catch(r){throw BS(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,$T(this._delegate,function(e){return BC("limit",e),new ZT("limit",e,"F")}(t)))}catch(n){throw BS(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,$T(this._delegate,function(e){return BC("limitToLast",e),new ZT("limitToLast",e,"L")}(t)))}catch(n){throw BS(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,$T(this._delegate,tS.apply(void 0,arguments)))}catch(t){throw BS(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,$T(this._delegate,nS.apply(void 0,arguments)))}catch(t){throw BS(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,$T(this._delegate,iS.apply(void 0,arguments)))}catch(t){throw BS(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,$T(this._delegate,aS.apply(void 0,arguments)))}catch(t){throw BS(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return $C(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?yS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=UC(e,HC);var t=UC(e.firestore,eT),n=tT(t),r=new vS(t);return RC(n,e._query,{source:"server"}).then((function(n){return new HT(t,r,e,n)}))}(this._delegate):function(e){e=UC(e,HC);var t=UC(e.firestore,eT),n=tT(t),r=new vS(t);return YT(e._query),RC(n,e._query).then((function(n){return new HT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new GS(n.firestore,new HT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VS(n),a=zS(n,(function(t){return new GS(e.firestore,new HT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return bS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(FS.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),WS=function(){function e(t,n){pe(this,e),this._firestore=t,this._delegate=n}return me(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new KS(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),GS=function(){function e(t,n){pe(this,e),this._firestore=t,this._delegate=n}return me(e,[{key:"query",get:function(){return new HS(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new KS(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new WS(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new KS(n._firestore,r))}))}},{key:"isEqual",value:function(e){return GT(this._delegate,e._delegate)}}]),e}(),YS=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return me(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new US(this.firestore,e):null}},{key:"doc",value:function(e){try{return new US(this.firestore,void 0===e?YC(this._delegate):YC(this._delegate,e))}catch(t){throw BS(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=UC(e.firestore,eT),r=YC(e),i=hS(e.converter,t);return xS(n,[bT(wT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,mg.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new US(t.firestore,e)}))}},{key:"isEqual",value:function(e){return QC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(FS.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(HS);function QS(e){return UC(e,KC)}var $S,XS=function(){function e(){pe(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ge(cT,n)}return me(e,[{key:"isEqual",value:function(e){return(e=ht(e))instanceof cT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(gm.keyField().canonicalString())}}]),e}(),JS=function(){function e(t){pe(this,e),this._delegate=t}return me(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new _T("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new kT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=TS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=SS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new TT("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),ZS={Firestore:jS,GeoPoint:fT,Timestamp:lm,Blob:PS,Transaction:MS,WriteBatch:LS,DocumentReference:US,DocumentSnapshot:qS,Query:HS,QueryDocumentSnapshot:KS,QuerySnapshot:GS,CollectionReference:YS,FieldPath:XS,FieldValue:JS,setLogLevel:function(e){!function(e){Fv.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new yt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},ZS)))})($S=jc,(function(e,t){return new jS(e,t,new OS)})),$S.registerVersion("@firebase/firestore-compat","0.1.17");function eN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var tN;Object.create;var nN="facebook.com",rN="github.com",iN="google.com",aN="password",oN="twitter.com",sN="EMAIL_SIGNIN",uN="PASSWORD_RESET",cN="RECOVER_EMAIL",lN="REVERT_SECOND_FACTOR_ADDITION",hN="VERIFY_AND_CHANGE_EMAIL",fN="VERIFY_EMAIL";function dN(){return ye({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pN=function(){var e;return ye(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ye(e,"argument-error",""),ye(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ye(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ye(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ye(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ye(e,"cordova-not-ready","Cordova framework is not ready."),ye(e,"cors-unsupported","This browser is not supported."),ye(e,"credential-already-in-use","This credential is already associated with a different user account."),ye(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ye(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ye(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ye(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ye(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ye(e,"email-already-in-use","The email address is already in use by another account."),ye(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ye(e,"expired-action-code","The action code has expired."),ye(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ye(e,"internal-error","An internal AuthError has occurred."),ye(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ye(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ye(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ye(e,"invalid-auth-event","An internal AuthError has occurred."),ye(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ye(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ye(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ye(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ye(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ye(e,"invalid-email","The email address is badly formatted."),ye(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ye(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ye(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ye(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ye(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ye(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ye(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ye(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ye(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ye(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ye(e,"wrong-password","The password is invalid or the user does not have a password."),ye(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ye(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ye(e,"invalid-provider-id","The specified provider ID is invalid."),ye(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ye(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ye(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ye(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ye(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ye(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ye(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ye(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ye(e,"missing-continue-uri","A continue URL must be provided in the request."),ye(e,"missing-iframe-start","An internal AuthError has occurred."),ye(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ye(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ye(e,"missing-multi-factor-info","No second factor identifier is provided."),ye(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ye(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ye(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ye(e,"app-deleted","This instance of FirebaseApp has been deleted."),ye(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ye(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ye(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ye(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ye(e,"no-auth-event","An internal AuthError has occurred."),ye(e,"no-such-provider","User was not linked to an account with the given provider."),ye(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ye(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ye(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ye(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ye(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ye(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ye(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ye(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ye(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ye(e,"rejected-credential","The request contains malformed or mismatching credentials."),ye(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ye(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ye(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ye(e,"timeout","The operation has timed out."),ye(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ye(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ye(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ye(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ye(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ye(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ye(e,"unverified-email","The operation requires a verified email."),ye(e,"user-cancelled","The user did not grant your application the permissions it requested."),ye(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ye(e,"user-disabled","The user account has been disabled by an administrator."),ye(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ye(e,"user-signed-out",""),ye(e,"weak-password","The password must be 6 characters long or more."),ye(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ye(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vN=dN,mN=new ze("auth","Firebase",dN()),yN=new At("@firebase/auth");function gN(e){if(yN.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];yN.error.apply(yN,["Auth (".concat(Yt,"): ").concat(e)].concat(n))}}function wN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _N.apply(void 0,[e].concat(n))}function bN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _N.apply(void 0,[e].concat(n))}function kN(e,t,n){var r=Object.assign(Object.assign({},vN()),ye({},t,n));return new ze("auth","Firebase",r).create(t,{appName:e.name})}function xN(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wN(e,"argument-error"),kN(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function _N(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=fe(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(fe(o)))}return mN.create.apply(mN,[e].concat(n))}function EN(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _N.apply(void 0,[t].concat(r))}}function CN(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gN(t),new Error(t)}function TN(e,t){e||CN(t)}var SN=new Map;function NN(e){TN(e instanceof Function,"Expected a class definition");var t=SN.get(e);return t?(TN(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,SN.set(e,t),t)}function IN(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function AN(){return"http:"===PN()||"https:"===PN()}function PN(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var RN=function(){function e(t,n){pe(this,e),this.shortDelay=t,this.longDelay=n,TN(n>t,"Short delay should be less than long delay!"),this.isMobile=je()||Le()}return me(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(AN()||Me()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function ON(e,t){TN(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var jN=function(){function e(){pe(this,e)}return me(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void CN("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void CN("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void CN("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),DN=(ye(tN={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ye(tN,"MISSING_CUSTOM_TOKEN","internal-error"),ye(tN,"INVALID_IDENTIFIER","invalid-email"),ye(tN,"MISSING_CONTINUE_URI","internal-error"),ye(tN,"INVALID_PASSWORD","wrong-password"),ye(tN,"MISSING_PASSWORD","internal-error"),ye(tN,"EMAIL_EXISTS","email-already-in-use"),ye(tN,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ye(tN,"INVALID_IDP_RESPONSE","invalid-credential"),ye(tN,"INVALID_PENDING_TOKEN","invalid-credential"),ye(tN,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ye(tN,"MISSING_REQ_TYPE","internal-error"),ye(tN,"EMAIL_NOT_FOUND","user-not-found"),ye(tN,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ye(tN,"EXPIRED_OOB_CODE","expired-action-code"),ye(tN,"INVALID_OOB_CODE","invalid-action-code"),ye(tN,"MISSING_OOB_CODE","internal-error"),ye(tN,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ye(tN,"INVALID_ID_TOKEN","invalid-user-token"),ye(tN,"TOKEN_EXPIRED","user-token-expired"),ye(tN,"USER_NOT_FOUND","user-token-expired"),ye(tN,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ye(tN,"INVALID_CODE","invalid-verification-code"),ye(tN,"INVALID_SESSION_INFO","invalid-verification-id"),ye(tN,"INVALID_TEMPORARY_PROOF","invalid-credential"),ye(tN,"MISSING_SESSION_INFO","missing-verification-id"),ye(tN,"SESSION_EXPIRED","code-expired"),ye(tN,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ye(tN,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ye(tN,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ye(tN,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ye(tN,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ye(tN,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ye(tN,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ye(tN,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ye(tN,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ye(tN,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ye(tN,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),tN),MN=new RN(3e4,6e4);function LN(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function FN(e,t,n,r){return UN.apply(this,arguments)}function UN(){return UN=J(ee().mark((function e(t,n,r,i){var a,o=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",BN(t,a,J(ee().mark((function e(){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=tt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",jN.fetch()(KN(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),UN.apply(this,arguments)}function BN(e,t,n){return VN.apply(this,arguments)}function VN(){return VN=J(ee().mark((function e(t,n,r){var i,a,o,s,u,l,h,f,d,p;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},DN),n),e.prev=2,a=new HN(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw WN(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw WN(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw WN(t,"email-already-in-use",s);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw kN(t,p,d);case 30:wN(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ve)){e.next=37;break}throw e.t0;case 37:wN(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),VN.apply(this,arguments)}function zN(e,t,n,r){return qN.apply(this,arguments)}function qN(){return qN=J(ee().mark((function e(t,n,r,i){var a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,FN(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wN(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function KN(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?ON(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var HN=function(){function e(t){var n=this;pe(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bN(n.auth,"network-request-failed"))}),MN.get())}))}return me(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function WN(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bN(e,t,r);return i.customData._tokenResponse=n,i}function GN(e,t){return YN.apply(this,arguments)}function YN(){return YN=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function QN(e,t){return $N.apply(this,arguments)}function $N(){return $N=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function XN(e,t){return JN.apply(this,arguments)}function JN(){return JN=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),JN.apply(this,arguments)}function ZN(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function eI(){return eI=J(ee().mark((function e(t){var n,r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=ht(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,EN((a=nI(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ZN(tI(a.auth_time)),issuedAtTime:ZN(tI(a.iat)),expirationTime:ZN(tI(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),eI.apply(this,arguments)}function tI(e){return 1e3*Number(e)}function nI(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return gN("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ie(r);return a?JSON.parse(a):(gN("Failed to decode base64 JWT payload"),null)}catch(o){return gN("Caught error parsing JWT payload as JSON",o),null}}function rI(e,t){return iI.apply(this,arguments)}function iI(){return iI=J(ee().mark((function e(t,n){var r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ve&&aI(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),iI.apply(this,arguments)}function aI(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var oI=function(){function e(t){pe(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return me(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),sI=function(){function e(t,n){pe(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return me(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ZN(this.lastLoginAt),this.creationTime=ZN(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function uI(e){return cI.apply(this,arguments)}function cI(){return cI=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,rI(t,XN(r,{idToken:i}));case 6:EN(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?fI(o.providerUserInfo):[],u=hI(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new sI(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(){return(lI=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ht(t),e.next=3,uI(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hI(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(fe(n),fe(t))}function fI(e){return e.map((function(e){var t=e.providerId,n=eN(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BN(t,{},J(ee().mark((function e(){var r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=tt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=KN(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",jN.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}var vI=function(){function e(){pe(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return me(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){EN(e.idToken,"internal-error"),EN("undefined"!==typeof e.idToken,"internal-error"),EN("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nI(e);return EN(t,"internal-error"),EN("undefined"!==typeof t.exp,"internal-error"),EN("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],EN(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dI(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return CN("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(EN("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(EN("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(EN("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mI(e,t){EN("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yI=function(){function e(t){pe(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=eN(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?fe(a.providerData):[],this.metadata=new sI(a.createdAt||void 0,a.lastLoginAt||void 0)}return me(e,[{key:"getIdToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rI(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(EN(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return eI.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return lI.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(EN(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){EN(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=J(ee().mark((function e(t){var n,r,i=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,uI(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,rI(this,GN(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,w=n.uid,b=n.emailVerified,k=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;EN(w&&_,t,"internal-error");var E=vI.fromJSON(this.name,_);EN("string"===typeof w,t,"internal-error"),mI(h,t.name),mI(f,t.name),EN("boolean"===typeof b,t,"internal-error"),EN("boolean"===typeof k,t,"internal-error"),mI(d,t.name),mI(p,t.name),mI(v,t.name),mI(m,t.name),mI(y,t.name),mI(g,t.name);var C=new e({uid:w,auth:t,email:f,emailVerified:b,displayName:h,isAnonymous:k,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(C.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new vI).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,uI(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),gI=function(){function e(){pe(this,e),this.type="NONE",this.storage={}}return me(e,[{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gI.type="NONE";var wI=gI;function bI(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var kI=function(){function e(t,n,r){pe(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bI(this.userKey,a.apiKey,o),this.fullPersistenceKey=bI("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return me(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yI._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=J(ee().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(NN(wI),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||NN(wI),s=bI(i,n.config.apiKey,n.name),u=null,c=de(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=yI._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xI(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_I(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NI(t))return"Blackberry";if(II(t))return"Webos";if(EI(t))return"Safari";if((t.includes("chrome/")||CI(t))&&!t.includes("edge/"))return"Chrome";if(SI(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/firefox\//i.test(e)}function EI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/crios\//i.test(e)}function TI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iemobile/i.test(e)}function SI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/android/i.test(e)}function NI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/blackberry/i.test(e)}function II(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/webos/i.test(e)}function AI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/iphone|ipad|ipod/i.test(e)}function PI(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return AI(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function RI(){return Fe()&&10===document.documentMode}function OI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return AI(e)||SI(e)||II(e)||NI(e)||/windows phone/i.test(e)||TI(e)}function jI(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xI(Oe());break;case"Worker":t="".concat(xI(Oe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yt,"/").concat(r)}var DI=function(){function e(t,n,r){pe(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LI(this),this.idTokenSubscription=new LI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return me(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=NN(t)),this._initializationPromise=this.queue(J(ee().mark((function r(){var i,a;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,kI.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return EN(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,uI(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ht(t):null)&&EN(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&EN(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(NN(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ze("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return EN(n=t&&NN(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,kI.create(this,[NN(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return EN(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return EN(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jI(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ye({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function MI(e){return ht(e)}var LI=function(){function e(t){var n=this;pe(this,e),this.auth=t,this.observer=null,this.addObserver=at((function(e){return n.observer=e}))}return me(e,[{key:"next",get:function(){return EN(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function FI(e,t,n){var r=MI(e);EN(r._canInitEmulator,r,"emulator-config-failed"),EN(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=UI(t),o=function(e){var t=UI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:BI(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:BI(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function UI(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function BI(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var VI=function(){function e(t,n){pe(this,e),this.providerId=t,this.signInMethod=n}return me(e,[{key:"toJSON",value:function(){return CN("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return CN("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return CN("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return CN("not implemented")}}]),e}();function zI(e,t){return qI.apply(this,arguments)}function qI(){return qI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:resetPassword",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function KI(e,t){return HI.apply(this,arguments)}function HI(){return HI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),HI.apply(this,arguments)}function WI(e,t){return GI.apply(this,arguments)}function GI(){return GI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:update",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),GI.apply(this,arguments)}function YI(e,t){return QI.apply(this,arguments)}function QI(){return QI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithPassword",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),QI.apply(this,arguments)}function $I(e,t){return XI.apply(this,arguments)}function XI(){return XI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:sendOobCode",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$I(t,n));case 1:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eA(e,t){return tA.apply(this,arguments)}function tA(){return tA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$I(t,n));case 1:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t){return rA.apply(this,arguments)}function rA(){return rA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$I(t,n));case 1:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$I(t,n));case 1:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t){return sA.apply(this,arguments)}function sA(){return sA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithEmailLink",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function uA(e,t){return cA.apply(this,arguments)}function cA(){return cA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithEmailLink",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}var lA=function(e){ae(n,e);var t=le(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return pe(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return me(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",YI(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",oA(t,{email:this._email,oobCode:this._password}));case 5:wN(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",KI(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",uA(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wN(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(VI);function hA(e,t){return fA.apply(this,arguments)}function fA(){return fA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithIdp",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}var dA=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return me(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return hA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hA(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wN("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=eN(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(VI);function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:sendVerificationCode",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(){return mA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithPhoneNumber",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function yA(){return yA=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zN(t,"POST","/v1/accounts:signInWithPhoneNumber",LN(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw WN(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}var gA=ye({},"USER_NOT_FOUND","user-not-found");function wA(){return wA=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithPhoneNumber",LN(t,r),gA));case 2:case"end":return e.stop()}}),e)}))),wA.apply(this,arguments)}var bA=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this,"phone","phone")).params=e,r}return me(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return mA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return yA.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return wA.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(VI);var kA=function(){function e(t){var n,r,i,a,o,s;pe(this,e);var u=nt(rt(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);EN(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return me(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=nt(rt(e)).link,n=t?nt(rt(t)).deep_link_id:null,r=nt(rt(e)).deep_link_id;return(r?nt(rt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ME){return null}}}]),e}();var xA=function(){function e(){pe(this,e),this.providerId=e.PROVIDER_ID}return me(e,null,[{key:"credential",value:function(e,t){return lA._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=kA.parseLink(t);return EN(n,"argument-error"),lA._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xA.PROVIDER_ID="password",xA.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xA.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var _A=function(){function e(t){pe(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return me(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),EA=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.apply(this,arguments)).scopes=[],e}return me(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return fe(this.scopes)}}]),n}(_A),CA=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.apply(this,arguments)}return me(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return EN(e.idToken||e.accessToken,"argument-error"),dA._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return EN("providerId"in t&&"signInMethod"in t,"argument-error"),dA._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(EA),TA=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.call(this,"facebook.com")}return me(n,null,[{key:"credential",value:function(e){return dA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ME){return null}}}]),n}(EA);TA.FACEBOOK_SIGN_IN_METHOD="facebook.com",TA.PROVIDER_ID="facebook.com";var SA=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return me(n,null,[{key:"credential",value:function(e,t){return dA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ME){return null}}}]),n}(EA);SA.GOOGLE_SIGN_IN_METHOD="google.com",SA.PROVIDER_ID="google.com";var NA=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.call(this,"github.com")}return me(n,null,[{key:"credential",value:function(e){return dA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ME){return null}}}]),n}(EA);NA.GITHUB_SIGN_IN_METHOD="github.com",NA.PROVIDER_ID="github.com";var IA=function(e){ae(n,e);var t=le(n);function n(e,r){var i;return pe(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return me(n,[{key:"_getIdTokenResponse",value:function(e){return hA(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,hA(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,hA(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(VI),AA=function(e){ae(n,e);var t=le(n);function n(e){return pe(this,n),EN(e.startsWith("saml."),"argument-error"),t.call(this,e)}return me(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=IA.fromJSON(e);return EN(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return IA._create(r,n)}catch(i){return null}}}]),n}(_A),PA=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.call(this,"twitter.com")}return me(n,null,[{key:"credential",value:function(e,t){return dA._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ME){return null}}}]),n}(EA);function RA(e,t){return OA.apply(this,arguments)}function OA(){return OA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signUp",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}PA.TWITTER_SIGN_IN_METHOD="twitter.com",PA.PROVIDER_ID="twitter.com";var jA=function(){function e(t){pe(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return me(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=J(ee().mark((function t(n,r,i){var a,o,s,u,c=arguments;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,yI._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=DA(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=J(ee().mark((function t(n,r,i){var a;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=DA(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function DA(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function MA(){return MA=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=MI(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new jA({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,RA(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,jA._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}var LA=function(e){ae(n,e);var t=le(n);function n(e,r,i,a){var o,s;return pe(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(re(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return me(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ve);function FA(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw LA._fromErrorAndOperation(e,n,t,r);throw n}))}function UA(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function BA(e,t){return VA.apply(this,arguments)}function VA(){return VA=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht(t),e.next=3,KA(!0,r,n);case 3:return e.t0=QN,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=UA(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function zA(e,t){return qA.apply(this,arguments)}function qA(){return qA=J(ee().mark((function e(t,n){var r,i,a=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=rI,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",jA._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function KA(e,t,n){return HA.apply(this,arguments)}function HA(){return(HA=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uI(n);case 2:i=UA(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",EN(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WA(e,t){return GA.apply(this,arguments)}function GA(){return GA=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,rI(t,FA(i,a,n,t),r);case 6:return EN((o=e.sent).idToken,i,"internal-error"),EN(s=nI(o.idToken),i,"internal-error"),u=s.sub,EN(t.uid===u,i,"user-mismatch"),e.abrupt("return",jA._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&wN(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),GA.apply(this,arguments)}function YA(e,t){return QA.apply(this,arguments)}function QA(){return QA=J(ee().mark((function e(t,n){var r,i,a,o,s=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,FA(t,i,n);case 4:return a=e.sent,e.next=7,jA._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),QA.apply(this,arguments)}function $A(e,t){return XA.apply(this,arguments)}function XA(){return XA=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",YA(MI(t),n));case 1:case"end":return e.stop()}}),e)}))),XA.apply(this,arguments)}function JA(e,t){return ZA.apply(this,arguments)}function ZA(){return(ZA=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht(t),e.next=3,KA(!1,r,n.providerId);case 3:return e.abrupt("return",zA(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eP(e,t){return tP.apply(this,arguments)}function tP(){return(tP=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",WA(ht(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nP(e,t){return rP.apply(this,arguments)}function rP(){return rP=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zN(t,"POST","/v1/accounts:signInWithCustomToken",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),rP.apply(this,arguments)}function iP(){return iP=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=MI(t),e.next=3,nP(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,jA._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),iP.apply(this,arguments)}var aP=function(){function e(t,n){pe(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return me(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oP._fromServerResponse(e,t):wN(e,"internal-error")}}]),e}(),oP=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return me(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(aP);function sP(e,t,n){var r;EN((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),EN("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(EN(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(EN(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function uP(){return uP=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),a={requestType:"PASSWORD_RESET",email:n},r&&sP(i,a,r),e.next=5,eA(i,a);case 5:case"end":return e.stop()}}),e)}))),uP.apply(this,arguments)}function cP(){return cP=J(ee().mark((function e(t,n,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zI(ht(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),cP.apply(this,arguments)}function lP(){return lP=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WI(ht(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),lP.apply(this,arguments)}function hP(e,t){return fP.apply(this,arguments)}function fP(){return fP=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht(t),e.next=3,zI(r,{oobCode:n});case 3:i=e.sent,EN(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return EN(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:EN(i.mfaInfo,r,"internal-error");case 13:EN(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=aP._fromServerResponse(MI(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),fP.apply(this,arguments)}function dP(){return dP=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hP(ht(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),dP.apply(this,arguments)}function pP(e,t,n){return vP.apply(this,arguments)}function vP(){return vP=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MI(t),e.next=3,RA(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,jA._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),vP.apply(this,arguments)}function mP(){return mP=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),a={requestType:"EMAIL_SIGNIN",email:n},EN(r.handleCodeInApp,i,"argument-error"),r&&sP(i,a,r),e.next=6,nA(i,a);case 6:case"end":return e.stop()}}),e)}))),mP.apply(this,arguments)}function yP(){return yP=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),EN((a=xA.credentialWithLink(n,r||IN()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",$A(i,a));case 4:case"end":return e.stop()}}),e)}))),yP.apply(this,arguments)}function gP(e,t){return wP.apply(this,arguments)}function wP(){return wP=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:createAuthUri",LN(t,n)));case 1:case"end":return e.stop()}}),e)}))),wP.apply(this,arguments)}function bP(){return bP=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AN()?IN():"http://localhost",i={identifier:n,continueUri:r},e.next=4,gP(ht(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),bP.apply(this,arguments)}function kP(){return(kP=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&sP(r.auth,a,n),e.next=8,JI(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xP(){return(xP=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&sP(i.auth,o,r),e.next=8,iA(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _P(e,t){return EP.apply(this,arguments)}function EP(){return EP=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",FN(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),EP.apply(this,arguments)}function CP(){return(CP=J(ee().mark((function e(t,n){var r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ht(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,rI(a,_P(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function TP(e,t,n){return SP.apply(this,arguments)}function SP(){return SP=J(ee().mark((function e(t,n,r){var i,a,o,s;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,rI(t,KI(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),SP.apply(this,arguments)}var NP=me((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pe(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),IP=function(e){ae(n,e);var t=le(n);function n(e,r,i,a){var o;return pe(this,n),(o=t.call(this,e,r,i)).username=a,o}return me(n)}(NP),AP=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"facebook.com",r)}return me(n)}(NP),PP=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return me(n)}(IP),RP=function(e){ae(n,e);var t=le(n);function n(e,r){return pe(this,n),t.call(this,e,"google.com",r)}return me(n)}(NP),OP=function(e){ae(n,e);var t=le(n);function n(e,r,i){return pe(this,n),t.call(this,e,"twitter.com",r,i)}return me(n)}(IP);function jP(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nI(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new NP(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new AP(a,i);case"github.com":return new PP(a,i);case"google.com":return new RP(a,i);case"twitter.com":return new OP(a,i,e.screenName||null);case"custom":case"anonymous":return new NP(a,null);default:return new NP(a,r,i)}}(n)}var DP=function(){function e(t,n){pe(this,e),this.type=t,this.credential=n}return me(e,[{key:"toJSON",value:function(){return{multiFactorSession:ye({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),MP=function(){function e(t,n,r){pe(this,e),this.session=t,this.hints=n,this.signInResolver=r}return me(e,[{key:"resolveSignIn",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=MI(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return aP._fromServerResponse(r,e)}));EN(i.mfaPendingCredential,r,"internal-error");var o=DP._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=J(ee().mark((function e(t){var a,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,jA._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return EN(n.user,r,"internal-error"),e.abrupt("return",jA._forOperation(n.user,n.operationType,s));case 17:wN(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function LP(e,t){return FN(e,"POST","/v2/accounts/mfaEnrollment:start",LN(e,t))}function FP(e,t){return FN(e,"POST","/v2/accounts/mfaEnrollment:withdraw",LN(e,t))}var UP=function(){function e(t){var n=this;pe(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return aP._fromServerResponse(t.auth,e)})))}))}return me(e,[{key:"getSession",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=DP,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,rI(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,rI(this.user,FP(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),BP=new WeakMap;var VP="__sak",zP=function(){function e(t,n){pe(this,e),this.storageRetriever=t,this.type=n}return me(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(VP,"1"),this.storage.removeItem(VP),Promise.resolve(!0)):Promise.resolve(!1)}catch(ME){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qP=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Oe();return EI(e)||AI(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=OI(),e._shouldAllowMigration=!0,e}return me(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);RI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=J(ee().mark((function e(t,r){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(oe(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(oe(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kh(oe(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zP);qP.type="LOCAL";var KP=qP,HP=function(e){ae(n,e);var t=le(n);function n(){return pe(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return me(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zP);HP.type="SESSION";var WP=HP;function GP(e){return Promise.all(e.map(function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var YP=function(){function e(t){pe(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return me(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,GP(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function QP(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}YP.receivers=[];var $P=function(){function e(t){pe(this,e),this.target=t,this.handlers=new Set}return me(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=J(ee().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=QP("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function XP(){return window}function JP(){return"undefined"!==typeof XP().WorkerGlobalScope&&"function"===typeof XP().importScripts}function ZP(){return eR.apply(this,arguments)}function eR(){return(eR=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function tR(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var nR="firebaseLocalStorageDb",rR="firebaseLocalStorage",iR="fbase_key",aR=function(){function e(t){pe(this,e),this.request=t}return me(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function oR(e,t){return e.transaction([rR],t?"readwrite":"readonly").objectStore(rR)}function sR(){var e=indexedDB.deleteDatabase(nR);return new aR(e).toPromise()}function uR(){var e=indexedDB.open(nR,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(rR,{keyPath:iR})}catch(r){n(r)}})),e.addEventListener("success",J(ee().mark((function n(){var r;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(rR)){n.next=12;break}return r.close(),n.next=5,sR();case 5:return n.t0=t,n.next=8,uR();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function cR(e,t,n){return lR.apply(this,arguments)}function lR(){return lR=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=oR(t,!0).put((ye(i={},iR,n),ye(i,"value",r),i)),e.abrupt("return",new aR(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function hR(e,t){return fR.apply(this,arguments)}function fR(){return fR=J(ee().mark((function e(t,n){var r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=oR(t,!1).get(n),e.next=3,new aR(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),fR.apply(this,arguments)}function dR(e,t){var n=oR(e,!0).delete(t);return new aR(n).toPromise()}var pR=function(){function e(){pe(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return me(e,[{key:"_openDb",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,uR();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",JP()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=J(ee().mark((function e(){var t=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=YP._getInstance(JP()?self:null),this.receiver._subscribe("keyChanged",function(){var e=J(ee().mark((function e(n,r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ZP();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new $P(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&tR()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,uR();case 5:return t=e.sent,e.next=8,cR(t,VP,"1");case 8:return e.next=10,dR(t,VP);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=J(ee().mark((function e(t,n){var r=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return cR(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return hR(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=J(ee().mark((function e(t){var n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return dR(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=J(ee().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=oR(e,!1).getAll();return new aR(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=de(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(J(ee().mark((function t(){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pR.type="LOCAL";var vR=pR;function mR(e,t){return FN(e,"POST","/v2/accounts/mfaSignIn:start",LN(e,t))}function yR(e){return gR.apply(this,arguments)}function gR(){return gR=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FN(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),gR.apply(this,arguments)}function wR(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bN("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bR(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var kR=1e12,xR=function(){function e(t){pe(this,e),this.auth=t,this.counter=kR,this._widgets=new Map}return me(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new _R(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||kR;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||kR;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||kR,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_R=function(){function e(t,n,r){var i=this;pe(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;EN(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return me(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ER=bR("rcb"),CR=new RN(3e4,6e4),TR="https://www.google.com/recaptcha/api.js?",SR=function(){function e(){pe(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!XP().grecaptcha}return me(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return EN(NR(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(XP().grecaptcha):new Promise((function(r,i){var a=XP().setTimeout((function(){i(bN(e,"network-request-failed"))}),CR.get());XP()[ER]=function(){XP().clearTimeout(a),delete XP()[ER];var o=XP().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bN(e,"internal-error"))},wR("".concat(TR,"?").concat(tt({onload:ER,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bN(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!XP().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function NR(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var IR=function(){function e(){pe(this,e)}return me(e,[{key:"load",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xR(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),AR="recaptcha",PR={theme:"light",type:"image"},RR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},PR),r=arguments.length>2?arguments[2]:void 0;pe(this,e),this.parameters=n,this.type=AR,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=MI(r),this.isInvisible="invisible"===this.parameters.size,EN("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;EN(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new IR:new SR,this.validateStartingState()}return me(e,[{key:"verify",value:function(){var e=J(ee().mark((function e(){var t,n,r,i=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){EN(!this.parameters.sitekey,this.auth,"argument-error"),EN(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),EN("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=XP()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){EN(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=J(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return EN(AN()&&!JP(),this.auth,"internal-error"),e.next=3,OR();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,yR(this.auth);case 8:EN(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return EN(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function OR(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var jR=function(){function e(t,n){pe(this,e),this.verificationId=t,this.onConfirmation=n}return me(e,[{key:"confirm",value:function(e){var t=bA._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function DR(){return DR=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MI(t),e.next=3,UR(i,n,ht(r));case 3:return a=e.sent,e.abrupt("return",new jR(a,(function(e){return $A(i,e)})));case 5:case"end":return e.stop()}}),e)}))),DR.apply(this,arguments)}function MR(e,t,n){return LR.apply(this,arguments)}function LR(){return(LR=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),e.next=3,KA(!1,i,"phone");case 3:return e.next=5,UR(i.auth,n,ht(r));case 5:return a=e.sent,e.abrupt("return",new jR(a,(function(e){return JA(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FR(){return(FR=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ht(t),e.next=3,UR(i.auth,n,ht(r));case 3:return a=e.sent,e.abrupt("return",new jR(a,(function(e){return eP(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function UR(e,t,n){return BR.apply(this,arguments)}function BR(){return BR=J(ee().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,EN("string"===typeof a,t,"argument-error"),EN(r.type===AR,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return EN("enroll"===s.type,t,"internal-error"),e.next=13,LP(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return EN("signin"===s.type,t,"internal-error"),EN(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,mR(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,pA(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),BR.apply(this,arguments)}function VR(){return(VR=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zA(ht(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zR=function(){function e(t){pe(this,e),this.providerId=e.PROVIDER_ID,this.auth=MI(t)}return me(e,[{key:"verifyPhoneNumber",value:function(e,t){return UR(this.auth,e,ht(t))}}],[{key:"credential",value:function(e,t){return bA._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bA._fromTokenResponse(n,r):null}}]),e}();function qR(e,t){return t?NN(t):(EN(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zR.PROVIDER_ID="phone",zR.PHONE_SIGN_IN_METHOD="phone";var KR=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this,"custom","custom")).params=e,r}return me(n,[{key:"_getIdTokenResponse",value:function(e){return hA(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return hA(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return hA(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(VI);function HR(e){return YA(e.auth,new KR(e),e.bypassAuthState)}function WR(e){var t=e.auth,n=e.user;return EN(n,t,"internal-error"),WA(n,new KR(e),e.bypassAuthState)}function GR(e){return YR.apply(this,arguments)}function YR(){return YR=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,EN(r=t.user,n,"internal-error"),e.abrupt("return",zA(r,new KR(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),YR.apply(this,arguments)}var QR=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];pe(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return me(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=J(ee().mark((function t(n,r){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var n,r,i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HR;case"linkViaPopup":case"linkViaRedirect":return GR;case"reauthViaPopup":case"reauthViaRedirect":return WR;default:wN(this.auth,"internal-error")}}},{key:"resolve",value:function(e){TN(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){TN(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),$R=new RN(2e3,1e4);function XR(e,t,n){return JR.apply(this,arguments)}function JR(){return JR=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MI(t),xN(t,n,_A),a=qR(i,r),o=new nO(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),JR.apply(this,arguments)}function ZR(){return(ZR=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xN((i=ht(t)).auth,n,_A),a=qR(i.auth,r),o=new nO(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eO(e,t,n){return tO.apply(this,arguments)}function tO(){return(tO=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xN((i=ht(t)).auth,n,_A),a=qR(i.auth,r),o=new nO(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nO=function(e){ae(n,e);var t=le(n);function n(e,r,i,a,o){var s;return pe(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=re(s),s}return me(n,[{key:"executeNotNull",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return EN(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){var t,n=this;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TN(1===this.filter.length,"Popup operations only handle one event"),t=QP(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bN(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bN(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bN(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,$R.get())}()}}]),n}(QR);nO.currentPopupAction=null;var rO=new Map,iO=function(e){ae(n,e);var t=le(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pe(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return me(n,[{key:"execute",value:function(){var e=J(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rO.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,aO(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,kh(oe(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rO.set(this.auth._key(),t);case 21:return this.bypassAuthState||rO.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=J(ee().mark((function e(t){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",kh(oe(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",kh(oe(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(QR);function aO(e,t){return oO.apply(this,arguments)}function oO(){return oO=J(ee().mark((function e(t,n){var r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lO(n),i=cO(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),oO.apply(this,arguments)}function sO(e,t){return uO.apply(this,arguments)}function uO(){return uO=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cO(t)._set(lO(n),"true"));case 1:case"end":return e.stop()}}),e)}))),uO.apply(this,arguments)}function cO(e){return NN(e._redirectPersistence)}function lO(e){return bI("pendingRedirect",e.config.apiKey,e.name)}function hO(e,t,n){return function(e,t,n){return fO.apply(this,arguments)}(e,t,n)}function fO(){return fO=J(ee().mark((function e(t,n,r){var i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=MI(t),xN(t,n,_A),a=qR(i,r),e.next=5,sO(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),fO.apply(this,arguments)}function dO(e,t,n){return function(e,t,n){return pO.apply(this,arguments)}(e,t,n)}function pO(){return(pO=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xN((i=ht(t)).auth,n,_A),a=qR(i.auth,r),e.next=5,sO(a,i.auth);case 5:return e.next=7,kO(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vO(e,t,n){return function(e,t,n){return mO.apply(this,arguments)}(e,t,n)}function mO(){return(mO=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xN((i=ht(t)).auth,n,_A),a=qR(i.auth,r),e.next=5,KA(!1,i,n.providerId);case 5:return e.next=7,sO(a,i.auth);case 7:return e.next=9,kO(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yO(e,t){return gO.apply(this,arguments)}function gO(){return gO=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MI(t)._initializationPromise;case 2:return e.abrupt("return",wO(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function wO(e,t){return bO.apply(this,arguments)}function bO(){return bO=J(ee().mark((function e(t,n){var r,i,a,o,s,u=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=MI(t),a=qR(i,n),o=new iO(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),bO.apply(this,arguments)}function kO(e){return xO.apply(this,arguments)}function xO(){return(xO=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=QP("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _O=function(){function e(t){pe(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return me(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CO(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!CO(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bN(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(EO(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(EO(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function EO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function CO(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function TO(e){return SO.apply(this,arguments)}function SO(){return SO=J(ee().mark((function e(t){var n,r=arguments;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",FN(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),SO.apply(this,arguments)}var NO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IO=/^https?/;function AO(){return AO=J(ee().mark((function e(t){var n,r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,TO(t);case 4:n=e.sent,r=n.authorizedDomains,i=de(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!PO(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wN(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),AO.apply(this,arguments)}function PO(e){var t=IN(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!IO.test(r))return!1;if(NO.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var RO=new RN(3e4,6e4);function OO(){var e=XP().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=fe(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var jO=null;function DO(e){return jO=jO||function(e){return new Promise((function(t,n){var r,i,a;function o(){OO(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){OO(),n(bN(e,"network-request-failed"))},timeout:RO.get()})}if(null===(i=null===(r=XP().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=XP().gapi)||void 0===a?void 0:a.load)){var s=bR("iframefcb");return XP()[s]=function(){gapi.load?o():n(bN(e,"network-request-failed"))},wR("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw jO=null,e}))}(e),jO}var MO=new RN(5e3,15e3),LO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UO(e){var t=e.config;EN(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?ON(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yt},i=FO.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(tt(r).slice(1))}function BO(e){return VO.apply(this,arguments)}function VO(){return VO=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DO(t);case 2:return n=e.sent,EN(r=XP().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:UO(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LO,dontclear:!0},(function(e){return new Promise(function(){var n=J(ee().mark((function n(r,i){var a,o,s;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){XP().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bN(t,"network-request-failed"),o=XP().setTimeout((function(){i(a)}),MO.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),VO.apply(this,arguments)}var zO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qO="_blank",KO="http://localhost",HO=function(){function e(t){pe(this,e),this.window=t,this.associatedEvent=null}return me(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function WO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},zO),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Oe().toLowerCase();n&&(s=CI(l)?qO:n),_I(l)&&(t=t||KO,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(PI(l)&&"_self"!==s)return GO(t||"",s),new HO(null);var f=window.open(t||"",s,h);EN(f,e,"popup-blocked");try{f.focus()}catch(d){}return new HO(f)}function GO(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var YO="__/auth/handler",QO="emulator/auth/handler";function $O(e,t,n,r,i,a){EN(e.config.authDomain,e,"auth-domain-config-required"),EN(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yt,eventId:i};if(t instanceof _A){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Xe(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),h=l[0],f=l[1];o[h]=f}}if(t instanceof EA){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(YO);return ON(t,QO)}(e),"?").concat(tt(p).slice(1))}var XO="webStorageSupport",JO=function(){function e(){pe(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WP,this._completeRedirectFn=wO}return me(e,[{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TN(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=$O(t,n,r,IN(),i),e.abrupt("return",WO(t,o,QP()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=$O(t,n,r,IN(),i),XP().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(TN(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BO(t);case 2:return n=e.sent,r=new _O(t),n.register("authEvent",(function(e){return EN(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(XO,{type:XO},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wN(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return AO.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return OI()||EI()||AI()}}]),e}(),ZO=JO,ej=function(){function e(t){pe(this,e),this.factorId=t}return me(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return CN("unexpected MultiFactorSessionType")}}}]),e}(),tj=function(e){ae(n,e);var t=le(n);function n(e){var r;return pe(this,n),(r=t.call(this,"phone")).credential=e,r}return me(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return FN(e,"POST","/v2/accounts/mfaEnrollment:finalize",LN(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return FN(e,"POST","/v2/accounts/mfaSignIn:finalize",LN(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ej),nj=function(){function e(){pe(this,e)}return me(e,null,[{key:"assertion",value:function(e){return tj._fromCredential(e)}}]),e}();nj.FACTOR_ID="phone";var rj,ij="@firebase/auth",aj="0.19.12",oj=function(){function e(t){pe(this,e),this.auth=t,this.internalListeners=new Map}return me(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){EN(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function sj(){return window}rj="Browser",Vt(new yt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){EN(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),EN(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:rj,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jI(rj)},i=new DI(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(NN);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Vt(new yt("auth-internal",(function(e){return function(e){return new oj(e)}(MI(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),en(ij,aj,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(rj)),en(ij,aj,"esm2017");function uj(e,t,n){return cj.apply(this,arguments)}function cj(){return cj=J(ee().mark((function e(t,n,r){var i,a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sj(),o=a.BuildInfo,TN(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,vj(n.sessionId);case 4:return s=e.sent,u={},AI()?u.ibi=o.packageName:SI()?u.apn=o.packageName:wN(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",$O(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),cj.apply(this,arguments)}function lj(){return lj=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sj(),r=n.BuildInfo,i={},AI()?i.iosBundleId=r.packageName:SI()?i.androidPackageName=r.packageName:wN(t,"operation-not-supported-in-this-environment"),e.next=5,TO(t,i);case 5:case"end":return e.stop()}}),e)}))),lj.apply(this,arguments)}function hj(e){var t=sj().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function fj(e,t,n){return dj.apply(this,arguments)}function dj(){return dj=J(ee().mark((function e(t,n,r){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sj(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(bN(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),SI()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),dj.apply(this,arguments)}function pj(e){var t,n,r,i,a,o,s,u,c,l,h=sj();EN("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),EN("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),EN("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),EN("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),EN("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function vj(e){return mj.apply(this,arguments)}function mj(){return(mj=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yj(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yj(e){if(TN(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var gj=function(e){ae(n,e);var t=le(n);function n(){var e;return pe(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return me(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),kh(oe(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(_O);function wj(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Ej(),postBody:null,tenantId:e.tenantId,error:bN(e,"no-auth-event")}}function bj(e,t){return Cj()._set(Tj(e),t)}function kj(e){return xj.apply(this,arguments)}function xj(){return xj=J(ee().mark((function e(t){var n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cj()._get(Tj(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Cj()._remove(Tj(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),xj.apply(this,arguments)}function _j(e,t){var n,r,i=function(e){var t=Sj(e),n=t.link?decodeURIComponent(t.link):void 0,r=Sj(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Sj(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Sj(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?bN(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Ej(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Cj(){return NN(KP)}function Tj(e){return bI("authEvent",e.config.apiKey,e.name)}function Sj(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||he(t)||s(t)||u();r[0];return nt(r.slice(1).join("?"))}var Nj=function(){function e(){pe(this,e),this._redirectPersistence=WP,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=wO}return me(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new gj(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){wN(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){var a,o,s,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pj(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rO.clear(),e.next=10,this._originValidation(t);case 10:return o=wj(t,r,i),e.next=13,bj(t,o);case 13:return e.next=15,uj(t,o,n);case 15:return s=e.sent,e.next=18,hj(s);case 18:return u=e.sent,e.abrupt("return",fj(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return lj.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sj(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(J(ee().mark((function n(){return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kj(e);case 2:t.onEvent(Aj());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=J(ee().mark((function n(r){var i,a;return ee().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,kj(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=_j(i,r.url)),t.onEvent(a||Aj());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");sj().handleOpenURL=function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ij=Nj;function Aj(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bN("no-auth-event")}}function Pj(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Rj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return!("file:"!==Pj()&&"ionic:"!==Pj()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oj(){return Fe()&&11===(null===document||void 0===document?void 0:document.documentMode)}function jj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return/Edge\/\d+/.test(e)}function Dj(){try{var e=self.localStorage,t=QP();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe();return Oj()||jj(e)}()||Be()}catch(n){return Mj()&&Be()}return!1}function Mj(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Lj(){return("http:"===Pj()||"https:"===Pj()||Me()||Rj())&&!(Le()||De())&&Dj()&&!Mj()}function Fj(){return Rj()&&"undefined"!==typeof document}function Uj(){return Bj.apply(this,arguments)}function Bj(){return(Bj=J(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fj()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vj={LOCAL:"local",NONE:"none",SESSION:"session"},zj=EN,qj="persistence";function Kj(e,t){zj(Object.values(Vj).includes(t),e,"invalid-persistence-type"),Le()?zj(t!==Vj.SESSION,e,"unsupported-persistence-type"):De()?zj(t===Vj.NONE,e,"unsupported-persistence-type"):Mj()?zj(t===Vj.NONE||t===Vj.LOCAL&&Be(),e,"unsupported-persistence-type"):zj(t===Vj.NONE||Dj(),e,"unsupported-persistence-type")}function Hj(e){return Wj.apply(this,arguments)}function Wj(){return Wj=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Gj(),r=bI(qj,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Wj.apply(this,arguments)}function Gj(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Yj=EN,Qj=function(){function e(){pe(this,e),this.browserResolver=NN(ZO),this.cordovaResolver=NN(Ij),this.underlyingResolver=null,this._redirectPersistence=WP,this._completeRedirectFn=wO}return me(e,[{key:"_initialize",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=J(ee().mark((function e(t,n,r,i){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Fj()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Yj(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Uj();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $j(e){return e.unwrap()}function Xj(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new nD(e,function(e,t){var n,r=ht(e),i=t;return EN(t.customData.operationType,r,"argument-error"),EN(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),MP._fromError(r,i)}(e,t));else if(r){var i=Jj(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Jj(e){var t=(e instanceof Ve?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ve)&&"temporaryProof"in t&&"phoneNumber"in t)return zR.credentialFromResult(e);var n,r=t.providerId;if(!r||r===aN)return null;switch(r){case iN:n=SA;break;case nN:n=TA;break;case rN:n=NA;break;case oN:n=PA;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?IA._create(r,s):dA._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new CA(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Ve?n.credentialFromError(e):n.credentialFromResult(e)}function Zj(e,t){return t.catch((function(t){throw t instanceof Ve&&Xj(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Jj(t)),additionalUserInfo:jP(e),user:rD.getOrCreate(r)}}))}function eD(e,t){return tD.apply(this,arguments)}function tD(){return tD=J(ee().mark((function e(t,n){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Zj(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),tD.apply(this,arguments)}var nD=function(){function e(t,n){pe(this,e),this.resolver=n,this.auth=t.wrapped()}return me(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Zj($j(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),rD=function(){function e(t){pe(this,e),this._delegate=t,this.multiFactor=function(e){var t=ht(e);return BP.has(t)||BP.set(t,UP._fromUser(t)),BP.get(t)}(t)}return me(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zj(this.auth,JA(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",eD(this.auth,MR(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zj(this.auth,eO(this._delegate,t,Qj)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hj(MI(this.auth));case 2:return e.abrupt("return",vO(this._delegate,t,Qj));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zj(this.auth,eP(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return eD(this.auth,function(e,t,n){return FR.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Zj(this.auth,function(e,t,n){return ZR.apply(this,arguments)}(this._delegate,e,Qj))}},{key:"reauthenticateWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hj(MI(this.auth));case 2:return e.abrupt("return",dO(this._delegate,t,Qj));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return kP.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BA(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return TP(ht(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return TP(ht(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return VR.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return CP.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xP.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();rD.USER_MAP=new WeakMap;var iD=EN,aD=function(){function e(t,n){if(pe(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;iD(r,"invalid-api-key",{appName:t.name}),iD(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Qj:void 0;this._delegate=n.initialize({options:{persistence:sD(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(pN),this.linkUnderlyingAuth()}return me(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?rD.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){FI(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return lP.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return hP(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cP.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=J(ee().mark((function e(t,n){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zj(this._delegate,pP(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return bP.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=kA.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=J(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iD(Lj(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,yO(this._delegate,Qj);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Zj(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){MI(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=oD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=oD(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return mP.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return uP.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kj(this._delegate,t),e.t0=t,e.next=e.t0===Vj.SESSION?4:e.t0===Vj.LOCAL?6:e.t0===Vj.NONE?11:13;break;case 4:return n=WP,e.abrupt("break",14);case 6:return e.next=8,NN(vR)._isAvailable();case 8:return r=e.sent,n=r?vR:KP,e.abrupt("break",14);case 11:return n=wI,e.abrupt("break",14);case 13:return e.abrupt("return",wN("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Zj(this._delegate,function(e){return MA.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Zj(this._delegate,$A(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Zj(this._delegate,function(e,t){return iP.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Zj(this._delegate,function(e,t,n){return $A(ht(e),xA.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Zj(this._delegate,function(e,t,n){return yP.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return eD(this._delegate,function(e,t,n){return DR.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iD(Lj(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Zj(this._delegate,XR(this._delegate,t,Qj)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iD(Lj(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Hj(this._delegate);case 3:return e.abrupt("return",hO(this._delegate,t,Qj));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return dP.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function oD(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&rD.getOrCreate(e))},error:t,complete:n}}function sD(e,t){var n=function(e,t){var n=Gj();if(!n)return[];var r=bI(qj,e,t);switch(n.getItem(r)){case Vj.NONE:return[wI];case Vj.LOCAL:return[vR,WP];case Vj.SESSION:return[WP];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vR)||n.push(vR),"undefined"!==typeof window)for(var r=0,i=[KP,WP];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(wI)||n.push(wI),n}aD.Persistence=Vj;var uD=function(){function e(){pe(this,e),this.providerId="phone",this._delegate=new zR($j(jc.auth()))}return me(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return zR.credential(e,t)}}]),e}();uD.PHONE_SIGN_IN_METHOD=zR.PHONE_SIGN_IN_METHOD,uD.PROVIDER_ID=zR.PROVIDER_ID;var cD,lD=EN,hD=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jc.app();pe(this,e),lD(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new RR(t,n,i.auth()),this.type=this._delegate.type}return me(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new yt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new aD(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:sN,PASSWORD_RESET:uN,RECOVER_EMAIL:cN,REVERT_SECOND_FACTOR_ADDITION:lN,VERIFY_AND_CHANGE_EMAIL:hN,VERIFY_EMAIL:fN}},EmailAuthProvider:xA,FacebookAuthProvider:TA,GithubAuthProvider:NA,GoogleAuthProvider:SA,OAuthProvider:CA,SAMLAuthProvider:AA,PhoneAuthProvider:uD,PhoneMultiFactorGenerator:nj,RecaptchaVerifier:hD,TwitterAuthProvider:PA,Auth:aD,AuthCredential:VI,Error:Ve}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.12")}(jc);var fD=new Map,dD={activated:!1,tokenObservers:[]},pD={initialized:!1,enabled:!1};function vD(e){return fD.get(e)||dD}function mD(e,t){fD.set(e,t)}function yD(){return pD}var gD="https://content-firebaseappcheck.googleapis.com/v1beta",wD=3e4,bD=96e4,kD=function(){function e(t,n,r,i,a){if(pe(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}return me(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=J(Z.mark((function e(t){return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new Pe,e.next=5,xD(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new Pe,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function xD(e){return new Promise((function(t){setTimeout(t,e)}))}var _D=(ye(cD={},"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),ye(cD,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),ye(cD,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),ye(cD,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),ye(cD,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),ye(cD,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ye(cD,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ye(cD,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ye(cD,"recaptcha-error","ReCAPTCHA error."),ye(cD,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),cD),ED=new ze("appCheck","AppCheck",_D);function CD(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function TD(e){if(!vD(e).activated)throw ED.create("use-before-activation",{appName:e.name})}function SD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function ND(e){var t=Math.round(e/1e3),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),i=Math.floor((t-3600*n*24-3600*r)/60),a=t-3600*n*24-3600*r-60*i,o="";return n&&(o+=ID(n)+"d:"),r&&(o+=ID(r)+"h:"),o+=ID(i)+"m:"+ID(a)+"s"}function ID(e){return 0===e?"00":e>=10?e.toString():"0"+e}function AD(e,t){return PD.apply(this,arguments)}function PD(){return PD=J(Z.mark((function e(t,n){var r,i,a,o,s,u,c,l,h,f,d;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,i=t.body,a={"Content-Type":"application/json"},!(o=n.getImmediate({optional:!0}))){e.next=8;break}return e.next=6,o.getHeartbeatsHeader();case 6:(s=e.sent)&&(a["X-Firebase-Client"]=s);case 8:return u={method:"POST",body:JSON.stringify(i),headers:a},e.prev=9,e.next=12,fetch(r,u);case 12:c=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),ED.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 18:if(200===c.status){e.next=20;break}throw ED.create("fetch-status-error",{httpStatus:c.status});case 20:return e.prev=20,e.next=23,c.json();case 23:l=e.sent,e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(20),ED.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 29:if((h=l.ttl.match(/^([\d.]+)(s)$/))&&h[2]&&!isNaN(Number(h[1]))){e.next=32;break}throw ED.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(l.ttl)});case 32:return f=1e3*Number(h[1]),d=Date.now(),e.abrupt("return",{token:l.attestationToken,expireTimeMillis:d+f,issuedAtTimeMillis:d});case 35:case"end":return e.stop()}}),e,null,[[9,15],[20,26]])}))),PD.apply(this,arguments)}function RD(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(gD,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaToken","?key=").concat(a),body:{recaptcha_token:t}}}function OD(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(gD,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(a),body:{recaptcha_enterprise_token:t}}}function jD(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(gD,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:t}}}var DD="firebase-app-check-store",MD="debug-token",LD=null;function FD(){return LD||(LD=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(ED.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(DD,{keyPath:"compositeKey"})}}catch(r){t(ED.create("storage-open",{originalErrorMessage:r.message}))}})),LD)}function UD(e){return KD(WD(e))}function BD(e){return zD(MD,e)}function VD(){return KD(MD)}function zD(e,t){return qD.apply(this,arguments)}function qD(){return qD=J(Z.mark((function e(t,n){var r,i,a,o;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FD();case 2:return r=e.sent,i=r.transaction(DD,"readwrite"),a=i.objectStore(DD),o=a.put({compositeKey:t,value:n}),e.abrupt("return",new Promise((function(e,t){o.onsuccess=function(t){e()},i.onerror=function(e){var n;t(ED.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)}))),qD.apply(this,arguments)}function KD(e){return HD.apply(this,arguments)}function HD(){return HD=J(Z.mark((function e(t){var n,r,i,a;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FD();case 2:return n=e.sent,r=n.transaction(DD,"readonly"),i=r.objectStore(DD),a=i.get(t),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},r.onerror=function(e){var n;t(ED.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)}))),HD.apply(this,arguments)}function WD(e){return"".concat(e.options.appId,"-").concat(e.name)}var GD=new At("@firebase/app-check");function YD(){return(YD=J(Z.mark((function e(t){var n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Be()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,UD(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),GD.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function QD(e,t){return Be()?function(e,t){return zD(WD(e),t)}(e,t).catch((function(e){GD.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function $D(){return $D=J(Z.mark((function e(){var t,n;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,VD();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return BD(n=SD()).catch((function(e){return GD.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",n);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])}))),$D.apply(this,arguments)}function XD(){return yD().enabled}function JD(){return ZD.apply(this,arguments)}function ZD(){return(ZD=J(Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=yD()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eM(){var e=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}(),t=yD();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var r=new Pe;t.token=r,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(function(){return $D.apply(this,arguments)}())}}var tM={error:"UNKNOWN_ERROR"};function nM(e){return rM.apply(this,arguments)}function rM(){return rM=J(Z.mark((function e(t){var n,r,i,a,o,s,u,c,l,h=arguments;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]&&h[1],TD(r=t.app),i=vD(r),a=i.token,o=void 0,a){e.next=11;break}return e.next=9,i.cachedTokenPromise;case 9:(s=e.sent)&&uM(s)&&(a=s);case 11:if(n||!a||!uM(a)){e.next=13;break}return e.abrupt("return",{token:a.token});case 13:if(u=!1,!XD()){e.next=33;break}if(i.exchangeTokenPromise){e.next=26;break}return e.t0=AD,e.t1=jD,e.t2=r,e.next=21,JD();case 21:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.heartbeatServiceProvider,i.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).then((function(e){return i.exchangeTokenPromise=void 0,e})),u=!0;case 26:return e.next=28,i.exchangeTokenPromise;case 28:return c=e.sent,e.next=31,QD(r,c);case 31:return mD(r,Object.assign(Object.assign({},i),{token:c})),e.abrupt("return",{token:c.token});case 33:return e.prev=33,i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then((function(e){return i.exchangeTokenPromise=void 0,e})),u=!0),e.next=37,i.exchangeTokenPromise;case 37:a=e.sent,e.next=44;break;case 40:e.prev=40,e.t6=e.catch(33),e.t6.code==="appCheck/".concat("throttled")?GD.warn(e.t6.message):GD.error(e.t6),o=e.t6;case 44:if(a){e.next=48;break}l=cM(o),e.next=52;break;case 48:return l={token:a.token},mD(r,Object.assign(Object.assign({},i),{token:a})),e.next=52,QD(r,a);case 52:return u&&sM(r,l),e.abrupt("return",l);case 54:case"end":return e.stop()}}),e,null,[[33,40]])}))),rM.apply(this,arguments)}function iM(e,t,n,r){var i=e.app,a=vD(i),o={next:n,error:r,type:t};if(mD(i,Object.assign(Object.assign({},a),{tokenObservers:[].concat(fe(a.tokenObservers),[o])})),a.token&&uM(a.token)){var s=a.token;Promise.resolve().then((function(){n({token:s.token}),oM(e)})).catch((function(){}))}a.cachedTokenPromise.then((function(){return oM(e)}))}function aM(e,t){var n=vD(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),mD(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function oM(e){var t=e.app,n=vD(t),r=n.tokenRefresher;r||(r=function(e){var t=e.app;return new kD(J(Z.mark((function n(){var r;return Z.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(vD(t).token){n.next=7;break}return n.next=4,nM(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,nM(e,!0);case 9:r=n.sent;case 10:if(!r.error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}}),n)}))),(function(){return!0}),(function(){var e=vD(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),wD,bD)}(e),mD(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function sM(e,t){var n,r=de(vD(e).tokenObservers);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(a){}}}catch(o){r.e(o)}finally{r.f()}}function uM(e){return e.expireTimeMillis-Date.now()>0}function cM(e){return{token:(t=tM,Te.encodeString(JSON.stringify(t),!1)),error:e};var t}var lM=function(){function e(t,n){pe(this,e),this.app=t,this.heartbeatServiceProvider=n}return me(e,[{key:"_delete",value:function(){var e,t=de(vD(this.app).tokenObservers);try{for(t.s();!(e=t.n()).done;){var n=e.value;aM(this.app,n.next)}}catch(r){t.e(r)}finally{t.f()}return Promise.resolve()}}]),e}();var hM="https://www.google.com/recaptcha/api.js",fM="https://www.google.com/recaptcha/enterprise.js";function dM(e,t){var n=vD(e),r=new Pe;mD(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=mM(e),a=CD(!1);return a?vM(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=hM,t.onload=e,document.head.appendChild(t)}((function(){var n=CD(!1);if(!n)throw new Error("no recaptcha");vM(e,t,n,i,r)})),r.promise}function pM(e,t){var n=vD(e),r=new Pe;mD(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=mM(e),a=CD(!0);return a?vM(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=fM,t.onload=e,document.head.appendChild(t)}((function(){var n=CD(!0);if(!n)throw new Error("no recaptcha");vM(e,t,n,i,r)})),r.promise}function vM(e,t,n,r,i){n.ready((function(){!function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=vD(e);mD(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:i})}))}(e,t,n,r),i.resolve(n)}))}function mM(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function yM(e){return gM.apply(this,arguments)}function gM(){return(gM=J(Z.mark((function e(t){var n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TD(t),n=vD(t).reCAPTCHAState,e.next=4,n.initialized.promise;case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,n){var i=vD(t).reCAPTCHAState;r.ready((function(){e(r.execute(i.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wM=function(){function e(t){pe(this,e),this._siteKey=t,this._throttleData=null}return me(e,[{key:"getToken",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _M(this._throttleData),e.next=3,yM(this._app).catch((function(e){throw ED.create("recaptcha-error")}));case 3:return n=e.sent,e.prev=4,e.next=7,AD(RD(this._app,n),this._heartbeatServiceProvider);case 7:r=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=xM(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),ED.create("throttled",{time:ND(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=zt(e,"heartbeat"),dM(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),bM=function(){function e(t){pe(this,e),this._siteKey=t,this._throttleData=null}return me(e,[{key:"getToken",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _M(this._throttleData),e.next=3,yM(this._app).catch((function(e){throw ED.create("recaptcha-error")}));case 3:return n=e.sent,e.prev=4,e.next=7,AD(OD(this._app,n),this._heartbeatServiceProvider);case 7:r=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=xM(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),ED.create("throttled",{time:ND(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._heartbeatServiceProvider=zt(e,"heartbeat"),pM(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),kM=function(){function e(t){pe(this,e),this._customProviderOptions=t}return me(e,[{key:"getToken",value:function(){var e=J(Z.mark((function e(){var t,n,r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,n=Ye(t.token),r=null!==n&&n<Date.now()&&n>0?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:r}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function xM(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var n=t?t.backoffCount:0,r=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(lt,n+r)}(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}function _M(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw ED.create("throttled",{time:ND(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function EM(e,t,n){var r=vD(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return YD.apply(this,arguments)}(e).then((function(t){return t&&uM(t)&&(mD(e,Object.assign(Object.assign({},vD(e)),{token:t})),sM(e,{token:t.token})),t})),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,mD(e,i),i.provider.initialize(e)}function CM(){return(CM=J(Z.mark((function e(t,n){var r;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nM(t,n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",{token:r.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var TM="app-check-internal";Vt(new yt("app-check",(function(e){return function(e,t){return new lM(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(TM).initialize()}))),Vt(new yt(TM,(function(e){return function(e){return{getToken:function(t){return nM(e,t)},addTokenListener:function(t){return iM(e,"INTERNAL",t)},removeTokenListener:function(t){return aM(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),en("@firebase/app-check","0.5.6");var SM=ye({},"use-before-activation","App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."),NM=new ze("appCheck","AppCheck",SM),IM=function(){function e(t){pe(this,e),this.app=t}return me(e,[{key:"activate",value:function(e,t){var n;n="string"===typeof e?new wM(e):e instanceof bM||e instanceof wM||e instanceof kM?e:new kM({getToken:e.getToken}),this._delegate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=arguments.length>1?arguments[1]:void 0,n=zt(e=ht(e),"app-check");if(yD().initialized||eM(),XD()&&JD().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw ED.create("already-initialized",{appName:e.name})}var a=n.initialize({options:t});return EM(e,t.provider,t.isTokenAutoRefreshEnabled),vD(e).isTokenAutoRefreshEnabled&&iM(a,"INTERNAL",(function(){})),a}(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw NM.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=e.app,r=vD(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),mD(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw NM.create("use-before-activation",{appName:this.app.name});return function(e,t){return CM.apply(this,arguments)}(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw NM.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){var i=function(){},a=function(){};return i=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):n&&(a=n),iM(e,"EXTERNAL",i,a),function(){return aM(e.app,i)}}(this._delegate,e,t)}}]),e}(),AM=function(e){var t=e.getProvider("app-compat").getImmediate();return new IM(t)};jc.INTERNAL.registerComponent(new yt("appCheck-compat",AM,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:bM,ReCaptchaV3Provider:wM,CustomProvider:kM})),jc.registerVersion("@firebase/app-check-compat","0.2.6");jc.apps.length?jc.app():jc.initializeApp({apiKey:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",authDomain:"hairposey-1e3f6.firebaseapp.com",databaseURL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",projectId:"hairposey-1e3f6",storageBucket:"hairposey-1e3f6.appspot.com",messagingSenderId:"793265692561",appId:"1:793265692561:web:422f7f4a82d3437a398430",measurementId:"G-K261TM9PEZ"}),jc.appCheck().activate("AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",!0);var PM=jc.firestore(),RM=(jc.storage(),jc.auth());function OM(e,t){return jM.apply(this,arguments)}function jM(){return(jM=J(ee().mark((function e(t,n){var r,i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=PM.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(tc({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})))).apply(this,arguments)}var DM=r.createContext(),MM=function(e){var t=e.children,n=c(r.useState(null),2),i=n[0],a=n[1],o=c(r.useState(!0),2),s=o[0],u=o[1];r.useEffect((function(){var e=RM.onAuthStateChanged(function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,OM(t);case 3:e.sent.onSnapshot((function(e){a(tc({id:e.id},e.data())),u(!1)})),e.next=9;break;case 7:a(t),u(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[]);var l={user:i,loading:s};return s?(0,xc.jsx)("div",{className:"tw-text-gray-600 tw-flex tw-flex-col tw-items-center tw-mt-[50px]",children:"Loading..."}):(0,xc.jsx)(DM.Provider,{value:l,children:t})};var LM=function(e){var t=e.showText,n=e.id,r=e.children,i=e.commonId;return(0,xc.jsx)("span",{id:n,className:"tw-absolute tw-bottom-[-20px] tw-flex tw-flex-row tw-text-center tw-px-2 tw-py-[2px] tw-text-[10px] tw-font-bold tw-mt-2 tw-bg-zinc-100 tw-rounded tw-text-slate-800 tw-ease-in tw-duration-300"+(i===n&&t?" tw-opacity-60":" tw-opacity-0"),children:r})};var FM=function(){var e=(0,r.useContext)(DM).user,t=c(r.useState(!1),2),i=t[0],a=t[1],o=n(6949);return(0,xc.jsxs)("div",{className:"tw-relative tw-flex tw-flex-row tw-items-center -tw-ml-5",children:[(0,xc.jsx)($,{to:"/",children:(0,xc.jsx)("div",{className:"tw-text-lg tw-font-extrabold tw-w-[100px]",children:(0,xc.jsx)("img",{src:o,loading:"lazy",className:"tw-w-full",alt:"company-logo"})})}),("hairposey@gmail.com"===(null===e||void 0===e?void 0:e.email)||"tisijola7@gmail.com"===(null===e||void 0===e?void 0:e.email))&&(0,xc.jsxs)($,{to:"/admin-portal",className:"tw-absolute -tw-right-5 tw-top-[20%]",onMouseOver:function(){!i&&a(!0)},onMouseOut:function(){a(!1)},children:[(0,xc.jsx)("div",{className:"tw-w-30 tw-h-30 tw-p-2 tw-text-black tw-text-xl hover:tw-cursor-pointer tw-bg-pink-900 tw-rounded-full tw-ease-in tw-duration-300",children:(0,xc.jsx)(wc,{})}),(0,xc.jsx)(LM,{showText:i,children:"Admin"})]})]})};function UM(e){return sc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2 16a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2zm6.5-4.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 1 0z"}}]})(e)}function BM(e){return sc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM9 5.5V7h1.5a.5.5 0 0 1 0 1H9v1.5a.5.5 0 0 1-1 0V8H6.5a.5.5 0 0 1 0-1H8V5.5a.5.5 0 0 1 1 0z"}}]})(e)}function VM(e){return sc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"}},{tag:"path",attr:{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}}]})(e)}function zM(e){return sc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a2 2 0 0 0-2 2v2H5V3a3 3 0 1 1 6 0v2h-1V3a2 2 0 0 0-2-2zM5 5H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11v1.5a.5.5 0 0 1-1 0V5H6v1.5a.5.5 0 0 1-1 0V5z"}}]})(e)}function qM(e){return sc({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 1 0V6h1.639a.5.5 0 0 1 .494.426l1.028 6.851A1.5 1.5 0 0 1 12.678 15H3.322a1.5 1.5 0 0 1-1.483-1.723l1.028-6.851A.5.5 0 0 1 3.36 6H5v1.5a.5.5 0 1 0 1 0V6h4z"}}]})(e)}function KM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}},{tag:"polyline",attr:{points:"10 17 15 12 10 7"}},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"}}]})(e)}function HM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function WM(e){return sc({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"}}]})(e)}function GM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0zm18.31 6l-2.76 5z"}},{tag:"path",attr:{d:"M11 9h2V6h3V4h-3V1h-2v3H8v2h3v3zm-4 9c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2zm-9.83-3.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.86-7.01L19.42 4h-.01l-1.1 2-2.76 5H8.53l-.13-.27L6.16 6l-.95-2-.94-2H1v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.13 0-.25-.11-.25-.25z"}}]})(e)}function YM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"}}]})(e)}function QM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function $M(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27zM5.33 4.06L4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27L5.33 4.06z"}}]})(e)}function XM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 1.74.5 3.37 1.41 4.84.95 1.54 2.2 2.86 3.16 4.4.47.75.81 1.45 1.17 2.26.26.55.47 1.5 1.26 1.5s1-.95 1.25-1.5c.37-.81.7-1.51 1.17-2.26.96-1.53 2.21-2.85 3.16-4.4C18.5 12.37 19 10.74 19 9c0-3.87-3.13-7-7-7zm0 9.75a2.5 2.5 0 010-5 2.5 2.5 0 010 5z"}}]})(e)}function JM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.77 3.77L16 2 6 12l10 10 1.77-1.77L9.54 12z"}}]})(e)}function ZM(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M6.23 20.23L8 22l10-10L8 2 6.23 3.77 14.46 12z"}}]})(e)}function eL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function tL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 4c0-.55.45-1 1-1h2V1H4C2.34 1 1 2.34 1 4v2h2V4zM3 20v-2H1v2c0 1.66 1.34 3 3 3h2v-2H4c-.55 0-1-.45-1-1zM20 1h-2v2h2c.55 0 1 .45 1 1v2h2V4c0-1.66-1.34-3-3-3zM21 20c0 .55-.45 1-1 1h-2v2h2c1.66 0 3-1.34 3-3v-2h-2v2zM19 14.87V9.13c0-.72-.38-1.38-1-1.73l-5-2.88c-.31-.18-.65-.27-1-.27s-.69.09-1 .27L6 7.39c-.62.36-1 1.02-1 1.74v5.74c0 .72.38 1.38 1 1.73l5 2.88c.31.18.65.27 1 .27s.69-.09 1-.27l5-2.88c.62-.35 1-1.01 1-1.73zm-8 2.3l-4-2.3v-4.63l4 2.33v4.6zm1-6.33L8.04 8.53 12 6.25l3.96 2.28L12 10.84zm5 4.03l-4 2.3v-4.6l4-2.33v4.63z"}}]})(e)}function nL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 5h2v3h10V5h2v5h2V5c0-1.1-.9-2-2-2h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6v-2H5V5zm7-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"}},{tag:"path",attr:{d:"M21 11.5L15.51 17l-3.01-3-1.5 1.5 4.51 4.5 6.99-7z"}}]})(e)}function rL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 10h11v2H3v-2zm0-2h11V6H3v2zm0 8h7v-2H3v2zm15.01-3.13l.71-.71a.996.996 0 011.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71-2.12-2.12zm-.71.71l-5.3 5.3V21h2.12l5.3-5.3-2.12-2.12z"}}]})(e)}function iL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}}]})(e)}function aL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6 1.41 1.41z"}}]})(e)}function oL(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M13.783 15.172l2.121-2.121 5.996 5.996-2.121 2.121zM17.5 10c1.93 0 3.5-1.57 3.5-3.5 0-.58-.16-1.12-.41-1.6l-2.7 2.7-1.49-1.49 2.7-2.7c-.48-.25-1.02-.41-1.6-.41C15.57 3 14 4.57 14 6.5c0 .41.08.8.21 1.16l-1.85 1.85-1.78-1.78.71-.71-1.41-1.41L12 3.49a3 3 0 00-4.24 0L4.22 7.03l1.41 1.41H2.81l-.71.71 3.54 3.54.71-.71V9.15l1.41 1.41.71-.71 1.78 1.78-7.41 7.41 2.12 2.12L16.34 9.79c.36.13.75.21 1.16.21z"}}]})(e)}function sL(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function uL(e){return!!e&&!!e[XL]}function cL(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===JL}(e)||Array.isArray(e)||!!e[$L]||!!e.constructor[$L]||mL(e)||yL(e))}function lL(e,t,n){void 0===n&&(n=!1),0===hL(e)?(n?Object.keys:ZL)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function hL(e){var t=e[XL];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:mL(e)?2:yL(e)?3:0}function fL(e,t){return 2===hL(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dL(e,t){return 2===hL(e)?e.get(t):e[t]}function pL(e,t,n){var r=hL(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function vL(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function mL(e){return WL&&e instanceof Map}function yL(e){return GL&&e instanceof Set}function gL(e){return e.o||e.t}function wL(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=eF(e);delete t[XL];for(var n=ZL(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function bL(e,t){return void 0===t&&(t=!1),xL(e)||uL(e)||!cL(e)||(hL(e)>1&&(e.set=e.add=e.clear=e.delete=kL),Object.freeze(e),t&&lL(e,(function(e,t){return bL(t,!0)}),!0)),e}function kL(){sL(2)}function xL(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function _L(e){var t=tF[e];return t||sL(18,e),t}function EL(e,t){tF[e]||(tF[e]=t)}function CL(){return KL}function TL(e,t){t&&(_L("Patches"),e.u=[],e.s=[],e.v=t)}function SL(e){NL(e),e.p.forEach(AL),e.p=null}function NL(e){e===KL&&(KL=e.l)}function IL(e){return KL={p:[],l:KL,h:e,m:!0,_:0}}function AL(e){var t=e[XL];0===t.i||1===t.i?t.j():t.O=!0}function PL(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||_L("ES5").S(t,e,r),r?(n[XL].P&&(SL(t),sL(4)),cL(e)&&(e=RL(t,e),t.l||jL(t,e)),t.u&&_L("Patches").M(n[XL].t,e,t.u,t.s)):e=RL(t,n,[]),SL(t),t.u&&t.v(t.u,t.s),e!==QL?e:void 0}function RL(e,t,n){if(xL(t))return t;var r=t[XL];if(!r)return lL(t,(function(i,a){return OL(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return jL(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=wL(r.k):r.o;lL(3===r.i?new Set(i):i,(function(t,a){return OL(e,r,i,t,a,n)})),jL(e,i,!1),n&&e.u&&_L("Patches").R(r,n,e.u,e.s)}return r.o}function OL(e,t,n,r,i,a){if(uL(i)){var o=RL(e,i,a&&t&&3!==t.i&&!fL(t.D,r)?a.concat(r):void 0);if(pL(n,r,o),!uL(o))return;e.m=!1}if(cL(i)&&!xL(i)){if(!e.h.F&&e._<1)return;RL(e,i),t&&t.A.l||jL(e,i)}}function jL(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&bL(t,n)}function DL(e,t){var n=e[XL];return(n?gL(n):e)[t]}function ML(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function LL(e){e.P||(e.P=!0,e.l&&LL(e.l))}function FL(e){e.o||(e.o=wL(e.t))}function UL(e,t,n){var r=mL(t)?_L("MapSet").N(t,n):yL(t)?_L("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:CL(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=nF;n&&(i=[r],a=rF);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):_L("ES5").J(t,n);return(n?n.A:CL()).p.push(r),r}function BL(e){return uL(e)||sL(22,e),function e(t){if(!cL(t))return t;var n,r=t[XL],i=hL(t);if(r){if(!r.P&&(r.i<4||!_L("ES5").K(r)))return r.t;r.I=!0,n=VL(t,i),r.I=!1}else n=VL(t,i);return lL(n,(function(t,i){r&&dL(r.t,t)===i||pL(n,t,e(i))})),3===i?new Set(n):n}(e)}function VL(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return wL(e)}function zL(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[XL];return nF.get(t,e)},set:function(t){var n=this[XL];nF.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][XL];if(!i.P)switch(i.i){case 5:r(i)&&LL(i);break;case 4:n(i)&&LL(i)}}}function n(e){for(var t=e.t,n=e.k,r=ZL(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==XL){var o=t[a];if(void 0===o&&!fL(t,a))return!0;var s=n[a],u=s&&s[XL];if(u?u.t!==o:!vL(s,o))return!0}}var c=!!t[XL];return r.length!==ZL(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};EL("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=eF(n);delete a[XL];for(var o=ZL(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:CL(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,XL,{value:a,writable:!0}),i},S:function(e,n,i){i?uL(n)&&n[XL].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[XL];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)lL(a,(function(t){t!==XL&&(void 0!==i[t]||fL(i,t)?o[t]||e(a[t]):(o[t]=!0,LL(n)))})),lL(i,(function(e){void 0!==a[e]||fL(a,e)||(o[e]=!1,LL(n))}));else if(5===s){if(r(n)&&(LL(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),h=0;h<l;h++)a.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var qL,KL,HL="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),WL="undefined"!=typeof Map,GL="undefined"!=typeof Set,YL="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,QL=HL?Symbol.for("immer-nothing"):((qL={})["immer-nothing"]=!0,qL),$L=HL?Symbol.for("immer-draftable"):"__$immer_draftable",XL=HL?Symbol.for("immer-state"):"__$immer_state",JL=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ZL="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,eF=Object.getOwnPropertyDescriptors||function(e){var t={};return ZL(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},tF={},nF={get:function(e,t){if(t===XL)return e;var n=gL(e);if(!fL(n,t))return function(e,t,n){var r,i=ML(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!cL(r)?r:r===DL(e.t,t)?(FL(e),e.o[t]=UL(e.A.h,r,e)):r},has:function(e,t){return t in gL(e)},ownKeys:function(e){return Reflect.ownKeys(gL(e))},set:function(e,t,n){var r=ML(gL(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=DL(gL(e),t),a=null==i?void 0:i[XL];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(vL(n,i)&&(void 0!==n||fL(e.t,t)))return!0;FL(e),LL(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==DL(e.t,t)||t in e.t?(e.D[t]=!1,FL(e),LL(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=gL(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){sL(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){sL(12)}},rF={};lL(nF,(function(e,t){rF[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),rF.deleteProperty=function(e,t){return rF.set.call(this,e,t,void 0)},rF.set=function(e,t,n){return nF.set.call(this,e[0],t,n,e[0])};var iF=function(){function e(e){var t=this;this.g=YL,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&sL(6),void 0!==r&&"function"!=typeof r&&sL(7),cL(e)){var s=IL(t),u=UL(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?SL(s):NL(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return TL(s,r),PL(e,s)}),(function(e){throw SL(s),e})):(TL(s,r),PL(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===QL&&(o=void 0),t.F&&bL(o,!0),r){var l=[],h=[];_L("Patches").M(e,o,l,h),r(l,h)}return o}sL(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){cL(e)||sL(8),uL(e)&&(e=BL(e));var t=IL(this),n=UL(this,e,void 0);return n[XL].C=!0,NL(t),n},t.finishDraft=function(e,t){var n=(e&&e[XL]).A;return TL(n,t),PL(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!YL&&sL(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=_L("Patches").$;return uL(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),aF=new iF,oF=aF.produce,sF=(aF.produceWithPatches.bind(aF),aF.setAutoFreeze.bind(aF),aF.setUseProxies.bind(aF),aF.applyPatches.bind(aF),aF.createDraft.bind(aF),aF.finishDraft.bind(aF),oF);function uF(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var cF="function"===typeof Symbol&&Symbol.observable||"@@observable",lF=function(){return Math.random().toString(36).substring(7).split("").join(".")},hF={INIT:"@@redux/INIT"+lF(),REPLACE:"@@redux/REPLACE"+lF(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lF()}};function fF(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dF(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(uF(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(uF(1));return n(dF)(e,t)}if("function"!==typeof e)throw new Error(uF(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(uF(3));return a}function h(e){if("function"!==typeof e)throw new Error(uF(4));if(u)throw new Error(uF(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(uF(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!fF(e))throw new Error(uF(7));if("undefined"===typeof e.type)throw new Error(uF(8));if(u)throw new Error(uF(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(uF(10));i=e,f({type:hF.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(uF(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[cF]=function(){return this},e}return f({type:hF.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:d})[cF]=p,r}function pF(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:hF.INIT}))throw new Error(uF(12));if("undefined"===typeof n(void 0,{type:hF.PROBE_UNKNOWN_ACTION()}))throw new Error(uF(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],h=c(l,t);if("undefined"===typeof h){t&&t.type;throw new Error(uF(14))}i[u]=h,r=r||h!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function vF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function mF(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(uF(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=vF.apply(void 0,a)(n.dispatch),tc(tc({},n),{},{dispatch:r})}}}function yF(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var gF=yF();gF.withExtraArgument=yF;var wF=gF,bF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kF=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},xF=Object.defineProperty,_F=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),EF=Object.prototype.hasOwnProperty,CF=Object.prototype.propertyIsEnumerable,TF=function(e,t,n){return t in e?xF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},SF=function(e,t){for(var n in t||(t={}))EF.call(t,n)&&TF(e,n,t[n]);if(_F)for(var r=0,i=_F(t);r<i.length;r++){n=i[r];CF.call(t,n)&&TF(e,n,t[n])}return e},NF="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?vF:vF.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function IF(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var AF=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return bF(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,kF([void 0],e[0].concat(this)))):new(t.bind.apply(t,kF([void 0],e.concat(this))))},t}(Array);function PF(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new AF);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(wF.withExtraArgument(n.extraArgument)):r.push(wF));0;return r}(e)}}function RF(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return SF(SF({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function OF(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}Object.assign;var jF="listenerMiddleware";RF(jF+"/add"),RF(jF+"/removeAll"),RF(jF+"/remove");zL();var DF="persist:",MF="persist/FLUSH",LF="persist/REHYDRATE",FF="persist/PAUSE",UF="persist/PERSIST",BF="persist/PURGE",VF="persist/REGISTER";function zF(e){return zF="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zF(e)}function qF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HF(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qF(n,!0).forEach((function(t){KF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qF(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===zF(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function WF(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],a=e.throttle||0,o="".concat(void 0!==e.keyPrefix?e.keyPrefix:DF).concat(e.key),s=e.storage;t=!1===e.serialize?function(e){return e}:"function"===typeof e.serialize?e.serialize:GF;var u=e.writeFailHandler||null,c={},l={},h=[],f=null,d=null;function p(){if(0===h.length)return f&&clearInterval(f),void(f=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(r){console.error("redux-persist/createPersistoid: error serializing state",r)}else delete l[e];0===h.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),d=s.setItem(o,t(l)).catch(m))}function v(e){return(!r||-1!==r.indexOf(e)||"_persist"===e)&&(!n||-1===n.indexOf(e))}function m(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach((function(t){v(t)&&c[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&v(t)&&-1===h.indexOf(t)&&void 0!==c[t]&&h.push(t)})),null===f&&(f=setInterval(p,a)),c=e},flush:function(){for(;0!==h.length;)p();return d||Promise.resolve()}}}function GF(e){return JSON.stringify(e)}function YF(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:DF).concat(e.key),i=e.storage;e.debug;return t=!1===e.deserialize?function(e){return e}:"function"===typeof e.deserialize?e.deserialize:QF,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(a){throw a}}))}function QF(e){return JSON.parse(e)}function $F(e){0}function XF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XF(n,!0).forEach((function(t){ZF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XF(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tU(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(n,!0).forEach((function(t){iU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aU={registry:[],bootstrapped:!1},oU=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aU,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case VF:return rU({},e,{registry:[].concat(tU(e.registry),[t.key])});case LF:var n=e.registry.indexOf(t.key),r=tU(e.registry);return r.splice(n,1),rU({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var sU={key:"root",storage:n(5752).Z,whitelist:["cartItems","itemCount","total"]},uU=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:sF(e.initialState,(function(){})),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?OF(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=SF(SF({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?OF(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return sF(e(),(function(){}))};else{var c=sF(e,(function(){}));i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=kF([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(uL(e))return"undefined"===typeof(r=n(e,t))?e:r;if(cL(e))return sF(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?RF(c,r):RF(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"app",initialState:{cartItems:[],itemCount:0,total:0,bookingObject:""},reducers:{addToCartItem:function(e,t){e.cartItems.find((function(e){return e.id===t.payload.id}))||e.cartItems.push(tc(tc({},t.payload),{},{quantity:1})),e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},increaseCartItem:function(e,t){if(e.cartItems.find((function(e){return e.hairLength===t.payload.hairLength&&e.id===t.payload.id}))){var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id&&e.hairLength===t.payload.hairLength}));e.cartItems[n].quantity++,e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)}else e.cartItems.push(tc(tc({},t.payload),{},{quantity:1})),e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},decreaseCartItem:function(e,t){var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id&&e.hairLength===t.payload.hairLength})),r=e.cartItems[n];r.quantity>=1&&r.quantity--,e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},removeCartItem:function(e,t){var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id&&e.hairLength===t.payload.hairLength})),r=e.cartItems.slice(0,n),i=e.cartItems.slice(n+1,e.cartItems.length),a=[].concat(fe(r),fe(i));e.cartItems=fe(a),e.itemCount=e.cartItems.reduce((function(e,t){return e+t.quantity}),0),e.total=e.cartItems.reduce((function(e,t){return e+t.price*t.quantity}),0)},clearCartItem:function(e){e.cartItems=[],e.itemCount=0,e.total=0},setBookingObject:function(e,t){e.bookingObject=t.payload}}}),cU=uU.actions,lU=cU.addToCartItem,hU=cU.increaseCartItem,fU=cU.decreaseCartItem,dU=cU.removeCartItem,pU=cU.clearCartItem,vU=(cU.setBookingObject,function(e){return e.app.cartItems}),mU=function(e){return e.app.itemCount},yU=function(e){return e.app.total},gU=function(e,t){var n=void 0!==e.version?e.version:-1,r=(e.debug,void 0===e.stateReconciler?HF:e.stateReconciler),i=e.getStoredState||YF,a=void 0!==e.timeout?e.timeout:5e3,o=null,s=!1,u=!0,c=function(e){return e._persist.rehydrated&&o&&!u&&o.update(e),e};return function(l,h){var f=l||{},d=f._persist,p=eU(f,["_persist"]);if(h.type===UF){var v=!1,m=function(t,n){v||(h.rehydrate(e.key,t,n),v=!0)};if(a&&setTimeout((function(){!v&&m(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))}),a),u=!1,o||(o=WF(e)),d)return JF({},t(p,h),{_persist:d});if("function"!==typeof h.rehydrate||"function"!==typeof h.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then((function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then((function(e){m(e)}),(function(e){m(void 0,e)}))}),(function(e){m(void 0,e)})),JF({},t(p,h),{_persist:{version:n,rehydrated:!1}})}if(h.type===BF)return s=!0,h.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:DF).concat(e.key);return t.removeItem(n,$F)}(e)),JF({},t(p,h),{_persist:d});if(h.type===MF)return h.result(o&&o.flush()),JF({},t(p,h),{_persist:d});if(h.type===FF)u=!0;else if(h.type===LF){if(s)return JF({},p,{_persist:JF({},d,{rehydrated:!0})});if(h.key===e.key){var y=t(p,h),g=h.payload,w=JF({},!1!==r&&void 0!==g?r(g,l,y,e):y,{_persist:JF({},d,{rehydrated:!0})});return c(w)}}if(!d)return t(l,h);var b=t(p,h);return b===p?l:c(JF({},b,{_persist:d}))}}(sU,uU.reducer),wU=r.createContext(null);var bU=function(e){e()},kU=function(){return bU};var xU={notify:function(){},get:function(){return[]}};function _U(e,t){var n,r=xU;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=kU(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=xU)},getListeners:function(){return r}};return o}var EU="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var CU=function(e){var t=e.store,n=e.context,i=e.children,a=(0,r.useMemo)((function(){var e=_U(t);return{store:t,subscription:e}}),[t]),o=(0,r.useMemo)((function(){return t.getState()}),[t]);EU((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,o]);var s=n||wU;return r.createElement(s.Provider,{value:a},i)},TU=n(2110),SU=n.n(TU);n(6900);function NU(){return(0,r.useContext)(wU)}function IU(e){void 0===e&&(e=wU);var t=e===wU?NU:function(){return(0,r.useContext)(e)};return function(){return t().store}}var AU=IU();function PU(e){void 0===e&&(e=wU);var t=e===wU?AU:IU(e);return function(){return t().dispatch}}var RU=PU(),OU=function(e,t){return e===t};function jU(e){void 0===e&&(e=wU);var t=e===wU?NU:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=OU);var i=t(),a=function(e,t,n,i){var a,o=(0,r.useReducer)((function(e){return e+1}),0)[1],s=(0,r.useMemo)((function(){return _U(n,i)}),[n,i]),u=(0,r.useRef)(),c=(0,r.useRef)(),l=(0,r.useRef)(),h=(0,r.useRef)(),f=n.getState();try{if(e!==c.current||f!==l.current||u.current){var d=e(f);a=void 0!==h.current&&t(d,h.current)?h.current:d}else a=h.current}catch(p){throw u.current&&(p.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),p}return EU((function(){c.current=e,l.current=f,h.current=a,u.current=void 0})),EU((function(){function e(){try{var e=n.getState();if(e===l.current)return;var r=c.current(e);if(t(r,h.current))return;h.current=r,l.current=e}catch(p){u.current=p}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(a),a}}var DU,MU=jU();DU=i.unstable_batchedUpdates,bU=DU;var LU=function(e){var t=e.setIsNav,n=e.isNav,i=(0,r.useContext)(DM).user,a=MU(mU),o=U();return(0,xc.jsxs)("div",{className:" tw-flex tw-flex-row tw-w-46 tw-mr-5 tw-justify-center tw-items-center",children:[(0,xc.jsx)("div",{className:"tw-text-white tw-text-3xl tw-mr-8 hover:tw-cursor-pointer hover:tw-text-slate-400 tw-ease-in tw-duration-300",children:(0,xc.jsx)(WM,{onClick:function(){return t(!n)}})}),(0,xc.jsxs)("div",{onClick:function(){return o("/user-cart/".concat((null===i||void 0===i?void 0:i.displayName)||"new-customer"))},className:"".concat(a>0?"tw-mt-5 tw-mr-5":"tw-mt-0"," tw-w-30 tw-h-30 tw-text-neutral-50 tw-text-xl tw-mb-3 hover:tw-cursor-pointer hover:tw-bg-gray-300 hover:tw-text-neutral-800 hover:tw-p-2 hover:tw-rounded-full hover:tw--mb-[2px] tw-ease-in tw-duration-300 tw-relative"),children:[a>0?(0,xc.jsx)(zM,{size:25}):(0,xc.jsx)(qM,{size:25}),a>0&&(0,xc.jsx)("span",{className:"tw-absolute tw--top-[20px] tw-right-[-20px] tw-border-[2px] tw-border-neutral-50 tw-font-bold tw-text-sm bg-blur3 tw-bg-clip-text tw-text-white tw-rounded-full tw-p-4 tw-h-2 tw-w-2 tw-flex tw-mx-auto tw-justify-center tw-items-center",children:a})]}),i&&(0,xc.jsxs)("div",{className:"tw-flex  tw-ml-[20px] tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer  tw-relative",children:[(0,xc.jsx)("div",{className:"tw-text-neutral-50 tw-text-xl tw-ease-in tw-duration-500",children:(0,xc.jsx)(HM,{onClick:function(){RM.signOut(),o("/")}})}),(0,xc.jsx)("span",{className:"tw-text-[7px] tw-text-white tw-uppercase",children:"sign out"})]}),!i&&(0,xc.jsxs)("div",{className:"tw-w-[80px] tw-ml-[25px] tw-flex tw-flex-row tw-justify-between tw-items-center",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer tw-relative",children:[(0,xc.jsx)("div",{className:"tw-text-neutral-50 tw-text-xl tw-ease-in tw-duration-500",children:(0,xc.jsx)(KM,{onClick:function(){return o("/login")}})}),(0,xc.jsx)("span",{className:"tw-text-[7px] tw-text-white tw-uppercase",children:"sign in"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-center tw-items-center hover:tw-opacity-[0.5] hover:tw-cursor-pointer tw-relative",children:[(0,xc.jsx)("div",{className:"tw-text-neutral-50 tw-text-xl tw-ease-in tw-duration-500",children:(0,xc.jsx)(YM,{onClick:function(){return o("/register")}})}),(0,xc.jsx)("span",{className:"tw-text-[7px] tw-text-white tw-uppercase",children:"sign up"})]})]})]})},FU=[{name:"Indian-Hair",id:"1"},{name:"Vietnamese-Hair",id:"1"},{name:"Brazilian-Hair",id:"1"}],UU=[{id:"1",name:"Bundles (Indian)",route:"/indian-bundles"},{id:"2",name:"Closure / Frontal (Indian)",route:"/indian-closure-frontal"},{id:"3",name:"Jet Black / Blonde (Indian)",route:"/indian-jet-black-&-blonde"}],BU=[{id:"1",name:"Coming Soon...",route:""},{id:"2",name:"Coming Soon...",route:""},{id:"3",name:"Coming Soon...",route:""}],VU=[{id:"1",name:"Coming Soon...",route:""},{id:"2",name:"Coming Soon...",route:""},{id:"3",name:"Coming Soon...",route:""}];var zU=function(){return(0,xc.jsx)("div",{className:"tw-z-40 wrapper tw-h-[100vh] bg-blur md:tw-bg-[rgba(255,255,255,0.9)] md:tw-w-[450px] tw-w-[300px] tw-top-[486px] md:tw-top-[543px] md:tw-right-[-225px] tw-right-[-150px]",children:(0,xc.jsx)("ui",{className:"mainMenu",children:FU.map((function(e){return(0,xc.jsxs)("li",{className:"item",id:e.name,children:[(0,xc.jsx)("a",{href:"#".concat(e.name),className:"btn tw-bg-gradient-to-r tw-from-pink-800 tw-to-slate-900",children:e.name}),"Indian-Hair"===e.name?(0,xc.jsx)("div",{className:"subMenu",children:UU.map((function(e){return(0,xc.jsx)("a",{href:e.route,children:e.name})}))}):"Vietnamese-Hair"===e.name?(0,xc.jsx)("div",{className:"subMenu",children:BU.map((function(e){return(0,xc.jsx)("a",{href:e.route,children:e.name})}))}):(0,xc.jsx)("div",{className:"subMenu",children:VU.map((function(e){return(0,xc.jsx)("a",{href:e.route,children:e.name})}))})]})}))})})};var qU=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("div",{className:"tw-flex tw-bg-gradient-to-r tw-from-pink-800 tw-to-slate-900 tw-w-[100%] tw-grow tw-flex-row tw-items-center tw-justify-between tw-my-0 tw-mx-auto tw-h-[70px]",children:[(0,xc.jsx)("div",{className:"",children:(0,xc.jsx)(FM,{})}),(0,xc.jsxs)("div",{className:"font_cursive md:tw-flex tw-text-pink-800 tw-hidden md:tw-text-2xl tw-tracking-widest",children:[(0,xc.jsx)("span",{children:"A whole new you with Hairposey..."}),window.location.pathname.includes("user-cart")&&(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center tw-ml-5",children:[(0,xc.jsx)(fc,{className:"tw-text-2xl tw-text-pink-600"}),(0,xc.jsx)("h2",{className:"tw-text-lg tw-ml-2 tw-text-pink-800",children:"Your Cart"})]})]}),(0,xc.jsx)("div",{className:"",children:(0,xc.jsx)(LU,{setIsNav:n,isNav:t})})]}),t&&(0,xc.jsx)("div",{children:(0,xc.jsx)(zU,{})})]})};var KU=function(e){var t=e.children;return(0,xc.jsxs)("div",{children:[(0,xc.jsx)("div",{className:"bg-blur2 tw-fixed tw-top-0 tw-left-0 tw-right-0 tw-z-20 tw-max-w-screen ",children:(0,xc.jsx)(qU,{})}),(0,xc.jsx)("div",{className:"tw-mt-2",children:t}),(0,xc.jsx)("div",{children:(0,xc.jsx)(Ec,{})})]})},HU=function(e,t){return t.find((function(t){return t._id===e._id}))};function WU(e){return sc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M17.47 250.9C88.82 328.1 158 397.6 224.5 485.5c72.3-143.8 146.3-288.1 268.4-444.37L460 26.06C356.9 135.4 276.8 238.9 207.2 361.9c-48.4-43.6-126.62-105.3-174.38-137z"}}]})(e)}function GU(e){return sc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"}}]})(e)}function YU(e){return sc({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M199 103v50h-78v30h270v-30h-78v-50H199zm18 18h78v32h-78v-32zm-79.002 80l30.106 286h175.794l30.104-286H137.998zm62.338 13.38l.64 8.98 16 224 .643 8.976-17.956 1.283-.64-8.98-16-224-.643-8.976 17.956-1.283zm111.328 0l17.955 1.284-.643 8.977-16 224-.64 8.98-17.956-1.284.643-8.977 16-224 .64-8.98zM247 215h18v242h-18V215z"}}]})(e)}var QU=function(e){var t=e.product,n=e.setSingleproducts,r=e.scrollToTop,i=e.sales,a=MU(vU);function o(e){return s.apply(this,arguments)}function s(){return s=J(ee().mark((function e(t){var i,a,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:i=e.sent,a=i.data.products,o=a.filter((function(e){return e._id===t})),n(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:r();case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),s.apply(this,arguments)}return(0,xc.jsxs)("div",{className:"card tw-w-[90%] tw-mx-auto md:tw-w-[300px] tw-rounded-[30px]",children:[(0,xc.jsxs)("ul",{className:"ul",children:[(0,xc.jsxs)("li",{onClick:function(){return o(t._id)},className:"tw-relative",children:[(0,xc.jsx)("span",{className:"tw-absolute tw-left-[-45px] tw-text-white tw-text-xs",children:"Expand"}),(0,xc.jsx)(tL,{})]}),(0,xc.jsxs)("li",{children:[(0,xc.jsx)("span",{className:"".concat(t.instock?"tw-text-white":"tw-text-white tw-left-[-65px]"," tw-absolute tw-left-[-45px] tw-text-xs"),children:t.instock?"Instock":"Not Instock"}),(0,xc.jsx)(nL,{className:"".concat(!t.instock&&"tw-text-red-800")})]}),(0,xc.jsxs)("li",{children:[(0,xc.jsxs)("span",{className:"tw-absolute tw-left-[-80px] tw-text-white tw-text-md tw-font-bold",children:["$",t.price," CAD"]}),(0,xc.jsx)(GU,{})]}),(0,xc.jsxs)("li",{children:[(0,xc.jsx)("span",{className:"".concat(t.sales&&0!==i?"tw-text-white  tw-left-[-35px]":"tw-text-white tw-left-[-73px]"," tw-absolute tw-text-xs"),children:t.sales?"Sales":"Not on Sales"}),(0,xc.jsx)($M,{className:"".concat(!t.sales&&"tw-text-red-800")})]})]}),(0,xc.jsx)("img",{id:t._id,src:null===t||void 0===t?void 0:t.image,alt:t._id,className:"tw-w-full md:tw-w-[400px] tw-object-cover"}),(0,xc.jsxs)("div",{className:"con-text",children:[(0,xc.jsx)("h2",{className:"font_cursive tw-text-4xl tw-mb-[15px]",children:t.name}),(0,xc.jsx)("p",{className:"",children:t.description}),HU(t,a)?(0,xc.jsx)("button",{className:"tw-bg-white tw-text-black",onClick:function(){return o(t._id)},children:"Add More"}):(0,xc.jsx)("button",{onClick:function(){return o(t._id)},children:"Add to cart"})]})]})},$U=function(e){var t=e.images,n=[{image:t.image&&t.image,id:1},{image:t.image2&&t.image2,id:2},{image:t.image3&&t.image3,id:3},{image:t.image4&&t.image4,id:4}].filter((function(e){return e.image})),i=c(r.useState(0),2),a=i[0],o=i[1],s=n.length;return(0,xc.jsxs)("div",{className:"tw-relative ",children:[n.length>1&&(0,xc.jsx)(JM,{className:"left-arrow tw-left-3",onClick:function(){o(0===a?s-1:a-1)}}),n.length>1&&(0,xc.jsx)(ZM,{className:"right-arrow tw-right-3",onClick:function(){o(a===s-1?0:a+1)}}),(0,xc.jsx)("div",{className:"slider tw-h-[550px]",children:n.map((function(e,t){return(0,xc.jsx)("div",{className:t===a?"slide active":"slide",children:t===a&&(0,xc.jsxs)("div",{className:"image",children:[(0,xc.jsx)("img",{src:e.image,alt:e.id}),(0,xc.jsx)("span",{className:"tw-absolute tw-text-gray-600 tw-right-6 tw-bottom-4 tw-italic tw-text-[10px]",children:"hairposey..."})]})},t)}))})]})};function XU(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6.2253 4.81108C5.83477 4.42056 5.20161 4.42056 4.81108 4.81108C4.42056 5.20161 4.42056 5.83477 4.81108 6.2253L10.5858 12L4.81114 17.7747C4.42062 18.1652 4.42062 18.7984 4.81114 19.1889C5.20167 19.5794 5.83483 19.5794 6.22535 19.1889L12 13.4142L17.7747 19.1889C18.1652 19.5794 18.7984 19.5794 19.1889 19.1889C19.5794 18.7984 19.5794 18.1652 19.1889 17.7747L13.4142 12L19.189 6.2253C19.5795 5.83477 19.5795 5.20161 19.189 4.81108C18.7985 4.42056 18.1653 4.42056 17.7748 4.81108L12 10.5858L6.2253 4.81108Z",fill:"currentColor"}}]})(e)}function JU(e){return sc({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"polyline",attr:{fill:"none",stroke:"#000",strokeWidth:"2",points:"2 14 9 20 22 4"}}]})(e)}var ZU=function(e){var t=e.singleCart,n=e.setSingleCart,i=U(),a=(0,r.useContext)(DM).user,o=MU(mU);return(0,xc.jsx)("div",{children:t&&(0,xc.jsxs)("div",{className:" tw-shadow-2xl tw-absolute bg-blur2 tw-border tw-p-10 tw-w-[350px] tw-top-0 md:tw-top-[95px] tw-z-40 tw-right-0 md:tw-right-[40px]",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)(JU,{}),(0,xc.jsx)("span",{className:"tw-text-xs tw-ml-2 tw-text-neutral-700",children:"1 Item added to your cart"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-mb-10 tw-mt-7",children:[(0,xc.jsx)("img",{id:t._id,src:t.image,alt:t._id,className:" tw-w-[80px] tw-h-[120px] tw-mr-3 tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-text-sm",children:[(0,xc.jsx)("span",{children:t.name}),(0,xc.jsxs)("span",{children:["Color - ",t.hairColor]}),t.hairTexture&&(0,xc.jsxs)("span",{children:["Texture - ",t.hairTexture]}),t.width&&(0,xc.jsxs)("span",{children:["Width - ",t.width]}),(0,xc.jsxs)("span",{children:["Length - ",t.hairLength,'" inches']}),(0,xc.jsxs)("span",{children:["Price - $",t.price," USD"]})]})]}),(0,xc.jsx)("div",{onClick:function(){return i("/user-cart/".concat((null===a||void 0===a?void 0:a.displayName)||"new-customer"))},className:"hover:tw-cursor-pointer hover:tw-bg-black hover:tw-text-white tw-ease-in tw-duration-300 tw-rounded-2xl tw-border tw-border-black tw-py-2 tw-bg-white tw-text-center tw-mb-3",children:(0,xc.jsxs)("button",{children:["View cart (",o,")"]})}),(0,xc.jsx)("div",{onClick:function(){i("/user-cart/".concat((null===a||void 0===a?void 0:a.displayName)||"new-customer")),setTimeout((function(){setTimeout((function(){window.scrollTo(0,window.innerHeight)}),500)}),500)},className:"hover:tw-cursor-pointer hover:tw-bg-white hover:tw-text-black tw-ease-in tw-duration-300 tw-rounded-2xl tw-bg-black tw-text-white tw-py-2 tw-text-center",children:(0,xc.jsx)("button",{children:"Check out"})}),(0,xc.jsx)("div",{onClick:function(){return n(null)},size:25,className:"tw-text-center tw-mt-5 tw-text-xs hover:tw-text-slate-300 tw-border-b tw-pb-1 hover:tw-cursor-pointer tw-ease-in tw-duration-300",children:(0,xc.jsx)("span",{children:"Continue shopping"})}),(0,xc.jsx)("div",{className:"tw-absolute tw-top-10 tw-right-5 hover:tw-cursor-pointer",children:(0,xc.jsx)(XU,{onClick:function(){return n(null)},size:25})})]})})};var eB=function(e){var t,n,i,a,o,s,u,l,h,f,d,p=e.allProducts,v=e.sales,m=c(r.useState(null),2),y=m[0],g=m[1],w=function(){window.scrollTo(0,0)},b=c(r.useState(!1),2),k=b[0],x=b[1],_=c(r.useState(null),2),E=_[0],C=_[1],T=c(r.useState(null),2),S=T[0],N=T[1],I=c(r.useState(null),2),A=I[0],P=I[1],R=c(r.useState(null),2),O=R[0],j=R[1],D=MU(vU),M=RU(),L=c(r.useState(Math.floor(5*Math.random()+1)),1)[0],F=Number(Math.random().toFixed(1)),U="frontal"===(null===y||void 0===y||null===(t=y[0])||void 0===t?void 0:t.type.toLowerCase())?["Natural black"]:["Natural black","Blonde613"],B=null===y||void 0===y?void 0:y[0].availablelength.split(", "),V=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(n=y[0])||void 0===n?void 0:n.name),z=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(i=y[0])||void 0===i?void 0:i._id),q=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(a=y[0])||void 0===a?void 0:a.image),K=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(o=y[0])||void 0===o?void 0:o.color),H=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(s=y[0])||void 0===s?void 0:s.description),W=(null===y||void 0===y?void 0:y[0])&&(null===y||void 0===y||null===(u=y[0])||void 0===u?void 0:u.widthlength),G={name:V,_id:z,image:q,hairColor:A||K,price:null===y||void 0===y||null===(l=y[0])||void 0===l?void 0:l.price,hairLength:S,description:H,width:W,hairTexture:O&&O},Y=[{key:"Hair Texture",value:""},{key:"Hair Color",value:""},{key:"Hair Length",value:"Available from ".concat(null===B||void 0===B?void 0:B[0],'" - ').concat(null===B||void 0===B?void 0:B[B.length-1],'" inches')}];return(0,xc.jsxs)("div",{className:"tw-pt-10 tw-relative tw-flex tw-flex-col tw-items-center ",children:[(0,xc.jsx)("div",{className:"tw-absolute md:tw-top-[-73px] tw-top-[15px] tw-right-0",children:(0,xc.jsx)(ZU,{singleCart:E,setSingleCart:C})}),p?(0,xc.jsx)("div",{className:"tw-flex tw-flex-wrap tw-gap-3 tw-items-center tw-justify-center tw-pb-10 tw-pt-0",children:p.map((function(e){return localStorage.setItem("isSales",e.sales),(0,xc.jsx)("div",{className:"tw-mb-2 md:tw-mb-0",children:(0,xc.jsx)(QU,{product:e,setSingleproducts:g,scrollToTop:w},e._id)},e._id)}))}):(0,xc.jsx)("div",{className:"tw-text-neutral-500",children:"Loading data..."}),y&&(0,xc.jsx)("div",{className:"single tw-absolute tw-z-30 tw-overflow-scroll tw-w-[100%] tw-shadow-lg tw-border-neutral-800 tw-h-[100vh] tw-right-0 tw-left-0 tw-top-[-97px] md:tw-top-[22px] md:tw-pt-20 tw-flex tw-flex-col tw-items-start tw-justify-center tw-bg-white",children:(0,xc.jsxs)("div",{className:"md:tw-w-[80%] xl:tw-w-[70%] md:tw-mx-auto tw-w-[100%] tw-h-full tw-flex md:tw-flex-row tw-flex-col",children:[(0,xc.jsx)("div",{className:"tw-w-[100%] md:tw-h-[500px] md:tw-w-[50%] tw-mx-auto md:tw-mr-10",children:(0,xc.jsx)($U,{images:null===y||void 0===y?void 0:y[0]})}),(0,xc.jsxs)("div",{className:"tw-w-[90%] md:tw-w-[50%] tw-mx-auto tw-text-neutral-900 tw-mt-10 md:tw-mt-0",children:[(0,xc.jsx)("p",{className:"tw-text-2xl tw-font-200 tw-tracking-tight tw-mb-[5px] tw-leading-6",children:null===y||void 0===y?void 0:y[0].name}),(0,xc.jsxs)("p",{className:"tw-font-medium tw-text-sm tw-mb-[1px] tw-mt-0",children:["Description: ",null===y||void 0===y?void 0:y[0].description]}),(0,xc.jsxs)("p",{className:"tw-font-medium tw-text-xl tw-my-[10px]",children:["Price:"," ",0!==v&&(null===y||void 0===y?void 0:y[0].sales)&&"$".concat((null===y||void 0===y?void 0:y[0].price)-(null===y||void 0===y?void 0:y[0].price)*(v/100)," ","\n\t\t\t\t\t\t\t\t\t\tUSD"," "),(0,xc.jsxs)("span",{className:0!==v&&(null===y||void 0===y?void 0:y[0].sales)&&"tw-ml-2 tw-line-through tw-text-neutral-400 tw-border-l-[1px] tw-border-neutral-500 tw-pl-3",children:["$",null===y||void 0===y?void 0:y[0].price," USD"]})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)("span",{className:"tw-mr-2",children:"Review: "}),Array(L).fill().map((function(e,t){return(0,xc.jsx)(cc,{className:"tw-text-red-800",size:20},t)})),(0,xc.jsx)("span",{className:"tw-ml-1",children:L+F})]}),(null===y||void 0===y||null===(h=y[0])||void 0===h?void 0:h.sales)&&(0,xc.jsxs)("p",{className:"tw-font-medium tw-text-sm tw-mb-[1px] tw-my-1 tw-text-red-600",children:["Sales: ",v&&"".concat(v,"%")," ",(0,xc.jsx)("span",{className:"tw-text-xs",children:"OFF"})]}),(0,xc.jsx)("div",{className:"tw-my-5 tw-border-t-[1px] tw-border-b-[1px] tw-border-red-700 tw-py-5",children:Y.map((function(e,t){return(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-mb-2 tw-text-sm",children:[(0,xc.jsxs)("span",{className:"tw-uppercase tw-text-xs tw-text-red-600 tw-font-bold",children:[e.key,":"," "]}),(0,xc.jsx)("span",{children:e.value})]})}))}),"frontal"===(null===y||void 0===y||null===(f=y[0])||void 0===f?void 0:f.type.toLowerCase())||"closure"===(null===y||void 0===y||null===(d=y[0])||void 0===d?void 0:d.type.toLowerCase())?(0,xc.jsxs)("div",{children:[(0,xc.jsx)("div",{className:"tw-flex tw-flex-col tw-mb-5 tw-border-b-[1px] tw-pb-5",children:(0,xc.jsx)("div",{className:"tw-flex tw-flex-wrap",children:U.map((function(e,t){return(0,xc.jsx)("span",{onClick:function(){P(e)},className:"tw-flex tw-flex-wrap tw-bg-neutral-200 tw-rounded-md tw-mr-2 tw-border-[1px] tw-border-neutral-100 tw-px-5 tw-py-1 tw-text-[14px] tw-text-neutral-900 hover:tw-cursor-pointer hover:tw-bg-neutral-300 tw-ease-in tw-duration-300",children:(0,xc.jsx)("span",{children:e})},t)}))})}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-col tw-mb-5 tw-border-b-[1px] tw-pb-5",children:(0,xc.jsx)("div",{className:"tw-flex tw-flex-wrap",children:["Straight","Bodywave","Curly","Wavy"].map((function(e,t){return(0,xc.jsx)("span",{onClick:function(){j(e)},className:"tw-flex tw-flex-wrap tw-bg-neutral-200 tw-rounded-md tw-mr-2 tw-border-[1px] tw-border-neutral-100 tw-px-5 tw-py-1 tw-text-[14px] tw-text-neutral-900 hover:tw-cursor-pointer hover:tw-bg-neutral-300 tw-ease-in tw-duration-300",children:(0,xc.jsx)("span",{children:e})},t)}))})}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-col tw-mb-5 tw-border-b-[1px] tw-pb-5",children:(0,xc.jsx)("div",{className:"tw-flex tw-flex-wrap",children:B.map((function(e,t){return(0,xc.jsxs)("span",{onClick:function(){N(e)},className:"tw-flex tw-flex-wrap tw-bg-neutral-200 tw-rounded-md tw-mr-2 tw-mb-2 tw-border-[1px] tw-border-neutral-100 tw-px-5 tw-py-1 tw-text-[16px] tw-text-neutral-900 hover:tw-cursor-pointer hover:tw-bg-neutral-300 tw-ease-in tw-duration-300",children:[e,"inch"]},t)}))})})]}):(0,xc.jsx)("div",{className:"tw-flex tw-flex-col tw-mb-5",children:(0,xc.jsx)("div",{className:"tw-flex tw-flex-wrap",children:B.map((function(e,t){return(0,xc.jsxs)("span",{onClick:function(){N(e),x(!1)},className:"tw-flex tw-flex-wrap tw-bg-neutral-200 tw-rounded-md tw-mr-2 tw-mb-2 tw-border-[1px] tw-border-neutral-100 tw-px-2 tw-text-[16px] tw-text-neutral-900 tw-p-5 hover:tw-cursor-pointer hover:tw-bg-neutral-300 tw-ease-in tw-duration-300",children:[e,"inch"]},t)}))})}),k&&(0,xc.jsx)("div",{children:(0,xc.jsxs)("p",{className:"tw-text-center tw-mb-2 tw-text-red-600 tw-text-xs",children:["Please provide length for ",null===y||void 0===y?void 0:y[0].name]})}),HU(G,D)?(0,xc.jsx)("div",{className:"tw-text-white tw-text-sm tw-font-light tw-max-w-[100%] tw-mx-auto tw-text-center tw-py-2 tw-border tw-border-neutral-300 tw-rounded-md tw-bg-neutral-800 hover:tw-cursor-pointer hover:tw-opacity-50 tw-ease-in tw-duration-300",onClick:0!==D.length?function(){M(hU(G))}:null,children:(0,xc.jsx)("span",{children:"Add more"})}):(0,xc.jsx)("div",{className:"tw-text-white tw-text-sm tw-font-light tw-max-w-[100%] tw-mx-auto tw-text-center tw-py-2 tw-border tw-border-neutral-300 tw-rounded-md tw-bg-neutral-800 hover:tw-cursor-pointer hover:tw-opacity-50 tw-ease-in tw-duration-300",onClick:function(){S?(M(lU(G)),setTimeout((function(){C(G)}),1e3)):x(!0)},children:(0,xc.jsx)("span",{children:"Add to cart"})}),(0,xc.jsx)("div",{onClick:function(){return g(null)},className:"tw-text-black tw-text-sm tw-font-normal tw-max-w-[100%] tw-mx-auto tw-text-center tw-py-2 tw-mt-5 tw-mb-20 tw-border tw-border-neutral-300 tw-rounded-md tw-bg-neutral-300 hover:tw-cursor-pointer hover:tw-opacity-50 tw-ease-in tw-duration-300  ",children:(0,xc.jsx)("span",{children:"Close"})})]})]})})]})},tB=n(6949);var nB=function(){var e=c(r.useState([]),2),t=e[0],n=e[1],i=c(r.useState(null),2),a=i[0],o=i[1],s="638 Wilson Ave, North York, ON M3K 1E1",u=Ws();function l(){return l=J(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:t=e.sent,r=t.data.products,setTimeout((function(){n(r.sort((function(e,t){return e.name.localeCompare(t.name)})))}),3e3),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),l.apply(this,arguments)}return r.useEffect((function(){Vs(Ds(u,"sales"),(function(e){var t=e.val();o(t.no)}))}),[]),r.useEffect((function(){!function(){l.apply(this,arguments)}()}),[]),(0,xc.jsxs)("div",{className:"tw-bg-neutral-200 relative",children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Home"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:"tw-relative",children:[(0,xc.jsx)("div",{className:"tw-flex tw-flex-col tw-items-center ".concat(0===t.length?"tw-mt-[70px]":"tw-pt-[40px]"," md:tw-py-[40px] lg:tw-w-[100%] xl:tw-w-[90%] 2xl:tw-w-[80%] lg:tw-mx-auto"),children:0!==t.length?(0,xc.jsx)(eB,{sales:a,allProducts:t}):(0,xc.jsx)("div",{className:"tw-rounded-full progress",children:(0,xc.jsx)("div",{className:"inner tw-bg-slate-900"})})}),(0,xc.jsxs)("div",{className:"tw-z-40 tw-h-[2700px] md:tw-h-[1550px] lg:tw-h-[1650px] 2xl:tw-h-[1200px] tw-mt-[-70px] tw-w-[100%] bg-blur3 tw-absolute tw-top-0 tw-bottom-0 z-10 tw-items-center tw-flex tw-flex-col",children:[(0,xc.jsx)("div",{className:"tw-w-[300px] tw-ml-5 tw-mt-[100px]",children:(0,xc.jsx)("img",{src:tB,alt:"company logo"})}),(0,xc.jsxs)("div",{className:"tw-relative tw-text-neutral-50 tw-text-[40px] md:tw-text-[50px] tw-flex tw-flex-col tw-items-center",children:[(0,xc.jsx)("span",{className:"-tw-mb-8",children:"UNDER"}),(0,xc.jsx)("span",{children:"CONSTRUCTION"}),(0,xc.jsx)(oL,{className:"tw-mb-5"})]}),(0,xc.jsx)("span",{className:"tw-font-light tw-ml-5 tw-text-center tw-text-white tw-tracking-[12px] md:tw-tracking-[20px] tw-text-[10px]",children:"SITE ALMOST READY"}),(0,xc.jsxs)("div",{className:"load-wrapper tw-mt-10 tw-top-[16%] md:tw-top-[30%] tw-left-[50%]",children:[(0,xc.jsx)("div",{className:"circle"}),(0,xc.jsx)("div",{className:"circle"}),(0,xc.jsx)("div",{className:"circle"})]}),(0,xc.jsxs)("a",{href:"".concat("https://www.google.com/maps/search/"+s),target:"_blank",rel:"noreferrer",className:"tw-flex-col tw-text-neutral-400 tw-text-xs tw-mt-[100px] tw-font-light tw-flex tw-items-center tw-justify-center tw-mb-7 hover:tw-text-neutral-600 tw-ease tw-duration-300 ",children:[(0,xc.jsx)(XM,{size:35,className:"tw-text-yellow-500 tw-mb-2"}),(0,xc.jsxs)("span",{className:"navStyleChild tw-pb-1",children:[(0,xc.jsx)("span",{className:"tw-text-green-500",children:"Currently"}),", we are in ",s]})]}),(0,xc.jsxs)("div",{className:"social-media-list tw-mt-[50px]",children:[(0,xc.jsx)("a",{href:"https://www.instagram.com/hairposey/",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(lc,{size:20})}),(0,xc.jsx)("a",{href:"https://www.tiktok.com/search?q=hairposey&t=1652981534762",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(dc,{size:20})})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-text-xs tw-text-neutral-500 tw-font-light tw-mt-[50px] tw-mb-[30px]",children:[(0,xc.jsx)("div",{className:"tw-pr-1 tw-border-r-2 tw-border-r-neutral-800 md:tw-flex",children:(0,xc.jsxs)("p",{className:"",children:["\xa9 ",(new Date).getUTCFullYear()," ",(0,xc.jsx)("span",{children:"hairposey"}),(0,xc.jsx)("span",{children:" \u2022 All right reserved"})]})}),(0,xc.jsx)("div",{className:"md:tw-flex tw-ml-1",children:(0,xc.jsxs)("p",{className:"tw-flex tw-items-center",children:["Designed by"," ",(0,xc.jsx)("span",{className:"rose-gold tw-ml-1",children:(0,xc.jsx)("a",{href:"https://www.linkedin.com/in/oluwatosin-isijola-33333ba8/",target:"_blank",rel:"noopener noreferrer",children:(0,xc.jsx)(yc,{size:15})})})]})})]})]})]})})]})};var rB=function(e){return(0,xc.jsx)("button",{onClick:e.handleFunc,type:e.type,className:"tw-bg-neutral-900 tw-text-xs tw-text-white tw-py-1.5 tw-px-6 tw-rounded-sm tw-font-light hover:tw-bg-gray-600 tw-ease-in tw-duration-300 tw-shadow-xl tw-shadow-neutral-900",children:e.children})},iB=function(){var e=U(),t=c((0,r.useState)({name:"",email:"",phone:"",password:"",error:null}),2),n=t[0],i=t[1],a=function(e){i(tc(tc({},n),{},ye({},e.target.name,e.target.value)))},o=function(){var t=J(ee().mark((function t(r){var a,o;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,RM.createUserWithEmailAndPassword(n.email,n.password);case 4:return a=t.sent,o=a.user,t.next=8,OM(o,{displayName:n.name,Phone:n.phone});case 8:e("/"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0),i(tc(tc({},n),{},{error:t.t0.message}));case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return(0,xc.jsxs)("div",{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Sign Up"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("section",{className:"tw-flex tw-flex-col tw-items-center tw-mt-[150px] lg:tw-mt-[100px]",children:[(0,xc.jsxs)("div",{className:"tw-text-center",children:[(0,xc.jsx)("h1",{className:"tw-text-2xl tw-font-bold",children:"Sign Up"}),(0,xc.jsxs)("p",{className:"tw-w-[55%] tw-mx-auto tw-my-10",children:["By creating account with us, you consent to receiving newsletters or promotions from"," ",(0,xc.jsx)($,{to:"/",children:(0,xc.jsx)("span",{className:"navStyleChild tw-text-yellow-800",children:"hairposey."})})]})]}),(0,xc.jsx)("article",{className:"tw-w-full",children:(0,xc.jsxs)("form",{onSubmit:o,children:[(0,xc.jsx)("div",{children:(0,xc.jsx)("input",{type:"text",name:"name",id:"name",value:n.name,onChange:a,placeholder:"Full Name",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-yellow-500 invalid:tw-text-yellow-600 focus:invalid:tw-border-yellow-500 focus:invalid:tw-ring-yellow-500 tw-outline-0 tw-mb-5"})}),(0,xc.jsx)("div",{children:(0,xc.jsx)("input",{type:"text",name:"email",id:"email",value:n.email,onChange:a,placeholder:"Email",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-yellow-500 invalid:tw-text-yellow-600 focus:invalid:tw-border-yellow-500 focus:invalid:tw-ring-yellow-500 tw-outline-0 tw-mb-5"})}),(0,xc.jsx)("div",{children:(0,xc.jsx)("input",{type:"password",name:"password",id:"password",value:n.password,onChange:a,placeholder:"Password",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-yellow-500 invalid:tw-text-yellow-600 focus:invalid:tw-border-yellow-500 focus:invalid:tw-ring-yellow-500 tw-outline-0 tw-mb-5"})}),(0,xc.jsx)("div",{children:(0,xc.jsx)("input",{type:"number",name:"phone",id:"number",value:n.phone,onChange:a,placeholder:"Phone-Number (optional)",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-yellow-500 invalid:tw-text-yellow-600 focus:invalid:tw-border-yellow-500 focus:invalid:tw-ring-yellow-500 tw-outline-0 tw-mb-5"})}),(0,xc.jsx)("div",{className:"tw-text-center tw-text-xs tw-text-red-800",children:n.error?(0,xc.jsxs)("p",{children:["Error message: ",n.error]}):null}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-row tw-my-10 tw-justify-center",children:(0,xc.jsx)(rB,{onClick:o,type:"submit",children:"Create Account"})})]})}),(0,xc.jsx)("div",{children:(0,xc.jsxs)("p",{className:"tw-text-neutral-500 tw-font-light",children:["Already have an account with us?"," ",(0,xc.jsx)($,{to:"/login",children:(0,xc.jsx)("button",{className:"tw-text-yellow-800 tw-mb-10 navStyleChild",children:"Login"})})," "]})}),(0,xc.jsx)("div",{children:(0,xc.jsxs)("p",{className:"tw-font-light tw-mb-10 tw-w-[70%] tw-mx-auto tw-text-center",children:["This site is protected by Google"," ",(0,xc.jsx)("a",{href:"https://policies.google.com/privacy",rel:"noopener noreferrer",children:(0,xc.jsx)("span",{className:"tw-text-yellow-800 tw-mb-10 tw-text-sm navStyleChild",children:"Privacy Policy"})})," ","and"," ",(0,xc.jsx)("a",{href:"https://policies.google.com/terms",rel:"noopener noreferrer",children:(0,xc.jsx)("span",{className:"tw-text-yellow-800 tw-mb-10 tw-text-sm navStyleChild",children:"Terms of Service"})})," ","apply"]})})]})})]})},aB=function(){var e=U(),t=c(r.useState(!1),2),n=t[0],i=t[1],a=c((0,r.useState)({email:"",password:"",error:null}),2),o=a[0],s=a[1],u=c((0,r.useState)(!1),2),l=u[0],h=u[1],f=function(e){s(tc(tc({},o),{},ye({},e.target.name,e.target.value)))},d=function(){var t=J(ee().mark((function t(n){return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,RM.signInWithEmailAndPassword(o.email,o.password);case 4:e("/"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0),s(tc(tc({},o),{},{error:t.t0.message}));case 11:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return(0,xc.jsxs)("div",{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Sign In"})}),(0,xc.jsx)(KU,{children:(0,xc.jsx)("main",{className:"",children:(0,xc.jsxs)("section",{className:"tw-flex tw-flex-col tw-items-center tw-mt-[150px] lg:tw-mt-[100px]",children:[(0,xc.jsx)("div",{className:"tw-text-center",children:(0,xc.jsx)("h1",{className:"tw-text-2xl tw-font-bold tw-mb-10",children:"Sign In"})}),(0,xc.jsx)("article",{className:"tw-w-full",children:(0,xc.jsxs)("form",{onSubmit:d,children:[(0,xc.jsx)("div",{children:(0,xc.jsx)("input",{type:"text",name:"email",id:"email",value:o.email,onChange:f,placeholder:"Email",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-neutral-500 invalid:tw-text-neutral-600 focus:invalid:tw-border-neutral-500 focus:invalid:tw-ring-neutral-500 tw-outline-0 tw-mb-5"})}),(0,xc.jsxs)("div",{className:"tw-relative tw-h-[38.4px] lg:tw-w-[30%] tw-w-[70%] tw-mx-auto tw-shadow-xl",children:[(0,xc.jsx)("input",{type:l?"text":"password",name:"password",id:"password",value:o.password,onChange:f,placeholder:"Password",className:"tw-mt-1 tw-block tw-w-full tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm  tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-neutral-500 invalid:tw-text-neutral-600 focus:invalid:tw-border-neutral-500 focus:invalid:tw-ring-neutral-500 tw-outline-0 tw-mb-5"}),(0,xc.jsx)("div",{className:"tw-text-neutral-500 tw-font-light tw-flex tw-flex-row tw-justify-center tw-items-center tw-absolute tw-top-0 tw-bg-neutral-900 tw-pr-2 tw-h-full tw-right-0 tw-w-[50px] tw-text-center tw-border tw-border-neutral-900",children:(0,xc.jsx)("input",{className:"tw-border-gray-300 tw-ml-2 tw-rounded-full",type:"checkbox",onClick:function(){h(!l)}})})]}),(0,xc.jsx)("div",{className:"tw-text-red-800 tw-text-xs tw-mt-5 tw-text-center",children:o.error?(0,xc.jsx)("p",{children:o.error}):null}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-row tw-my-10 tw-justify-center",children:(0,xc.jsx)(rB,{onClick:d,type:"submit",children:"Sign In"})})]})}),(0,xc.jsxs)("div",{className:"tw-text-neutral-700 tw-items-center tw-text-sm tw-flex tw-flex-col tw-font-light ",children:[(0,xc.jsxs)("span",{children:["Forgot Password? |"," ",(0,xc.jsx)("button",{onClick:function(){return o.email,void jc.auth().sendPasswordResetEmail(o.email).then((function(){try{i(!0)}catch(Dn){console.log("error message - ".concat(Dn.message))}}))},className:"tw-text-yellow-800 navStyleChild",children:"Reset"})]}),n&&(0,xc.jsx)("div",{className:" tw-text-blue-800 tw-mt-5",children:(0,xc.jsx)("span",{children:"A password reset link has been sent to this email - ".concat(o.email)})}),(0,xc.jsxs)("p",{className:"tw-mt-5 tw-mb-10",children:["Not a Member? |"," ",(0,xc.jsx)($,{to:"/register",children:(0,xc.jsx)("button",{className:"tw-text-yellow-800 navStyleChild",children:"Create Account"})})]})]})]})})})]})};var oB=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Error Page"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-[100px] tw-rounded-lg tw-w-[90%] md:tw-w-[60%] xl:tw-w-[40%] tw-p-10 tw-text-center tw-mx-auto tw-shadow-2xl tw-bg-neutral-200",children:[(0,xc.jsx)("h1",{className:"tw-text-3xl tw-font-bold tw-text-red-900",children:"404"}),(0,xc.jsx)("p",{className:"tw-text-neutral-600 tw-mt-2 tw-font-light",children:"The page you are about to access does not exist"}),(0,xc.jsxs)("div",{onMouseOver:function(){!t&&n(!0)},onMouseOut:function(){n(!1)},className:"tw-flex tw-flex-col tw-mt-6 tw-relative",children:[(0,xc.jsx)($,{to:"/",children:(0,xc.jsx)(rB,{children:(0,xc.jsx)(hc,{className:"tw-text-lg"})})}),(0,xc.jsx)(LM,{showText:t,children:"Back to Home"})]})]})})]})};var sB=function(e){var t=e.children;return(0,xc.jsx)("div",{className:"",children:(0,xc.jsx)("h1",{className:"tw-text-2xl tw-font-bold tw-capitalize tw-text-neutral-700",children:t})})},uB=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1];return r.useEffect((function(){n(localStorage.getItem("isSales"))}),[]),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:t?"tw-pt-[230px] tw-bg-neutral-200 lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center":"tw-pt-[150px] tw-bg-neutral-200 lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center",children:[(0,xc.jsx)(sB,{children:"payment failed"}),(0,xc.jsx)("div",{className:"tw-my-5",children:(0,xc.jsx)("span",{className:"tw-font-semibold tw-text-red-800",children:"Payment was not successful"})}),(0,xc.jsx)($,{className:"tw-mb-10",to:"/",children:(0,xc.jsx)(rB,{children:"Continue Shopping"})})]})})},cB={_origin:"https://api.emailjs.com"},lB=function(e,t,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},hB=me((function e(t){pe(this,e),this.status=t.status,this.text=t.responseText})),fB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,i){var a=new XMLHttpRequest;a.addEventListener("load",(function(e){var t=e.target,n=new hB(t);200===n.status||"OK"===n.text?r(n):i(n)})),a.addEventListener("error",(function(e){var t=e.target;i(new hB(t))})),a.open("POST",cB._origin+e,!0),Object.keys(n).forEach((function(e){a.setRequestHeader(e,n[e])})),a.send(t)}))},dB=function(e,t,n,r){var i=r||cB._userID;lB(i,e,t);var a={lib_version:"3.2.0",user_id:i,service_id:e,template_id:t,template_params:n};return fB("/api/v1.0/email/send",JSON.stringify(a),{"Content-type":"application/json"})};function pB(e){return sc({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}}]})(e)}var vB=function(e){var t=e.product,n=t.name,i=t.image,a=t.price,o=t.quantity,s=t.hairLength,u=t.hairColor,l=t.description,h=t.id,f=t.isCart,d=c(r.useState(!1),2),p=d[0],v=d[1],m=RU(),y={name:n,id:h,image:i,price:a,hairLength:s,hairColor:u,description:l};return(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-p-5 tw-w-full tw-bg-neutral-300 tw-rounded-lg tw-mb-1 tw-text-black",children:[(0,xc.jsx)("div",{className:"tw-mr-5",children:(0,xc.jsx)("img",{className:"tw-w-[300px] tw-rounded-lg tw-h-full tw-shadow-lg tw-object-cover",src:i,alt:n})}),(0,xc.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between tw-items-center tw-w-[100%] tw-pr-5",children:(0,xc.jsxs)("div",{className:"tw-font-light tw-text-sm",children:[(0,xc.jsx)("div",{className:"tw-font-bold",children:(0,xc.jsx)("h4",{children:n})}),(0,xc.jsx)("p",{children:"Price: $".concat(a)}),(0,xc.jsx)("p",{children:"Length: ".concat(s)}),u&&(0,xc.jsx)("p",{children:"Color: ".concat(u)}),(0,xc.jsx)("p",{children:"Quantity: ".concat(o)}),(0,xc.jsxs)("div",{className:"",children:[!p&&(null===l||void 0===l?void 0:l.length)>=100?(0,xc.jsxs)("span",{children:[l.substring(0,50),"..."]}):(0,xc.jsx)("span",{children:l}),(null===l||void 0===l?void 0:l.length)>=100&&(0,xc.jsx)("span",{onClick:function(){return v(!p)},className:"tw-cursor-pointer",children:p?(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-text-xs tw-font-bold",children:[(0,xc.jsx)("span",{children:"Read Less"})," ",(0,xc.jsx)(aL,{})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-text-xs tw-font-bold",children:[(0,xc.jsx)("span",{children:"Read More"})," ",(0,xc.jsx)(iL,{})]})})]}),f&&(0,xc.jsxs)("div",{className:"tw-bg-pink-900 tw-py-1 tw-px-2 tw-flex tw-flex-row tw-items-center tw-justify-between tw-w-[100px] tw-mt-5 tw-rounded-lg tw-text-white",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-tw-text-2xl hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300 tw-border-r-[1px] tw-border-neutral-300 tw-pr-5",onClick:function(){m(hU(y))},children:[(0,xc.jsx)(GM,{size:20}),(0,xc.jsx)("span",{className:"tw-text-[10px]",children:"Add"})]}),1===o&&(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-tw-text-2xl hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300",onClick:function(){m(dU(y))},children:[(0,xc.jsx)(YU,{size:22}),(0,xc.jsx)("span",{className:"tw-text-[10px]",children:"Delete"})]}),o>1&&(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-tw-text-2xl hover:tw-cursor-pointer hover:tw-text-neutral-900 tw-ease-in tw-duration-300",onClick:function(){m(fU(y))},children:[(0,xc.jsx)(VM,{size:20}),(0,xc.jsx)("span",{className:"tw-text-[10px]",children:"Remove"})]})]})]})})]})},mB=function(){var e=(0,r.useContext)(DM).user,t=U(),n=RU(),i=MU(vU),a=localStorage.getItem("address"),o=c(r.useState(!1),2),s=o[0],u=o[1],l=localStorage.getItem("payload"),h=(null===e||void 0===e?void 0:e.email)||localStorage.getItem("altEmail"),f=Ws();r.useEffect((function(){Vs(Ds(f,"sales"),(function(e){var t=e.val();u(t.no)}))}),[]);var d="hairposey".concat(Math.random().toString(36).slice(2)),p=[],v=0,m=[],y=0;i.map((function(e){p.push("".concat(e.quantity," ").concat(e.name," - ").concat(e.hairLength,"inches ..... $").concat(e.price)),v+=e.quantity,m.push("".concat(e._id,"-").concat(e.name)),y+=e.price*e.quantity})),r.useEffect((function(){var t=null===a||void 0===a?void 0:a.split(" "),n=t[(null===t||void 0===t?void 0:t.length)-1],r=Number((.13*y).toFixed(2)),o="canada"===n.toLowerCase()?9:20,s=Number((y+r+o).toFixed(2)),u={name:e&&(null===e||void 0===e?void 0:e.displayName)||h,id:m.join(", "),orderNo:d,date:(new Date).toDateString(),product:p.join(", "),price:y,quantity:v,discount:"00.00",subtotal:y,shipping:o,tax:r,total:s,address:a,client:h};setTimeout((function(){dB("service_czeioxp","template_doi2qb7",u,"user_VORMh20QoM0GcnDrVoVnj").then((function(e){})).catch((function(e){return console.log(e)}))}),1e3),h&&0!==i.length&&l&&i.map((function(t){PM.collection("purchased").doc("".concat(h,"/")).collection("shoppings").add({id:t._id,title:t.name,description:t.description,quantity:t.quantity,price:t.price,address:a,customer:e&&(null===e||void 0===e?void 0:e.displayName)||h,email:h,color:null===t||void 0===t?void 0:t.hairColor,length:null===t||void 0===t?void 0:t.hairLength,orderNo:d}).then((function(){console.log("SUCCESSFULL")})).catch((function(e){return console.log("Error "+e.message)})),PM.collection("admin").doc("".concat(Tc,"/")).collection("all-purchased").add({id:t._id,title:t.name,description:t.description,quantity:t.quantity,price:t.price,address:a,customer:e&&(null===e||void 0===e?void 0:e.displayName)||h,email:h,color:null===t||void 0===t?void 0:t.hairColor,length:null===t||void 0===t?void 0:t.hairLength,orderNo:d}).then((function(){console.log("SUCCESSFULL")})).catch((function(e){return console.log("Error "+e.message)}))}))}),[]);return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Success"})}),(0,xc.jsx)(KU,{children:l?(0,xc.jsxs)("div",{className:s?"tw-pt-[230px] tw-bg-neutral-200 lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center":"tw-pt-[150px] tw-bg-neutral-200 lg:tw-mt-[100px] tw-flex tw-flex-col tw-items-center",children:[(0,xc.jsx)("h1",{className:"tw-text-md tw-text-neutral-600 tw-uppercase tw-mb-1",children:e?"Hey ".concat(null===e||void 0===e?void 0:e.displayName):"Hey!"}),(0,xc.jsx)("h1",{className:"tw-text-xl tw-uppercase",children:"Thank you for your purchase"}),(0,xc.jsx)("div",{className:"tw-w-[100%] md:tw-w-[60%]",children:i.map((function(e){return(0,xc.jsx)(vB,{product:e,isCart:"false"},e.id)}))}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-mt-10 tw-text-neutral-600 tw-font-light tw-text-center",children:[(0,xc.jsx)("div",{className:"tw-bg-neutral-100 tw-p-2 tw-rounded-full tw-text-blue-500",children:(0,xc.jsx)(mc,{size:25})}),(0,xc.jsx)("span",{children:"We are currently processing your order and your confirmation email will arrive shortly"})]}),(0,xc.jsx)("div",{className:"tw-my-10",children:(0,xc.jsx)(rB,{handleFunc:function(){n(pU()),localStorage.removeItem("payload",""),localStorage.removeItem("address",""),localStorage.removeItem("altEmail",""),t("/")},children:"Continue Shopping"})})]}):(0,xc.jsxs)("div",{className:"tw-text-red-700 tw-flex tw-flex-col tw-items-center tw-justify-center tw-my-10 tw-uppercase tw-font-bold tw-mt-[250px] tw-mb-20",children:[(0,xc.jsx)(pB,{className:"tw-mr-5 tw-text-3xl tw-mb-5"}),(0,xc.jsx)("p",{className:"tw-text-red-700",children:"You do not have any transactions"})]})})]})};var yB=function(e){var t=e.handleSubmit,n=e.inputTypes,r=e.handleformDataChange,i=e.formData,a=e.isTrue,o=e.togglePassword,s=e.postError,u=e.buttonText,c=e.uploadFile;return(0,xc.jsx)("form",{onSubmit:t,children:(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[n.map((function(e){return(0,xc.jsx)("input",{type:e.type,name:e.name,id:e.id,value:e.value,onChange:r,placeholder:e.placeholder,className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"},e.id)})),(0,xc.jsx)("textarea",{value:i.description,name:"description",onChange:r,rows:10,cols:50,placeholder:"Description...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("div",{className:"tw-text-red-800 tw-text-sm ",children:(0,xc.jsx)("span",{children:"Rename Image and substitute space with a dash ( e.g abc-def )"})}),(0,xc.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-shadow-xl tw-pl-3 tw-py-2",children:[(0,xc.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Image"}),(0,xc.jsx)("input",{type:"file",onChange:c,className:"tw-block tw-w-full tw-text-sm tw-text-gray-500 file:tw-mr-4 file:tw-py-1 file:tw-px-4 file:tw-rounded file:tw-border-0 file:tw-text-sm file:tw-bg-gray-200 file:tw-text-violet-700 hover:file:tw-bg-violet-100 tw-ease-in tw-duration-300"})]}),(0,xc.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-mt-5 tw-shadow-xl tw-p-2",children:[(0,xc.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Sales"}),(0,xc.jsx)("input",{type:"checkbox",checked:a,className:a?"tw-ml-2 tw-rounded-full tw-bg-violet-400":"tw-ml-2 tw-rounded-full tw-bg-none tw-border-violet-200",onChange:o})]}),s&&(0,xc.jsx)("span",{className:"tw-text-xs tw-text-red-700 tw-mt-5",children:"Error: ".concat(s)}),(0,xc.jsx)("div",{className:"tw-my-10",children:(0,xc.jsx)(rB,{type:"submit",children:u})})]})})};var gB=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1],i=c(r.useState(""),2),a=i[0],o=i[1],s=c(r.useState({title:"",type:"",price:"",length:"",availablelength:"",description:""}),2),u=s[0],l=s[1],h=c(r.useState(""),2),f=h[0],d=h[1],p=function(){var e=J(ee().mark((function e(r){var i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,i={name:u.title,type:u.type,color:u.color,price:u.price,length:u.length,availablelength:u.availablelength,description:u.description,sales:t,image:f},e.next=5,ne().post("/api/v1/products",i);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),o(e.t0.message),console.log(e.t0);case 11:l({title:"",type:"",color:"",price:"",length:"",availablelength:"",description:""}),n(!1);case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=[{id:"1",name:"title",type:"text",value:u.title,placeholder:"Product Name..."},{id:"2",name:"type",type:"text",value:u.type,placeholder:"Product Type..."},{id:"3",name:"color",type:"text",value:u.color,placeholder:"Product Color..."},{id:"4",name:"availablecolor",type:"text",value:u.availablecolor,placeholder:"Available Color..."},{id:"5",name:"length",type:"number",value:u.length,placeholder:"Length..."},{id:"6",name:"availablelength",type:"text",value:u.availablelength,placeholder:"Available Lengths..."},{id:"7",name:"price",type:"number",value:u.price,placeholder:"Price CA($)..."}],m=function(){var e=J(ee().mark((function e(t){var n,r,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n),e.prev=3,e.next=6,ne().post("/api/v1/products/uploads",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:i=e.sent,a=i.data.image.src,d(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,xc.jsx)(yB,{handleSubmit:p,inputTypes:v,handleformDataChange:function(e){l(tc(tc({},u),{},ye({},e.target.name,e.target.value)))},formData:u,isTrue:t,togglePassword:function(){n(!t)},postError:a,buttonText:"Add to Inventory",uploadFile:m})};var wB=function(){var e,t,n,i,a,o,s,u,l=(0,r.useContext)(DM).user,h=c(r.useState(!1),2),f=h[0],d=h[1],p=c(r.useState(!1),2),v=p[0],m=p[1],y=c(r.useState(!1),2),g=y[0],w=y[1],b=c(r.useState(""),2),k=b[0],x=b[1],_=c(r.useState(""),2),E=_[0],C=_[1],T=c(r.useState(""),2),S=T[0],N=T[1],I=c(r.useState(!0),2),A=I[0],P=I[1],R=c(r.useState({shippingHeader:[],shippingData:[]}),2),O=R[0],j=R[1],D=c((0,r.useState)({number:"",courier:""}),2),M=D[0],L=D[1],F=[];null===O||void 0===O||null===(e=O.shippingData)||void 0===e||e.filter((function(e){var t={name:e.title,quantity:e.quantity,description:e.description,id:e.id};e.id===k&&F.push(t)}));var U={name:l.displayName,message:"Thank you for your patronage. Your order of ".concat(null===F||void 0===F||null===(t=F[0])||void 0===t?void 0:t.quantity," ").concat(null===F||void 0===F||null===(n=F[0])||void 0===n?void 0:n.name,", is being processed and your tracking information is: Tracking No - ").concat(M.number,", Courier - ").concat(M.courier,"."),client:null===l||void 0===l?void 0:l.email},B=function(e){L(tc(tc({},M),{},ye({},e.target.name,e.target.value)))},V=function(e){var t=[];if(e)for(var n=0;n<e.length;n++){var r;t.push(null===Object||void 0===Object?void 0:Object.keys((null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.data)||[]))}return t.map((function(e){return e.sort()})),t};r.useEffect((function(){l&&PM.collection("admin").doc("".concat(Tc,"/")).collection("all-purchased").orderBy("title","asc").onSnapshot((function(e){var t=e.docs.map((function(e){return{data:e.data()}}));if(t){var n,r=[],i=de(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.push({address:null===a||void 0===a?void 0:a.data.address,color:null===a||void 0===a?void 0:a.data.color,customer:null===a||void 0===a?void 0:a.data.customer,description:null===a||void 0===a?void 0:a.data.description,email:null===a||void 0===a?void 0:a.data.email,id:null===a||void 0===a?void 0:a.data.id,price:"$".concat(null===a||void 0===a?void 0:a.data.price),quantity:null===a||void 0===a?void 0:a.data.quantity,title:null===a||void 0===a?void 0:a.data.title})}}catch(o){i.e(o)}finally{i.f()}setTimeout((function(){j({shippingHeader:V(t),shippingData:r})}),5e3)}}))}),[l]),A&&setTimeout((function(){P(!1)}),5e3);var z=function(e){PM.collection("admin").doc("".concat(Tc,"/")).collection("all-purchased").onSnapshot((function(t){t.docs.map((function(t){return t.data().id===e&&PM.collection("admin").doc("".concat(Tc,"/")).collection("all-purchased").doc(t.id).delete()}))}));setTimeout((function(){dB("service_2yc5daa","template_kxtdmr3",U,"user_VORMh20QoM0GcnDrVoVnj").then((function(e){})).catch((function(e){return console.log(e)}))}),1e3),m(!1),w(!1)};return(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-5",children:[(0,xc.jsx)(sB,{children:"Shipment"}),(null===l||void 0===l?void 0:l.email)===Tc||Sc?(0,xc.jsxs)("div",{children:[v&&(0,xc.jsxs)("div",{className:"tw-mt-10 tw-w-full",children:[(0,xc.jsx)("input",{type:"text",name:"number",id:"number",value:M.number,onChange:B,placeholder:"Tracking Number",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-blue-600 focus:tw-ring-0 focus:tw-ring-blue-600 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"}),(0,xc.jsx)("input",{type:"text",name:"courier",id:"courier",value:M.courier,onChange:B,placeholder:"Courier Name",className:"tw-mt-1 tw-block lg:tw-w-[30%] tw-mx-auto tw-w-[70%] tw-px-3 tw-py-2 tw-border tw-border-neutral-100 tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-blue-600 focus:tw-ring-0 focus:tw-ring-blue-600 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5"}),(0,xc.jsx)("div",{className:""===M.number||""===M.courier?"tw-flex tw-flex-col tw-justify-center tw-text-sm tw-text-gray-200":"tw-flex tw-flex-col tw-justify-center tw-text-sm tw-text-green-700 hover:tw-text-gray-400",children:(0,xc.jsx)("button",{disabled:""===M.number||""===M.courier,onClick:function(){return z(k)},children:"Submit Tracking"})})]}),(0,xc.jsx)("main",{className:"history-page",children:0===(null===O||void 0===O||null===(i=O.shippingHeader)||void 0===i?void 0:i.length)&&0===(null===O||void 0===O||null===(a=O.shippingHeader)||void 0===a?void 0:a.length)?A?(0,xc.jsx)("div",{className:"tw-rounded-full progress",children:(0,xc.jsx)("div",{className:"inner"})}):(0,xc.jsx)("div",{className:"tw-inline",children:(0,xc.jsx)("span",{children:"Not Found"})}):(0,xc.jsx)(xc.Fragment,{children:(0,xc.jsx)("div",{className:"tw-max-w-[90%] tw-mr-[50px] md:tw-px-[50px] md:tw-max-w-[80%] lg:tw-max-w-[100%] md:tw-overflow-x-auto",children:(0,xc.jsxs)("table",{children:[(0,xc.jsx)("thead",{children:(0,xc.jsx)("tr",{className:"table-head-row",children:null===O||void 0===O||null===(o=O.shippingHeader)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.map((function(e,t){return(0,xc.jsxs)("th",{className:"table-head-item",children:[e," ","appointment"===e||"reservation"===e?" - date":""]},t)}))})}),(0,xc.jsx)("tbody",{children:null===O||void 0===O||null===(u=O.shippingData)||void 0===u?void 0:u.map((function(e,t){var n;return(0,xc.jsxs)("tr",{className:"table-item-row",children:[null===Object||void 0===Object||null===(n=Object.values(e))||void 0===n?void 0:n.map((function(t,n){return(0,xc.jsxs)("td",{className:(null===t||void 0===t?void 0:t.length)>=200?"table-items align-left":"table-items",onClick:function(){return function(e,t){N(t),C(e),w(!0)}(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.customer)},children:["string"===typeof t&&(null===t||void 0===t?void 0:t.length)>=200?f&&E===(null===e||void 0===e?void 0:e.id)?t:"".concat(t.substring(0,70),"..."):t,(null===t||void 0===t?void 0:t.length)>=200&&(0,xc.jsx)(xc.Fragment,{children:(0,xc.jsx)("span",{onClick:function(){return function(e){C(e),d(!f)}(null===e||void 0===e?void 0:e.id)},children:f&&E===(null===e||void 0===e?void 0:e.id)?(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)("span",{children:"Read Less"})," ",(0,xc.jsx)(aL,{})]}):(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)("span",{children:"Read More"})," ",(0,xc.jsx)(iL,{})]})})})]},n)})),g&&E===e.id&&S===(null===e||void 0===e?void 0:e.customer)&&(0,xc.jsxs)("div",{className:"been-shipped",children:[(0,xc.jsxs)("div",{className:"tw-mt-[30px] tw-text-xs ",children:["Has this product been shipped ? ",(0,xc.jsx)("br",{}),(0,xc.jsx)("span",{className:"been-shipped-textsm tw-text-green-700 tw-text-sm",children:"Click YES to add tracking number"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-justify-center",children:[(0,xc.jsxs)("button",{className:"tw-mx-2 tw-flex tw-flex-row tw-text-sm tw-items-center hover:tw-text-green-700",onClick:function(){x(e.id),m(!0),window.scrollTo(0,0)},children:[(0,xc.jsx)(WU,{className:"tw-mr-1"}),"Yes"]}),(0,xc.jsxs)("button",{className:"tw-mx-2 tw-flex tw-flex-row tw-text-sm tw-items-center hover:tw-text-red-800",onClick:function(){m(!1),w(!1)},children:[(0,xc.jsx)(eL,{size:20,className:"tw-mr-1"}),"No"]})]})]})]},t)}))})]})})})})]}):(0,xc.jsxs)("div",{className:"history-page",children:[(0,xc.jsx)("p",{className:"danger",children:"UNAUTHORIZED PATH!"}),(0,xc.jsx)(rB,{to:"/",className:"btn block total_btn",children:"Back to Home"})]})]})};var bB=function(e){var t=e.product,n=e.fetchProducts,r=e.setSingleProduct;function i(){return i=J(ee().mark((function e(){var r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t._id,e.prev=1,e.next=4,ne().delete("/api/v1/products/".concat(r));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:n();case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),i.apply(this,arguments)}function a(){return a=J(ee().mark((function e(){var n,i,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._id,e.prev=1,e.next=4,ne().get("/api/v1/products/".concat(n));case 4:i=e.sent,a=i.data.product,r({id:a._id,name:a.name,price:a.price,description:a.description,sales:a.sales,type:a.type,color:a.color,availablecolor:a.availablecolor,length:a.length,availablelength:a.availablelength}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),a.apply(this,arguments)}return(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-bg-neutral-100 tw-p-3",children:[(0,xc.jsx)("div",{className:"tw-mr-1 tw-w-[20%]",children:(0,xc.jsx)("img",{alt:"",loading:"lazy",src:t.image,className:"tw-w-[100px] tw-h-[100px] tw-object-cover tw-rounded tw-mr-5"})}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-w-[80%]",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-mr-5 tw-text-xs tw-font-light tw-w-[85%]",children:[(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Name: ".concat(t.name)}),(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Color: ".concat(t.color)}),(null===t||void 0===t?void 0:t.availablecolor)&&(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Available Color: ".concat(t.availablecolor)}),(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Price: CA$".concat(t.price)}),(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Length: ".concat(t.length,'"')}),t.availablelength&&(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Available Length: ".concat(t.availablelength,'"')}),(0,xc.jsx)("span",{className:"tw-w-[100%]",children:"Description: ".concat(t.description)}),(0,xc.jsx)("span",{className:"tw-text-red-800",children:t.sales&&"onsale"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-justify-between tw-w-[15%] tw-border-l tw-border-neutral-300 tw-pl-[10px] lg:tw-pl-2 xl:tw-pl-[2px]",children:[(0,xc.jsx)(QM,{onClick:function(){return i.apply(this,arguments)},size:30,className:"tw-p-[4px] tw-text-neutral-800 hover:tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-border-red-800 hover:tw-border hover:tw-rounded-full tw-ease-in tw-duration-300 tw-mb-3"}),(0,xc.jsx)(rL,{onClick:function(){return a.apply(this,arguments)},size:30,className:"tw-p-[4px] tw-text-neutral-800 hover:tw-text-neutral-300 hover:tw-cursor-pointer hover:tw-border-neutral-800 hover:tw-border hover:tw-rounded-full tw-ease-in tw-duration-300"})]})]})]})};var kB=function(){var e=c(r.useState([]),2),t=e[0],n=e[1],i=c(r.useState(),2),a=i[0],o=i[1],s=c(r.useState(""),2),u=s[0],l=s[1],h=c(r.useState(!1),2),f=h[0],d=h[1];function p(){return v.apply(this,arguments)}function v(){return(v=J(ee().mark((function e(){var t,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:t=e.sent,r=t.data.products,n(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(){return m=J(ee().mark((function e(t){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=null===a||void 0===a?void 0:a.id,e.prev=2,""!==(r={name:a.name,type:a.type,color:a.color,availablecolor:a.availablecolor,price:a.price,length:a.length,availablelength:a.availablelength,description:a.description,sales:f}).name&&""!==r.type&&""!==r.color&&null!==r.price&&null!==r.length&&""!==r.description){e.next=6;break}return e.abrupt("return",l("Missing Credentials"));case 6:return e.next=8,ne().patch("/api/v1/products/".concat(n),r);case 8:l(""),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),l(e.t0.message),console.log(e.t0);case 15:o(),p();case 17:case"end":return e.stop()}}),e,null,[[2,11]])}))),m.apply(this,arguments)}return r.useEffect((function(){p()}),[]),(0,xc.jsx)("div",{children:a?(0,xc.jsxs)("div",{className:"tw-w-[100%]",children:[(0,xc.jsx)("span",{className:" tw-text-xl tw-text-neutral-800 tw-flex tw-flex-col tw-items-center tw-mt-10",children:"Edit Product"}),(0,xc.jsx)("span",{className:"tw-text-neutral-500 tw-text-xs tw-flex tw-flex-col tw-items-center tw-mb-5 tw-mt-2",children:"ProductID: ".concat(a.id)}),(0,xc.jsx)("span",{className:"tw-flex tw-flex-col tw-items-center tw-mb-5 tw-mt-2 tw-capitalize tw-text-xs tw-text-red-800",children:"Please ensure to edit all field for better performance"}),(0,xc.jsx)("form",{onSubmit:function(e){return m.apply(this,arguments)},children:(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center",children:[(0,xc.jsx)("input",{type:"text",name:"title",id:"title",value:a.name,onChange:function(e){o({id:a.id,name:e.target.value,type:a.type,color:a.color,availablecolor:a.availablecolor,price:Number(a.price),length:Number(a.length),availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Product Name...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"text",name:"type",id:"type",value:a.type,onChange:function(e){o({id:a.id,name:a.name,type:e.target.value,color:a.color,availablecolor:a.availablecolor,price:Number(a.price),length:Number(a.length),availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Product Type...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"text",name:"color",id:"color",value:a.color,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:e.target.value,availablecolor:a.availablecolor,price:Number(a.price),length:Number(a.length),availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Product Color...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"text",name:"availablecolor",id:"availablecolor",value:a.availablecolor,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,availablecolor:e.target.value,price:Number(a.price),length:Number(a.length),availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Available Color...",className:"tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"number",name:"length",id:"length",value:a.length,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,availablecolor:a.availablecolor,price:Number(a.price),length:e.target.value,availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Length...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"text",name:"availablelength",id:"availablelength",value:a.availablelength,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,availablecolor:a.availablecolor,price:Number(a.price),length:Number(a.length),availablelength:e.target.value,description:a.description,sales:a.sales})},placeholder:"Available Lengths...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("input",{type:"number",name:"price",id:"price",value:a.price,onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,availablecolor:a.availablecolor,price:e.target.value,length:Number(a.length),availablelength:a.availablelength,description:a.description,sales:a.sales})},placeholder:"Price...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsx)("textarea",{value:a.description,name:"description",onChange:function(e){o({id:a.id,name:a.name,type:a.type,color:a.color,availablecolor:a.availablecolor,price:Number(a.price),length:Number(a.length),availablelength:a.availablelength,sales:a.sales,description:e.target.value})},rows:5,cols:50,placeholder:"Description...",className:"tw-rounded tw-mt-1 tw-block lg:tw-w-[50%] tw-mx-auto tw-w-[90%] tw-px-3 tw-py-2 tw-border-none tw-text-sm tw-shadow-xl tw-placeholder-gray-400 focus:tw-outline-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-5 placeholder:tw-font-light placeholder:tw-text-xs tw-text-gray-700 tw-font-light"}),(0,xc.jsxs)("div",{className:"tw-rounded tw-flex tw-flex-row tw-items-center tw-mt-5 tw-shadow-xl tw-p-2",children:[(0,xc.jsx)("label",{className:"tw-mr-3 tw-text-gray-500 tw-text-sm",children:"Sales"}),(0,xc.jsx)("input",{type:"checkbox",checked:f,className:f?"tw-ml-2 tw-rounded-full tw-bg-violet-400":"tw-ml-2 tw-rounded-full tw-bg-none tw-border-violet-200",onChange:function(){d(!f)}})]}),u&&(0,xc.jsx)("span",{className:"tw-text-xs tw-text-red-700 tw-mt-5",children:"Error: ".concat(u)}),(0,xc.jsx)("div",{className:"tw-my-10",children:(0,xc.jsx)(rB,{type:"submit",children:"Update Inventory"})})]})})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-w-[100%] xl:tw-w-[90%] 2xl:tw-w-[85%] tw-mx-auto tw-mt-5",children:[(0,xc.jsx)(sB,{children:"All Inventories"}),(0,xc.jsx)("div",{className:"tw-grid tw-grid-cols-1 tw-w-full md:tw-grid-cols-2 xl:tw-grid-cols-3 2xl:tw-grid-cols-4 tw-gap-5 tw-p-5 lg:tw-p-10",children:t.map((function(e){return(0,xc.jsx)(bB,{product:e,fetchProducts:p,setSingleProduct:o},e._id)}))})]})})};var xB=function(){var e=Ws(),t=c(r.useState(null),2),n=t[0],i=t[1],a=c(r.useState("all-inventory"),2),o=a[0],s=a[1],u=c(r.useState(null),2),l=u[0],h=u[1],f=(0,r.useContext)(DM).user;r.useEffect((function(){Vs(Ds(e,"sales"),(function(e){var t=e.val();i(t.no)}))}),[]);var d=function(e){s(e.target.id)},p=function(){return"all-inventory"===o?(0,xc.jsx)(kB,{}):"inventory"===o?(0,xc.jsx)(gB,{}):"shipping"===o?(0,xc.jsx)(wB,{}):void 0};return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Admin Portal"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:n?"tw-mt-[100px] lg:tw-mt-[100px] tw-pt-20 md:tw-pt-10 tw-flex tw-flex-col tw-w-[100vw] tw-items-center tw-bg-neutral-300":"tw-mt-[60px] tw-pt-20 md:tw-pt-10 tw-flex tw-flex-col tw-w-[100vw] tw-items-center tw-bg-neutral-300",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center tw-justify-between tw-w-[85%]",children:[(0,xc.jsx)(sB,{children:"Admin portal"}),(0,xc.jsxs)("div",{className:"tw-py-[2px] tw-flex tw-items-center tw-justify-end tw-w-[50%] md:tw-w-[30%] tw-rounded-full tw-px-3 tw-text-sm tw-bg-neutral-200",children:[(0,xc.jsx)("input",{type:"number",name:"percentSale",id:"number",value:l,onChange:function(e){return h(Number(e.target.value))},placeholder:"sales %",className:"tw-w-[90%] tw-h-[30px] tw-placeholder-gray-400 focus:tw-outline-none tw-border-none focus:tw-border-gray-200 focus:tw-ring-1 focus:tw-ring-gray-200 isabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-bg-transparent"}),(0,xc.jsx)(gc,{onClick:function(){null===l&&""===l||Ls(Ds(e,"sales"),{no:l}),h("")},size:20,className:"tw-text-violet-700 hover:tw-text-violet-300 tw-ease-in tw-duration-300 tw-w-[10%] tw-mr-2"})]})]}),(0,xc.jsx)("div",{className:"tw-my-5 tw-w-[100%] tw-text-violet-700",children:(0,xc.jsxs)("ul",{className:"tw-flex tw-text-xs tw-flex-row tw-items-center tw-justify-between tw-w-[90%] lg:tw-w-[50%] tw-mx-auto",children:[(0,xc.jsx)("li",{id:"all-inventory",className:"hover:tw-cursor-pointer tw-bg-violet-50 tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:d,children:"All Inventories"}),(0,xc.jsx)("li",{id:"inventory",className:"hover:tw-cursor-pointer tw-bg-violet-50 tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:d,children:"Add to Inventory"}),(0,xc.jsx)("li",{id:"shipping",className:"hover:tw-cursor-pointer tw-bg-violet-50  tw-px-4 tw-py-2 tw-rounded-full hover:tw-bg-violet-100 tw-ease-in tw-duration-300",onClick:d,children:"Shipment"})]})}),f&&(0,xc.jsx)("div",{className:"tw-w-[100%]",children:(0,xc.jsx)(p,{})}),!o&&(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-20 ",children:[(0,xc.jsx)("div",{className:"tw-text-2xl tw-text-stone-600",children:(0,xc.jsx)(UM,{})}),(0,xc.jsx)("span",{className:"tw-text-stone-600 tw-my-5 tw-capitalize tw-font-light",children:"Action Required!"})]})]})})]})};var _B=function(e){var t=e.product,n=e.setSingleproducts,i=e.setSingleCart,a=e.scrollToTop,o=c(r.useState(""),2),s=o[0],u=o[1],l=MU(vU),h=RU(),f=c(r.useState({length:"14",quantity:""}),2),d=f[0],p=f[1],v=t.availablelength.split(",");function m(){return m=J(ee().mark((function e(t){var r,i,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:r=e.sent,i=r.data.products,o=i.filter((function(e){return e._id===t.target.id})),n(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:a();case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),m.apply(this,arguments)}var y=Number(t.price-.15*t.price),g=t.price;"14"===d.length?g=t.price:"16"===d.length?g=t.price+10:"18"===d.length?g=t.price+20:"20"===d.length?g=t.price+30:"22"===d.length?g=t.price+40:"24"===d.length?g=t.price+50:"26"===d.length?g=t.price+60:"28"===d.length?g=t.price+70:"30"===d.length&&(g=t.price+80),"14"===d.length?y=t.price-.15*t.price:"16"===d.length?y+=10:"18"===d.length?y+=20:"20"===d.length?y+=30:"22"===d.length?y+=40:"24"===d.length?y+=50:"26"===d.length?y+=60:"28"===d.length?y+=70:"30"===d.length&&(y+=80);var w=t.name,b=t._id,k=t.image,x=t.color,_=t.description,E={name:w,id:b,image:k,hairColor:x,price:t.sales?y:g,hairLength:d.length,description:_};return(0,xc.jsxs)("div",{onMouseOver:function(e){u(e.target.id)},onMouseOut:function(){return u("")},className:"tw-w-[100%] tw-mx-auto tw-h-[300px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-sm",children:[(0,xc.jsx)("img",{onClick:function(e){return m.apply(this,arguments)},id:t._id,src:t.image,alt:t._id,className:" tw-w-[400px] tw-h-full tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),s===t._id&&(0,xc.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-sm tw-rounded-bl-sm tw-text-xs tw-p-2",children:(0,xc.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,xc.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-px-2 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-sm",children:[(0,xc.jsxs)("div",{className:"tw-pt-2 tw-flex tw-justify-between tw-w-full",children:[(0,xc.jsx)("p",{className:" tw-text-xs",children:t.name}),(0,xc.jsxs)("div",{className:"tw-pb-2 tw-text-xs",children:[t.sales&&(0,xc.jsxs)("span",{className:"tw-mr-2 tw-tracking-wider tw-font-semibold",children:["$",y.toFixed(2)]}),(0,xc.jsxs)("span",{className:t.sales?"tw-line-through tw-tracking-wider  tw-font-light":"tw-tracking-wider",children:["$",g.toFixed(2)]})]})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-items-center tw-mb-5 tw-justify-between",children:[(0,xc.jsx)("select",{className:"tw-flex-[0.2] tw-text-gray-500 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:function(e){p(tc(tc({},d),{},ye({},e.target.name,e.target.value)))},id:"length",value:d.length,name:"length",placeholder:"Length",children:v.map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))}),(0,xc.jsx)("div",{className:"tw-flex-[0.8] tw-text-xs tw-font-light tw-flex tw-flex-row tw-rounded-sm tw-bg-neutral-900 tw-px-1 tw-py-[5px] tw-items-center tw-justify-center tw-max-w-[110px] tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500",children:HU(E,l)?(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:0!==l.length?function(){h(hU(E)),setTimeout((function(){i(E)}),1e3)}:null,children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,xc.jsx)(BM,{})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:function(){h(lU(E)),setTimeout((function(){i(E)}),1e3)},children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,xc.jsx)(fc,{})]})})]})]})]})};var EB=function(){var e=MU(mU),t=(0,r.useContext)(DM).user,n=c(r.useState([]),2),i=n[0],a=n[1],o=c(r.useState(null),2),s=o[0],u=o[1],l=c(r.useState(null),2),h=l[0],f=l[1],d=c(r.useState(!1),2),p=d[0],v=d[1],m=c(r.useState(!1),2),y=m[0],g=m[1],w=U(),b=Ws();function k(){return k=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r=n.filter((function(e){return"natural black"===e.color.toLowerCase()})),a(r.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),k.apply(this,arguments)}r.useEffect((function(){Vs(Ds(b,"sales"),(function(e){var t=e.val();g(t.no)}))}),[]),r.useEffect((function(){setTimeout((function(){!function(){k.apply(this,arguments)}(),v(!0)}),3e3)}),[]);var x=function(){window.scrollTo(0,0)},_=null===s||void 0===s?void 0:s[0].availablelength.split(", ");return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Hair Bundles"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:y?"".concat(0!==i.length||p?"tw-pt-[170px]":"tw-pt-[230px]"," tw-pb-10 md:tw-pt-[150px] tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto"):"tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto",children:[h&&(0,xc.jsxs)("div",{className:"tw-absolute bg-blur2 tw-border tw-border-neutral-300 tw-p-10 tw-w-[350px] tw-top-[130px] md:tw-top-[95px] tw-z-10 tw-right-0 md:tw-right-[40px]",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)(JU,{}),(0,xc.jsx)("span",{className:"tw-text-xs tw-ml-2 tw-text-neutral-700",children:"Item added to your cart"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-mb-10 tw-mt-7",children:[(0,xc.jsx)("img",{id:h._id,src:h.image,alt:h._id,className:" tw-w-[80px] tw-h-[120px] tw-mr-3 tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-text-sm",children:[(0,xc.jsx)("span",{children:h.name}),(0,xc.jsxs)("span",{children:["Length - ",h.hairLength,'"']})]})]}),(0,xc.jsx)("div",{onClick:function(){return w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer"))},className:"tw-border tw-border-black tw-py-2 tw-bg-white tw-text-center tw-mb-3",children:(0,xc.jsxs)("button",{children:["View cart (",e,")"]})}),(0,xc.jsx)("div",{onClick:function(){w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer")),setTimeout((function(){setTimeout((function(){window.scrollTo(0,window.innerHeight)}),500)}),500)},className:"tw-bg-black tw-text-white tw-py-2 tw-text-center",children:(0,xc.jsx)("button",{children:"Check out"})}),(0,xc.jsx)("div",{onClick:function(){return f(null)},size:25,className:"tw-text-center tw-mt-2 tw-border-b tw-pb-1 hover:tw-cursor-pointer",children:(0,xc.jsx)("span",{children:"Continue shopping"})}),(0,xc.jsx)("div",{className:"tw-absolute tw-top-10 tw-right-5 hover:tw-cursor-pointer",children:(0,xc.jsx)(XU,{onClick:function(){return f(null)},size:25})})]}),p&&i&&(0,xc.jsx)("div",{className:"tw-grid tw-grid-cols-2 tw-w-full tw-px-2 md:tw-grid-cols-3 lg:tw-grid-cols-4 xl:tw-grid-cols-5 xl:tw-w-[85%] 2xl:tw-w-[70%] tw-gap-2 md:tw-gap-5",children:i.map((function(e){return(0,xc.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,xc.jsx)(_B,{product:e,setSingleproducts:u,setSingleCart:f,scrollToTop:x},e._id)},e._id)}))}),!p&&(0,xc.jsx)("div",{className:"tw-rounded-full progress",children:(0,xc.jsx)("div",{className:"inner"})}),s&&(0,xc.jsx)("div",{className:"tw-absolute tw-z-30 tw-h-[100vh] tw-w-[100%] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-start tw-justify-center bg-blur3",children:(0,xc.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,xc.jsx)("img",{id:null===s||void 0===s?void 0:s[0]._id,src:null===s||void 0===s?void 0:s[0].image,alt:null===s||void 0===s?void 0:s[0]._id,className:"tw-w-[90%] tw-mt-20 tw-mx-auto tw-h-full tw-object-cover tw-mb-1"}),(0,xc.jsxs)("div",{className:"tw-max-w-[90%] tw-mx-auto",children:[(0,xc.jsx)("p",{className:"tw-text-xs tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===s||void 0===s?void 0:s[0].name}),(0,xc.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===s||void 0===s?void 0:s[0].description}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col",children:[(0,xc.jsx)("p",{className:"tw-font-medium tw-text-white tw-text-xs tw-mt-2 tw-mr-2",children:"Length"}),(0,xc.jsx)("div",{children:_.map((function(e,t){return(0,xc.jsx)("span",{className:"bg-blur tw-text-slate-900 tw-rounded-full tw-mr-2 tw-border-[1px] tw-border-neutral-600 tw-px-2 tw-text-xs",children:e},t)}))})]})]}),(0,xc.jsx)(XU,{onClick:function(){return u(null)},className:"tw-absolute tw-top-[100px] tw-right-10 tw-w-10 tw-h-10 tw-p-3 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})};var CB=function(e){var t,n,i=e.product,a=e.setSingleproducts,o=e.setSingleCart,s=e.scrollToTop,u=c(r.useState(""),2),l=u[0],h=u[1],f=MU(vU),d=RU(),p=c(r.useState({widthlength:"frontal"===i.type.toLowerCase()?"13x4":"5x4",length:"14",color:"Natural black",hairType:"Straight"}),2),v=p[0],m=p[1],y=i.availablelength.split(","),g=null===i||void 0===i||null===(t=i.availablecolor)||void 0===t?void 0:t.split(", "),w=null===i||void 0===i||null===(n=i.widthlength)||void 0===n?void 0:n.split(", "),b=function(e){m(tc(tc({},v),{},ye({},e.target.name,e.target.value)))};function k(){return k=J(ee().mark((function e(t){var n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:n=e.sent,r=n.data.products,i=r.filter((function(e){return e._id===t.target.id})),a(i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:s();case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),k.apply(this,arguments)}var x=i.price,_=Number(i.price-.15*i.price);"14"===v.length?x=i.price:"16"===v.length?x=i.price+10:"18"===v.length?x=i.price+20:"20"===v.length?x=i.price+30:"22"===v.length&&(x=i.price+40),"14"===v.length?_=i.price-.15*i.price:"16"===v.length?_+=10:"18"===v.length?_+=20:"20"===v.length?_+=30:"22"===v.length&&(_+=40);var E=i.price,C=Number(i.price-.15*i.price);"14"===v.length?E=i.price:"16"===v.length?E=i.price+10:"18"===v.length?E=i.price+20:"20"===v.length?E=i.price+30:"22"===v.length&&(E=i.price+40),"14"===v.length?C=i.price-.15*i.price:"16"===v.length?C+=10:"18"===v.length?C+=20:"20"===v.length?C+=30:"22"===v.length&&(C+=40);var T=i.name,S=i._id,N=i.image,I=i.description,A={name:T,id:S,image:N,price:"frontal"===i.type.toLowerCase()?v.color.includes("Blonde613")?i.sales?(E+=10,C+=10):E+=10:i.sales&&(v.hairType.includes("Bodywave")||v.hairType.includes("Wavy")||v.hairType.includes("Curly"))?(E+=5,C+=5):E:v.color.includes("Natural black")&&(v.hairType.includes("Bodywave")||v.hairType.includes("Wavy")||v.hairType.includes("Curly"))?(x+=5,i.sales&&(_+=5)):v.color.includes("Natural black")&&v.hairType.includes("Straight")?i.sales&&_:v.color.includes("Blonde613")&&(v.hairType.includes("Bodywave")||v.hairType.includes("Wavy"))?i.sales&&(x+=15,_+=15):(x+=10,_+=10),hairLength:v.length,hairColor:v.color,description:I};return(0,xc.jsxs)("div",{onMouseOver:function(e){h(e.target.id)},onMouseOut:function(){return h("")},className:"tw-w-[100%] tw-h-[300px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-sm",children:[(0,xc.jsx)("img",{onClick:function(e){return k.apply(this,arguments)},id:i._id,src:i.image,alt:i._id,className:" tw-w-full tw-h-full tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),l===i._id&&(0,xc.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-lg tw-rounded-bl-lg tw-text-xs tw-p-2",children:(0,xc.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,xc.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-px-2 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-lg",children:[(0,xc.jsxs)("div",{className:"tw-pt-2 tw-flex tw-items-center tw-justify-between tw-w-full",children:[(0,xc.jsx)("p",{className:"tw-text-sm",children:i.name}),(0,xc.jsxs)("div",{className:"tw-text-xs",children:[i.sales&&(0,xc.jsxs)("span",{className:"tw-mr-2 tw-tracking-wider tw-font-semibold",children:["$","frontal"===i.type.toLowerCase()?C.toFixed(2):_.toFixed(2)]}),(0,xc.jsxs)("span",{className:i.sales?"tw-line-through tw-tracking-wider  tw-font-light":"tw-tracking-wider",children:["$","frontal"===i.type.toLowerCase()?E.toFixed(2):x.toFixed(2)]})]})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-w-full",children:[(0,xc.jsx)("select",{className:"tw-flex-[0.5] tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-mr-2 tw-px-1 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:b,id:"length",value:v.length,name:"length",children:y.map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))}),(0,xc.jsx)("select",{className:"tw-flex-[0.5] tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-px-1 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:b,id:"widthlength",value:v.widthlength,name:"widthlength",children:w.map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-items-center tw-justify-between tw-w-full",children:[(0,xc.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-mr-2 tw-block tw-w-full tw-px-1 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:b,id:"color",value:v.color,name:"color",children:g.map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))}),(0,xc.jsx)("select",{className:"tw-text-gray-500 tw-mt-1 tw-block tw-w-full tw-px-1 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0 tw-mb-3",onChange:b,id:"hairType",value:v.hairType,name:"hairType",children:["Straight","Bodywave","Wavy","Curly"].map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))})]}),(0,xc.jsx)("div",{className:"tw-text-xs tw-font-light tw-flex tw-flex-row tw-rounded-sm tw-bg-neutral-900 tw-px-3 tw-py-[5px] tw-items-center tw-justify-center tw-max-w-[100%] tw-mx-auto tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500 tw-mb-5",children:HU(A,f)?(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:0!==f.length?function(){d(hU(A)),setTimeout((function(){o(A)}),1e3)}:null,children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,xc.jsx)(BM,{})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:function(){d(lU(A)),setTimeout((function(){o(A)}),1e3)},children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,xc.jsx)(fc,{})]})})]})]})};var TB=function(){var e=MU(mU),t=(0,r.useContext)(DM).user,n=c(r.useState(null),2),i=n[0],a=n[1],o=c(r.useState([]),2),s=o[0],u=o[1],l=c(r.useState(!1),2),h=l[0],f=l[1],d=c(r.useState(!1),2),p=d[0],v=d[1],m=c(r.useState(null),2),y=m[0],g=m[1],w=U();function b(){return b=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r=n.filter((function(e){return"closure"===e.type.toLowerCase()||"frontal"===e.type.toLowerCase()})),u(r.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),b.apply(this,arguments)}r.useEffect((function(){v(localStorage.getItem("isSales"))}),[]),r.useEffect((function(){setTimeout((function(){!function(){b.apply(this,arguments)}(),f(!0)}),3e3)}),[]);var k=function(){window.scrollTo(0,0)},x=null===i||void 0===i?void 0:i[0].availablelength.split(", ");return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Closure & Frontal"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:p?"".concat(0!==s.length||h?"tw-pt-[170px]":"tw-pt-[230px]"," tw-pb-10 md:tw-pt-[150px] tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto"):"tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto",children:[y&&(0,xc.jsxs)("div",{className:"tw-absolute bg-blur2 tw-border tw-border-neutral-300 tw-p-10 tw-w-[350px] tw-top-[130px] md:tw-top-[95px] tw-z-10 tw-right-0 md:tw-right-[40px]",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)(JU,{}),(0,xc.jsx)("span",{className:"tw-text-xs tw-ml-2 tw-text-neutral-700",children:"Item added to your cart"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-mb-10 tw-mt-7",children:[(0,xc.jsx)("img",{id:y._id,src:y.image,alt:y._id,className:" tw-w-[80px] tw-h-[120px] tw-mr-3 tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-text-sm",children:[(0,xc.jsx)("span",{children:y.name}),(0,xc.jsxs)("span",{children:["Length - ",y.hairLength,'"']})]})]}),(0,xc.jsx)("div",{onClick:function(){return w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer"))},className:"tw-border tw-border-black tw-py-2 tw-bg-white tw-text-center tw-mb-3",children:(0,xc.jsxs)("button",{children:["View cart (",e,")"]})}),(0,xc.jsx)("div",{onClick:function(){w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer")),setTimeout((function(){setTimeout((function(){window.scrollTo(0,window.innerHeight)}),500)}),500)},className:"tw-bg-black tw-text-white tw-py-2 tw-text-center",children:(0,xc.jsx)("button",{children:"Check out"})}),(0,xc.jsx)("div",{onClick:function(){return g(null)},size:25,className:"tw-text-center tw-mt-2 tw-border-b tw-pb-1 hover:tw-cursor-pointer",children:(0,xc.jsx)("span",{children:"Continue shopping"})}),(0,xc.jsx)("div",{className:"tw-absolute tw-top-10 tw-right-5 hover:tw-cursor-pointer",children:(0,xc.jsx)(XU,{onClick:function(){return g(null)},size:25})})]}),h&&s&&(0,xc.jsx)("div",{className:"tw-grid tw-grid-cols-2 tw-w-full tw-px-2 md:tw-grid-cols-3 lg:tw-grid-cols-4 xl:tw-grid-cols-5 xl:tw-w-[85%] 2xl:tw-w-[70%] tw-gap-2 md:tw-gap-5",children:s.map((function(e){return(0,xc.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,xc.jsx)(CB,{product:e,setSingleproducts:a,setSingleCart:g,scrollToTop:k},e._id)},e._id)}))}),!h&&(0,xc.jsx)("div",{className:"tw-rounded-full progress",children:(0,xc.jsx)("div",{className:"inner"})}),i&&(0,xc.jsx)("div",{className:"tw-absolute tw-z-30 tw-h-[100vh] tw-w-[100%] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-start tw-justify-center bg-blur3",children:(0,xc.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,xc.jsx)("img",{id:null===i||void 0===i?void 0:i[0]._id,src:null===i||void 0===i?void 0:i[0].image,alt:null===i||void 0===i?void 0:i[0]._id,className:"tw-w-[90%] tw-mt-20 tw-mx-auto md:tw-w-[100%] tw-h-full tw-object-cover tw-mb-1"}),(0,xc.jsxs)("div",{className:"tw-max-w-[90%] tw-mx-auto",children:[(0,xc.jsx)("p",{className:"tw-text-xs tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===i||void 0===i?void 0:i[0].name}),(0,xc.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===i||void 0===i?void 0:i[0].description}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col",children:[(0,xc.jsx)("p",{className:"tw-font-medium tw-text-white tw-text-xs tw-mt-2 tw-mr-2",children:"Length"}),(0,xc.jsx)("div",{children:x.map((function(e,t){return(0,xc.jsx)("span",{className:"bg-blur tw-text-slate-900 tw-rounded-full tw-mr-2 tw-border-[1px] tw-border-neutral-600 tw-px-2 tw-text-xs",children:e},t)}))})]})]}),(0,xc.jsx)(XU,{onClick:function(){return a(null)},className:"tw-absolute tw-top-[100px] tw-right-10 tw-w-10 tw-h-10 tw-p-3 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})};var SB=function(e){var t=e.product,n=e.setSingleproducts,i=e.setSingleCart,a=e.scrollToTop,o=c(r.useState(""),2),s=o[0],u=o[1],l=MU(vU),h=RU(),f=c(r.useState({length:"",quantity:""}),2),d=f[0],p=f[1],v=t.availablelength.split(",");function m(){return m=J(ee().mark((function e(t){var r,i,o;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:r=e.sent,i=r.data.products,o=i.filter((function(e){return e._id===t.target.id})),n(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:a();case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),m.apply(this,arguments)}var y=Number(t.price-.15*t.price),g=t.price;"14"===d.length?g=t.price:"16"===d.length?g=t.price+10:"18"===d.length?g=t.price+20:"20"===d.length?g=t.price+30:"22"===d.length?g=t.price+40:"24"===d.length?g=t.price+50:"26"===d.length?g=t.price+60:"28"===d.length?g=t.price+70:"30"===d.length&&(g=t.price+80),"14"===d.length?y=t.price-.15*t.price:"16"===d.length?y+=10:"18"===d.length?y+=20:"20"===d.length?y+=30:"22"===d.length?y+=40:"24"===d.length?y+=50:"26"===d.length?y+=60:"28"===d.length?y+=70:"30"===d.length&&(y+=80);var w=Number(t.price-.15*t.price),b=t.price;"14"===d.length?b=t.price:"16"===d.length?b=t.price+10:"18"===d.length?b=t.price+20:"20"===d.length?b=t.price+30:"22"===d.length?b=t.price+40:"24"===d.length?b=t.price+50:"26"===d.length?b=t.price+60:"28"===d.length?b=t.price+70:"30"===d.length&&(b=t.price+80),"14"===d.length?w=t.price-.15*t.price:"16"===d.length?w+=10:"18"===d.length?w+=20:"20"===d.length?w+=30:"22"===d.length?w+=40:"24"===d.length?w+=50:"26"===d.length?w+=60:"28"===d.length?w+=70:"30"===d.length&&(w+=80);var k=t.name,x=t._id,_=t.image,E=t.color,C=t.description,T={name:k,id:x,image:_,hairColor:E,price:"blonde613"===t.color?t.sales?w:b:t.sales?y:g,hairLength:d.length,description:C};return(0,xc.jsxs)("div",{onMouseOver:function(e){u(e.target.id)},onMouseOut:function(){return u("")},className:"tw-w-[100%] tw-h-[300px] tw-mb-2 md:tw-mx-1 md:tw-w-[300px] tw-shadow-lg tw-relative tw-rounded-sm",children:[(0,xc.jsx)("img",{onClick:function(e){return m.apply(this,arguments)},id:t._id,src:t.image,alt:t._id,className:" tw-w-[400px] tw-h-full tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),s===t._id&&(0,xc.jsx)("div",{className:"tw-absolute tw-top-0 tw-right-0 tw-bg-neutral-300 tw-rounded-tr-sm tw-rounded-bl-sm tw-text-xs tw-p-2",children:(0,xc.jsx)("span",{className:"tw-bg-clip-text tw-text-transparent tw-bg-gradient-to-r tw-from-pink-500 tw-to-violet-500",children:"View Image"})}),(0,xc.jsxs)("div",{className:"bg-blur tw-text-neutral-800 tw-px-2 tw-w-full tw-absolute tw-z-5 tw-bottom-0 tw-rounded-b-sm",children:[(0,xc.jsx)("div",{className:"tw-flex tw-flex-row tw-justify-between",children:(0,xc.jsxs)("div",{className:"tw-pt-2 tw-flex tw-justify-between tw-w-full tw-text-xs",children:[(0,xc.jsx)("p",{className:"",children:t.name}),(0,xc.jsxs)("div",{className:"tw-pb-2",children:[t.sales&&(0,xc.jsxs)("span",{className:"tw-mr-1 tw-tracking-wider tw-font-semibold",children:["$","blonde613"===t.color?w.toFixed(2):y.toFixed(2)]}),(0,xc.jsxs)("span",{className:t.sales?"tw-line-through tw-tracking-wider tw-font-light":"tw-tracking-wider",children:["$","blonde613"===t.color?b.toFixed(2):g.toFixed(2)]})]})]})}),(0,xc.jsxs)("div",{className:"tw-flex tw-items-center tw-mb-5 tw-justify-between",children:[(0,xc.jsx)("select",{className:"tw-flex-[0.2] tw-text-gray-500 tw-block tw-w-full tw-mr-5 tw-px-3 tw-py-1 tw-border tw-border-gray-100 tw-rounded-sm tw-text-xs tw-shadow-sm tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-noneinvalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:function(e){p(tc(tc({},d),{},ye({},e.target.name,e.target.value)))},id:"length",value:d.length,name:"length",children:v.map((function(e,t){return(0,xc.jsx)("option",{children:e},t)}))}),(0,xc.jsx)("div",{className:"tw-flex-[0.8] tw-text-xs tw-font-light tw-flex tw-flex-row tw-rounded-sm tw-bg-neutral-900 tw-px-1 tw-py-[5px] tw-items-center tw-justify-center tw-max-w-[110px] tw-text-neutral-50 hover:tw-cursor-pointer hover:tw-text-neutral-400 tw-ease-in tw-duration-500",children:HU(T,l)?(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:0!==l.length?function(){h(hU(T)),setTimeout((function(){i(T)}),1e3)}:null,children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add More"}),(0,xc.jsx)(BM,{})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-items-center",onClick:function(){h(lU(T)),setTimeout((function(){i(T)}),1e3)},children:[(0,xc.jsx)("span",{className:"tw-mr-3",children:"Add to cart"}),(0,xc.jsx)(fc,{})]})})]})]})]})};var NB=function(){var e=MU(mU),t=(0,r.useContext)(DM).user,n=c(r.useState(null),2),i=n[0],a=n[1],o=c(r.useState([]),2),s=o[0],u=o[1],l=c(r.useState(!1),2),h=l[0],f=l[1],d=c(r.useState(!1),2),p=d[0],v=d[1],m=c(r.useState(null),2),y=m[0],g=m[1],w=U();function b(){return b=J(ee().mark((function e(){var t,n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().get("/api/v1/products");case 3:t=e.sent,n=t.data.products,r=n.filter((function(e){return"jet black"===e.color.toLowerCase()||e.color.toLowerCase().includes("blonde613")})),u(r.sort((function(e,t){return e.name.localeCompare(t.name)}))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),b.apply(this,arguments)}r.useEffect((function(){v(localStorage.getItem("isSales"))}),[]),r.useEffect((function(){setTimeout((function(){!function(){b.apply(this,arguments)}(),f(!0)}),2e3)}),[]);var k=function(){window.scrollTo(0,0)},x=null===i||void 0===i?void 0:i[0].availablelength.split(", ");return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Jet Black & Blonde Hair"})}),(0,xc.jsx)(KU,{children:(0,xc.jsxs)("div",{className:p?"".concat(0!==s.length||h?"tw-pt-[170px]":"tw-pt-[230px]"," tw-pb-10 md:tw-pt-[150px] tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto"):"tw-pb-10 md:tw-pt-24 tw-pt-32 tw-h-full tw-relative tw-bg-neutral-200 tw-flex tw-flex-col tw-items-center tw-mx-auto",children:[y&&(0,xc.jsxs)("div",{className:"tw-absolute bg-blur2 tw-border tw-border-neutral-300 tw-p-10 tw-w-[350px] tw-top-[130px] md:tw-top-[95px] tw-z-10 tw-right-0 md:tw-right-[40px]",children:[(0,xc.jsxs)("div",{className:"tw-flex tw-items-center",children:[(0,xc.jsx)(JU,{}),(0,xc.jsx)("span",{className:"tw-text-xs tw-ml-2 tw-text-neutral-700",children:"Item added to your cart"})]}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-row tw-mb-10 tw-mt-7",children:[(0,xc.jsx)("img",{id:y._id,src:y.image,alt:y._id,className:" tw-w-[80px] tw-h-[120px] tw-mr-3 tw-object-cover tw-rounded-sm hover:tw-cursor-pointer"}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-text-sm",children:[(0,xc.jsx)("span",{children:y.name}),(0,xc.jsxs)("span",{children:["Length - ",y.hairLength,'"']})]})]}),(0,xc.jsx)("div",{onClick:function(){return w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer"))},className:"tw-border tw-border-black tw-py-2 tw-bg-white tw-text-center tw-mb-3",children:(0,xc.jsxs)("button",{children:["View cart (",e,")"]})}),(0,xc.jsx)("div",{onClick:function(){w("/user-cart/".concat((null===t||void 0===t?void 0:t.displayName)||"new-customer")),setTimeout((function(){setTimeout((function(){window.scrollTo(0,window.innerHeight)}),500)}),500)},className:"tw-bg-black tw-text-white tw-py-2 tw-text-center",children:(0,xc.jsx)("button",{children:"Check out"})}),(0,xc.jsx)("div",{onClick:function(){return g(null)},size:25,className:"tw-text-center tw-mt-2 tw-border-neutral-300 tw-border-b tw-pb-1 hover:tw-cursor-pointer",children:(0,xc.jsx)("span",{children:"Continue shopping"})}),(0,xc.jsx)("div",{className:"tw-absolute tw-top-10 tw-right-5 hover:tw-cursor-pointer",children:(0,xc.jsx)(XU,{onClick:function(){return g(null)},size:25})})]}),h&&s&&(0,xc.jsx)("div",{className:"tw-grid tw-grid-cols-2 tw-w-full tw-px-2 md:tw-grid-cols-3 lg:tw-grid-cols-4 xl:tw-grid-cols-5 xl:tw-w-[85%] 2xl:tw-w-[70%] tw-gap-2 md:tw-gap-5",children:s.map((function(e){return(0,xc.jsx)("div",{className:"tw-justify-center tw-items-center tw-flex tw-flex-row",children:(0,xc.jsx)(SB,{product:e,setSingleproducts:a,setSingleCart:g,scrollToTop:k},e._id)},e._id)}))}),!h&&(0,xc.jsx)("div",{className:"tw-rounded-full progress",children:(0,xc.jsx)("div",{className:"inner"})}),i&&(0,xc.jsx)("div",{className:"tw-absolute tw-z-30 tw-h-[100vh] tw-w-[100%] tw-right-0 tw-left-0 tw-top-0 tw-flex tw-flex-row tw-items-start tw-justify-center bg-blur3",children:(0,xc.jsxs)("div",{className:"tw-w-[600px] tw-h-[600px]",children:[(0,xc.jsx)("img",{id:null===i||void 0===i?void 0:i[0]._id,src:null===i||void 0===i?void 0:i[0].image,alt:null===i||void 0===i?void 0:i[0]._id,className:"tw-w-[90%] tw-mt-20 tw-mx-auto tw-h-full tw-object-cover tw-mb-1"}),(0,xc.jsxs)("div",{className:"tw-max-w-[90%] tw-mx-auto",children:[(0,xc.jsx)("p",{className:"tw-text-xs tw-font-200 tw-tracking-tight tw-text-neutral-900 tw-mb-[1px] bg-blur tw-px-2 tw-leading-6 lg:tw-mt-[150px]",children:null===i||void 0===i?void 0:i[0].name}),(0,xc.jsx)("p",{className:"tw-font-medium tw-text-slate-900 tw-text-xs tw-mb-[1px] bg-blur tw-px-2 tw-mt-0",children:null===i||void 0===i?void 0:i[0].description}),(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col",children:[(0,xc.jsx)("p",{className:"tw-font-medium tw-text-white tw-text-xs tw-mt-2 tw-mr-2",children:"Length"}),(0,xc.jsx)("div",{children:x.map((function(e,t){return(0,xc.jsx)("span",{className:"bg-blur tw-text-slate-900 tw-rounded-full tw-mr-2 tw-border-[1px] tw-border-neutral-600 tw-px-2 tw-text-xs",children:e},t)}))})]})]}),(0,xc.jsx)(XU,{onClick:function(){return a(null)},className:"tw-absolute tw-top-[100px] tw-right-10 tw-w-10 tw-h-10 tw-p-3 tw-bg-gray-100 tw-rounded-full hover:tw-cursor-pointer"})]})})]})})]})};var IB=n(5764),AB=n(7441),PB=n(9613),RB=n.n(PB);var OB=function(e){function t(e,r,u,c,f){for(var d,p,v,m,b,x=0,_=0,E=0,C=0,T=0,R=0,j=v=d=0,M=0,L=0,F=0,U=0,B=u.length,V=B-1,z="",q="",K="",H="";M<B;){if(p=u.charCodeAt(M),M===V&&0!==_+C+E+x&&(0!==_&&(p=47===_?10:47),C=E=x=0,B++,V++),0===_+C+E+x){if(M===V&&(0<L&&(z=z.replace(h,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<B;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(j=M+1;j<V;++j)switch(u.charCodeAt(j)){case 47:if(42===p&&42===u.charCodeAt(j-1)&&M+2!==j){M=j+1;break e}break;case 10:if(47===p){M=j+1;break e}}M=j}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<L&&(z=z.replace(h,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=P}if(U=(v=t(r,L,v,p,f+1)).length,0<O&&(b=s(3,v,L=n(P,z,F),r,N,S,U,p,f,c),z=L.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(k,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,f+1);K+=v,v=F=L=j=d=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<L?z.replace(h,""):z).trim()).length))switch(0===j&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<O&&void 0!==(b=s(1,z,r,e,N,S,q.length,c,f,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=z+u.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=L=j=d=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<z.length&&(L=1,z+="\0"),0<O*D&&s(0,z,r,e,N,S,q.length,c,f,c),S=1,N++;break;case 59:case 125:if(0===_+C+E+x){S++;break}default:switch(S++,m=u.charAt(M),p){case 9:case 32:if(0===C+x+_)switch(T){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===C+_+x&&(L=F=1,m="\f"+m);break;case 108:if(0===C+_+x+I&&0<j)switch(M-j){case 2:112===T&&58===u.charCodeAt(M-3)&&(I=T);case 8:111===R&&(I=R)}break;case 58:0===C+_+x&&(j=M);break;case 44:0===_+E+C+x&&(L=1,m+="\r");break;case 34:case 39:0===_&&(C=C===p?0:0===C?p:C);break;case 91:0===C+_+E&&x++;break;case 93:0===C+_+E&&x--;break;case 41:0===C+_+x&&E--;break;case 40:if(0===C+_+x){if(0===d)if(2*T+3*R===533);else d=1;E++}break;case 64:0===_+E+C+x+j+v&&(v=1);break;case 42:case 47:if(!(0<C+x+E))switch(_){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===T&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),m="",_=0)}}0===_&&(z+=m)}R=T,T=p,M++}if(0<(U=q.length)){if(L=r,0<O&&(void 0!==(b=s(2,q,L,e,N,S,U,c,f,c))&&0===(q=b).length))return H+q+K;if(q=L.join(",")+"{"+q+"}",0!==A*I){switch(2!==A||a(q,2)||(I=0),I){case 111:q=q.replace(w,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}I=0}}return H+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===A||2===A&&a(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(T,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(f,":-webkit-")+o.replace(f,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var h,f=0,d=t;f<O;++f)switch(h=R[f].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?A=1:(A=2,j=e):A=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,N,S,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<O&&(void 0!==(i=s(-2,a,r,r,N,S,a.length,0,0,0))&&(a=i)),"",I=0,S=N=1,a}var l=/^\0+/g,h=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,w=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,S=1,N=1,I=0,A=1,P=[],R=[],O=0,j=null,D=0;return c.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"===typeof t)R[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},jB={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var DB=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},MB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,LB=DB((function(e){return MB.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function FB(){return(FB=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var UB=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},BB=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,AB.typeOf)(e)},VB=Object.freeze([]),zB=Object.freeze({});function qB(e){return"function"==typeof e}function KB(e){return e.displayName||e.name||"Component"}function HB(e){return e&&"string"==typeof e.styledComponentId}var WB="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.SC_ATTR)||"data-styled",GB="undefined"!=typeof window&&"HTMLElement"in window,YB=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDVMKJCCIZVTmAGC1M2tPKZYK0bNWh67pQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"hairposey-1e3f6.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://hairposey-1e3f6-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"hairposey-1e3f6",REACT_APP_FIREBASE_STORAGE_BUCKET:"hairposey-1e3f6.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"793265692561",REACT_APP_FIREBASE_APP_ID:"1:793265692561:web:422f7f4a82d3437a398430",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-K261TM9PEZ",REACT_APP_STRIPE_PUBLIC_KEY:"pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X",REACT_APP_STRIPE_PRIVATE_KEY:"sk_test_51KBlf7Azj0rNDOkkvNhy5jZ8GGBFpojigDMKwXOq50FDol6PcKNLurUtazEApnWex6VYEqbFKfSWUfd5Qx2KGroT00r4pctoYw",REACT_APP_BOOKING_PRICE:"50",REACT_APP_INSTALLMENT_START_PRICE:"49900",REACT_APP_FREE_SHIPPING_AMOUNT:"200",REACT_APP_TAX_PERCENT:"0.13"}.SC_DISABLE_SPEEDY));function QB(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var $B=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&QB(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),XB=new Map,JB=new Map,ZB=1,eV=function(e){if(XB.has(e))return XB.get(e);for(;JB.has(ZB);)ZB++;var t=ZB++;return XB.set(e,t),JB.set(t,e),t},tV=function(e){return JB.get(e)},nV=function(e,t){t>=ZB&&(ZB=t+1),XB.set(e,t),JB.set(t,e)},rV="style["+WB+'][data-styled-version="5.3.5"]',iV=new RegExp("^"+WB+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),aV=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},oV=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(iV);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(nV(c,u),aV(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},sV=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},uV=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(WB))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(WB,"active"),r.setAttribute("data-styled-version","5.3.5");var o=sV();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},cV=function(){function e(e){var t=this.element=uV(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}QB(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),lV=function(){function e(e){var t=this.element=uV(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),hV=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),fV=GB,dV={isServer:!GB,useCSSOMInjection:!YB},pV=function(){function e(e,t,n){void 0===e&&(e=zB),void 0===t&&(t={}),this.options=FB({},dV,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&GB&&fV&&(fV=!1,function(e){for(var t=document.querySelectorAll(rV),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(WB)&&(oV(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return eV(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(FB({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new hV(i):r?new cV(i):new lV(i),new $B(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(eV(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(eV(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(eV(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=tV(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=WB+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),vV=/(a)(d)/gi,mV=function(e){return String.fromCharCode(e+(e>25?39:97))};function yV(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=mV(t%52)+n;return(mV(t%52)+n).replace(vV,"$1-$2")}var gV=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wV=function(e){return gV(5381,e)};function bV(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(qB(n)&&!HB(n))return!1}return!0}var kV=wV("5.3.5"),xV=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bV(e),this.componentId=t,this.baseHash=gV(kV,t),this.baseStyle=n,pV.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=BV(this.rules,e,t,n).join(""),o=yV(gV(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=gV(this.baseHash,n.hash),l="",h=0;h<u;h++){var f=this.rules[h];if("string"==typeof f)l+=f;else if(f){var d=BV(f,e,t,n),p=Array.isArray(d)?d.join(""):d;c=gV(c,p+h),l+=p}}if(l){var v=yV(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),_V=/^\s*\/\/.*$/gm,EV=[":","[",".","#"];function CV(e){var t,n,r,i,a=void 0===e?zB:e,o=a.options,s=void 0===o?zB:o,u=a.plugins,c=void 0===u?VB:u,l=new OB(s),h=[],f=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,h){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,a){return 0===r&&-1!==EV.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(_V,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},f,function(e){if(-2===e){var t=h;return h=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||QB(15),gV(e,t.name)}),5381).toString():"",p}var TV=r.createContext(),SV=(TV.Consumer,r.createContext()),NV=(SV.Consumer,new pV),IV=CV();function AV(){return(0,r.useContext)(TV)||NV}function PV(){return(0,r.useContext)(SV)||IV}function RV(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=AV(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return CV({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){RB()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(TV.Provider,{value:o},r.createElement(SV.Provider,{value:s},e.children))}var OV=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=IV);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return QB(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=IV),this.name+e.hash},e}(),jV=/([A-Z])/,DV=/([A-Z])/g,MV=/^ms-/,LV=function(e){return"-"+e.toLowerCase()};function FV(e){return jV.test(e)?e.replace(DV,LV).replace(MV,"-ms-"):e}var UV=function(e){return null==e||!1===e||""===e};function BV(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=BV(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return UV(e)?"":HB(e)?"."+e.styledComponentId:qB(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:BV(e(t),t,n,r):e instanceof OV?n?(e.inject(n,r),e.getName(r)):e:BB(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!UV(t[o])&&(Array.isArray(t[o])&&t[o].isCss||qB(t[o])?a.push(FV(o)+":",t[o],";"):BB(t[o])?a.push.apply(a,e(t[o],o)):a.push(FV(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in jB?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var VV=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function zV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qB(e)||BB(e)?VV(BV(UB(VB,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:VV(BV(UB(e,n)))}new Set;var qV=function(e,t,n){return void 0===n&&(n=zB),e.theme!==n.theme&&e.theme||t||n.theme},KV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HV=/(^-|-$)/g;function WV(e){return e.replace(KV,"-").replace(HV,"")}var GV=function(e){return yV(wV(e)>>>0)};function YV(e){return"string"==typeof e&&!0}var QV=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},$V=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function XV(e,t,n){var r=e[n];QV(t)&&QV(r)?JV(r,t):e[n]=t}function JV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(QV(o))for(var s in o)$V(s)&&XV(e,o[s],s)}return e}var ZV=r.createContext();ZV.Consumer;var ez={};function tz(e,t,n){var i=HB(e),a=!YV(e),o=t.attrs,s=void 0===o?VB:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":WV(e);ez[n]=(ez[n]||0)+1;var r=n+"-"+GV("5.3.5"+n+ez[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,h=void 0===l?function(e){return YV(e)?"styled."+e:"Styled("+KB(e)+")"}(e):l,f=t.displayName&&t.componentId?WV(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new xV(n,f,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,h=e.target,f=function(e,t,n){void 0===e&&(e=zB);var r=FB({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in qB(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(qV(t,(0,r.useContext)(ZV),s)||zB,t,a),d=f[0],p=f[1],v=function(e,t,n,r){var i=AV(),a=PV();return t?e.generateAndInjectStyles(zB,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||h,g=YV(y),w=p!==t?FB({},t,{},p):t,b={};for(var k in w)"$"!==k[0]&&"as"!==k&&("forwardedAs"===k?b.as=w[k]:(c?c(k,LB,y):!g||LB(k))&&(b[k]=w[k]));return t.style&&p.style!==t.style&&(b.style=FB({},t.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=h,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=h,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):VB,v.styledComponentId=f,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(YV(e)?e:WV(KB(e)));return tz(e,FB({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?JV({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&SU()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var nz=function(e){return function e(t,n,r){if(void 0===r&&(r=zB),!(0,AB.isValidElementType)(n))return QB(1,String(n));var i=function(){return t(n,r,zV.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,FB({},r,{},i))},i.attrs=function(i){return e(t,n,FB({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(tz,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){nz[e]=nz(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bV(e),pV.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(BV(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&pV.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=sV();return"<style "+[n&&'nonce="'+n+'"',WB+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?QB(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return QB(2);var n=((t={})[WB]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=sV();return i&&(n.nonce=i),[r.createElement("style",FB({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new pV({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?QB(2):r.createElement(RV,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return QB(3)}}();var rz=nz,iz="https://js.stripe.com/v3",az=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,oz="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",sz=null,uz=function(e){return null!==sz||(sz=new Promise((function(t,n){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(oz),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(iz,'"]')),t=0;t<e.length;t++){var n=e[t];if(az.test(n.src))return n}return null}();r&&e?console.warn(oz):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(iz).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(Dn){return void n(Dn)}else t(null)}))),sz},cz=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.29.0",startTime:t})}(r,n),r},lz=Promise.resolve().then((function(){return uz(null)})),hz=!1;lz.catch((function(e){hz||console.warn(e)}));function fz(e){return e.match(/^\w+([\\.-]?\w+)*@\w+([\\.-]?\w+)*(\.\w{2,3})+$/)?(console.log("Valid email address!"),!0):(console.log("You have entered an invalid email address!"),!1)}var dz,pz,vz,mz=function(e){var t,n,i,a=e.total,o=(e.itemCount,U()),s=(0,IB.useStripe)(),u=(0,IB.useElements)(),l=MU(vU),h=c(r.useState(""),2),f=h[0],d=h[1],p=c(r.useState(!1),2),v=p[0],m=p[1],y=c(r.useState(!1),2),g=y[0],w=y[1],b=c(r.useState(!1),2),k=b[0],x=b[1],_=c(r.useState(!1),2),E=_[0],C=_[1],T=c(r.useState(null),2),S=T[0],N=T[1],I=c(r.useState(""),2),A=I[0],P=I[1],R=c(r.useState(!0),2),O=R[0],j=R[1],D=c(r.useState(""),2),M=D[0],L=D[1],F=c(r.useState(!1),2),B=F[0],V=F[1],z=null===(t=localStorage)||void 0===t||null===(n=t.getItem("country"))||void 0===n||null===(i=n.toLowerCase())||void 0===i?void 0:i.split(" - ")[0],q=("united states of america"===z||"united states"===z?"usa":("united kingdom"===z||"london"===z)&&"uk")||z,K=c(r.useState({street:"",city:"",province:"",postalcode:"",country:localStorage.getItem("country")?q:""}),2),H=K[0],W=K[1],G=c(r.useState({country:"",cost:""}),2),Y=G[0],Q=G[1],$=c(r.useState(!1),2),X=$[0],Z=$[1],te=(0,r.useContext)(DM).user,re=c(r.useState(""),2),ie=re[0],ae=re[1],oe=function(e){var t=e.target.value;"united states of america"!==e.target.value.toLowerCase()&&"united states"!==e.target.value.toLowerCase()&&"america"!==e.target.value.toLowerCase()||(t="usa"),"united kingdom"!==e.target.value.toLowerCase()&&"london"!==e.target.value.toLowerCase()||(t="uk"),W(tc(tc({},H),{},ye({},e.target.name,t))),C(!1)},se=Math.floor(100*Y.cost),ue=a*Number("0.13"),ce=Math.floor(100*ue),le=Math.floor(100*(a+ue)),he=Math.floor(100*a),fe=function(){var e=J(ee().mark((function e(){var t,n,r,i;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne().post("/.netlify/functions/create-payment-intent",JSON.stringify({cartItems:l,shipping_fee:se,totalPrice:he,tax:ce}));case 3:n=e.sent,r=n.data,L(null===(t=r.clientSecret.split("'"))||void 0===t?void 0:t[0]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),N(null!==e.t0&&void 0!==e.t0&&null!==(i=e.t0.response)&&void 0!==i&&i.data?"Please contact modelEst Admin...":"");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();r.useEffect((function(){0!==se&&fe()}),[se]);var de=function(){var e=J(ee().mark((function e(t){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t.empty),N(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(){var e=J(ee().mark((function e(t){var n,r,i,a,c,h,d;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"Payment Plan"===ie&&x(!0),!ie.includes("One-Time")){e.next=12;break}if(P(!0),!M){e.next=10;break}return e.next=7,s.confirmCardPayment(M,{payment_method:{card:u.getElement(IB.CardElement),billing_details:{email:(null===te||void 0===te?void 0:te.email)||f}}});case 7:r=e.sent,localStorage.setItem("payload",null===r||void 0===r||null===(n=r.paymentIntent)||void 0===n?void 0:n.client_secret),r.error?(N("Payment failed ".concat(r.error.message)),P(!1),setTimeout((function(){o("/canceled")}),5e3)):(N(null),P(!1),m(!0),(null===r||void 0===r||null===(i=r.paymentIntent)||void 0===i?void 0:i.client_secret)&&setTimeout((function(){o("/success")}),5e3));case 10:e.next=29;break;case 12:if(!(le>Number("49900"))){e.next=29;break}return P(!0),e.next=16,s.createPaymentMethod({type:"card",card:u.getElement(IB.CardElement),billing_details:{email:(null===te||void 0===te?void 0:te.email)||f}});case 16:if(!(a=e.sent).error){e.next=24;break}console.log(a.error),N("Payment failed ".concat(a.error.message)),P(!1),setTimeout((function(){o("/canceled")}),5e3),e.next=29;break;case 24:return e.next=26,ne().post("/.netlify/functions/create-payment-sub",{payment_method:a.paymentMethod.id,email:(null===te||void 0===te?void 0:te.email)||f,balance:he,shippingFee:se,tax:ce,cartItems:l});case 26:c=e.sent,h=c.data,d=h.client_secret,"requires_action"===h.status?s.confirmCardPayment(d).then((function(e){e.error?(console.log(e.error),N("Payment failed ".concat(e.error.message)),P(!1),setTimeout((function(){o("/canceled")}),5e3)):(N(null),P(!1),m(!0),localStorage.setItem("payload",d),setTimeout((function(){o("/success")}),5e3))})):(N(null),P(!1),m(!0),localStorage.setItem("payload",d),setTimeout((function(){o("/success")}),5e3));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-max-w-[100%] lg:tw-max-w-[70%] tw-mx-auto ",children:[!te&&(0,xc.jsx)("input",{type:"email",onChange:function(e){return d(e.target.value)},placeholder:"Email",value:f,className:X&&!fz(f)?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-bg-transparent"}),(0,xc.jsx)("input",{name:"street",type:"text",value:H.street,onChange:oe,placeholder:"Address",className:X&&!H.street?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-font-light tw-bg-transparent"}),(0,xc.jsx)("input",{name:"city",type:"text",value:H.city,onChange:oe,placeholder:"City",className:X&&!H.city?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-font-light tw-bg-transparent"}),(0,xc.jsx)("input",{name:"province",type:"text",value:H.province,onChange:oe,placeholder:"State / Province",className:X&&!H.province?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-font-light tw-bg-transparent"}),(0,xc.jsx)("input",{name:"postalcode",type:"text",value:H.postalcode,onChange:oe,placeholder:"Postal Code",className:X&&!H.postalcode?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-font-light tw-bg-transparent"}),(0,xc.jsx)("input",{name:"country",type:"text",value:H.country,onChange:oe,placeholder:"Country",className:X&&!H.country?"user-email-input input-error tw-bg-transparent":"user-email-input tw-text-sm tw-font-light tw-bg-transparent"})]}),"com"===f.substr(f.length-3)&&(0,xc.jsx)("div",{className:"email-verify tw-text-center tw-text-xs tw-text-slate-900",children:(0,xc.jsx)("span",{children:"Please verify you have the correct email and address"})}),X&&(0,xc.jsx)("div",{className:"user-email-input-error tw-text-center",children:(0,xc.jsx)("span",{className:"tw-text-xs",children:"Hey! You have missing credentials!"})}),E&&(0,xc.jsxs)("div",{className:"tw-text-red-800 tw-text-xs tw-flex tw-flex-row tw-items-center tw-justify-center tw-mt-5",children:[(0,xc.jsx)(pB,{className:"tw-mr-2"}),(0,xc.jsx)("span",{children:"You are not authorize to make purchase from this region/country"})]}),(0,xc.jsx)("div",{className:"total-button tw-text-sm tw-mx-auto tw-flex tw-flex-row tw-items-center",children:(0,xc.jsx)("button",{disabled:B,onClick:function(){if("usa"===(null===H||void 0===H?void 0:H.country.toLowerCase())||"uk"===(null===H||void 0===H?void 0:H.country.toLowerCase())||"canada"===(null===H||void 0===H?void 0:H.country.toLowerCase())){var e="".concat(H.street,", ").concat(H.city,". ").concat(H.province,". ").concat(H.postalcode,". ").concat(H.country);te&&f&&H.street&&H.city&&H.province&&H.postalcode&&H.country||Z(!0),fz(f)||Z(!0),(te&&null!==H&&void 0!==H&&H.street&&null!==H&&void 0!==H&&H.city&&null!==H&&void 0!==H&&H.province&&null!==H&&void 0!==H&&H.postalcode&&null!==H&&void 0!==H&&H.country||f&&fz(f)&&null!==H&&void 0!==H&&H.street&&null!==H&&void 0!==H&&H.city&&null!==H&&void 0!==H&&H.province&&null!==H&&void 0!==H&&H.postalcode&&null!==H&&void 0!==H&&H.country)&&(localStorage.setItem("address",e),localStorage.setItem("altEmail",f),V(!0),W({street:"",city:"",province:"",postalcode:"",country:""}),Z(!1)),Object.keys(Cc).filter((function(e){return e.toLowerCase()===H.country.toLowerCase()&&Q({country:e,cost:Cc[e]})})),d(""),w(!0)}else C(!0)},className:"tw-text-white hover:tw-text-slate-900 hover:tw-bg-neutral-300 tw-ease-in tw-duration-500 tw-bg-slate-900 tw-px-5 tw-py-2",type:"submit",children:"Proceed to payment"})}),g&&(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-items-center tw-my-10 tw-w-[80%] tw-mx-auto",children:[(0,xc.jsx)("select",{className:"tw-w-[150px] tw-text-neutral-500 tw-font-light tw-bg-neutral-50 tw-block tw-px-3 tw-py-2 tw-border-gray-200 tw-rounded-[4px] tw-text-xs tw-border-[1px] tw-placeholder-gray-200 focus:tw-outline-none focus:tw-border-sky-500 focus:tw-ring-1 focus:tw-ring-sky-500 disabled:tw-bg-gray-50 disabled:tw-text-gray-500 disabled:tw-border-gray-200 disabled:tw-shadow-none invalid:tw-border-pink-500 invalid:tw-text-pink-600 focus:invalid:tw-border-pink-500 focus:invalid:tw-ring-pink-500 tw-outline-0",onChange:function(e){ae(e.target.value)},id:"payPlan",value:ie,name:"payPlan",children:[{id:1,name:"Payment Plan"},{id:2,name:"One-Time"},{id:3,name:"Bi-Weekly"}].map((function(e){return(0,xc.jsx)("option",{children:e.name},e.id)}))}),(0,xc.jsx)("span",{className:"tw-text-sm tw-font-light tw-text-neutral-600 tw-mt-2",children:"Please select payment plan before payment"})]}),""!==ie&&"Payment Plan"!==ie&&(0,xc.jsx)("div",{className:"tw-flex tw-flex-col",children:v?(0,xc.jsxs)("article",{className:"tw-text-center tw-mt-2",children:[(0,xc.jsx)("h4",{children:"Thank you. Your payment was successful!"}),(0,xc.jsxs)("h4",{className:"tw-text-xs tw-text-green-700 tw-mb-2",children:["Redirecting to ",v?"success":"canceled"," page..."]})]}):(0,xc.jsxs)("article",{className:"tw-flex tw-justify-between tw-text-[11px] tw-p-1 tw-mt-1 tw-max-w-[100%] tw-text-neutral-500",children:[(0,xc.jsxs)("span",{className:"tw-underline tw-flex-[0.4]",children:["Hello, ",te&&(null===te||void 0===te?void 0:te.displayName),", your total is $",((le+se)/100).toFixed(2)," - (tax & shipping inclusive)"]}),le<Number("49900")&&(0,xc.jsx)("span",{className:"tw-text-blue-700 tw-flex-[0.4]",children:"You are only elligible for one-time payment"})]})}),(0,xc.jsxs)("form",{className:""!==ie&&"Payment Plan"!==ie?"tw-block tw-ease-in tw-duration-300 tw-w-full tw-pt-2":"tw-hidden tw-ease-in tw-duration-300",id:"payment-form",onSubmit:""===ie||"Payment Plan"===ie?null:pe,children:[(0,xc.jsxs)("div",{className:"tw-flex tw-max-w-[95%] tw-mb-1 tw-items-center tw-mx-auto tw-justify-end tw-mr-4 md:tw-mr-6 lg:tw-mr-5 xl:tw-mr-6",children:[(0,xc.jsx)(vc,{size:20,className:"tw-text-yellow-500 tw-mr-3"}),(0,xc.jsx)(bc,{size:30,className:"tw-mr-3 tw-text-blue-900"}),(0,xc.jsxs)("div",{className:"tw-relative tw-flex tw-items-center tw-mr-5",children:[(0,xc.jsx)(bc,{size:30,className:"tw-text-blue-800"}),(0,xc.jsx)("span",{className:"tw-absolute tw-bottom-[0px] tw-right-[1px] tw-text-[7px] tw-italic",children:"DEBIT"})]}),(0,xc.jsx)(pc,{size:20,className:"tw-text-blue-600 tw-mt-2"})]}),(0,xc.jsx)(IB.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:de,className:"tw-w-[95%] tw-mx-auto tw-border-[1px] tw-border-b-0 tw-p-3 tw-rounded-t-[4px] "}),(0,xc.jsx)("button",{className:"tw-bg-neutral-900 tw-w-[95%] tw-flex tw-mx-auto tw-justify-center tw-py-2 tw-rounded-b-md",disabled:A||O||v||""===ie||"Payment Plan"===ie,id:"submit",children:(0,xc.jsx)("span",{className:A||O||v||""===ie||"Payment Plan"===ie?"tw-text-neutral-50 tw-font-light":"tw-text-orange-500 tw-font-light",children:A?(0,xc.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),k&&(0,xc.jsxs)("span",{className:"tw-text-red-700 tw-text-xs tw-flex tw-items-center tw-justify-center tw-mt-2 tw-capitalize",children:[(0,xc.jsx)(pB,{className:"tw-mr-2"}),"Please set your payment plan"]}),S&&(0,xc.jsxs)("div",{className:"card-error tw-flex tw-items-center tw-justify-center tw-text-xs tw-text-red-700 ",role:"alert",children:[(0,xc.jsx)(pB,{className:"tw-mr-2"}),S]}),(0,xc.jsx)("div",{className:"tw-w-[90%] tw-mx-auto tw-pt-1",children:(0,xc.jsxs)("p",{className:v?"result-message":"result-message hidden",children:["Payment Succeeded,","tisijola7@gmail.com"===(null===te||void 0===te?void 0:te.email)&&(0,xc.jsxs)("span",{children:[" ","see the result in your",(0,xc.jsxs)("a",{className:"tw-text-blue-600",href:"https://dashboard.stripe.com/test/payments",target:"_blank",rel:"noreferrer",children:[" ","Stripe Dashboard"]})]})," ","Refresh the page to pay again"]})})]})]})},yz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];hz=!0;var r=Date.now();return lz.then((function(e){return cz(e,t,r)}))}("pk_test_51KBlf7Azj0rNDOkkheIXZTp8u3pJjI5rRAZ8I5wyTjZAQjjro9mzpLjW4RGRULzcjP1hD3N4c9u8flOsFKpbkcHa00g09Ji19X"),gz=rz.section(dz||(pz=["\n\tform {\n\t\twidth: 30vw;\n\t\talign-self: center;\n\t\tbox-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\n\t\t\t0px 2px 5px 0px rgba(50, 50, 93, 0.1),\n\t\t\t0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\n\t\tborder-radius: 7px;\n\t\tpadding-left: 10px;\n\t\tpadding-right: 10px;\n\t\t/* padding-top: 30px; */\n\t\tpadding-bottom: 30px;\n\t}\n\n\tinput {\n\t\tborder-radius: 6px;\n\t\tmargin-bottom: 6px;\n\t\tpadding: 12px;\n\t\tborder: 1px solid rgba(50, 50, 93, 0.1);\n\t\tmax-height: 44px;\n\t\tfont-size: 16px;\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.result-message {\n\t\tline-height: 22px;\n\t\tfont-size: 16px;\n\t}\n\n\t.result-message a {\n\t\tcolor: rgb(89, 111, 214);\n\t\tfont-weight: 600;\n\t\ttext-decoration: none;\n\t}\n\n\t.hidden {\n\t\tdisplay: none;\n\t}\n\n\t#card-error {\n\t\tcolor: rgb(105, 115, 134);\n\t\tfont-size: 16px;\n\t\tline-height: 20px;\n\t\tmargin-top: 12px;\n\t\ttext-align: center;\n\t}\n\n\t#card-element {\n\t\tborder-radius: 4px 4px 0 0;\n\t\tpadding: 12px;\n\t\tborder: 1px solid rgba(50, 50, 93, 0.1);\n\t\tmax-height: 44px;\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tbox-sizing: border-box;\n\t}\n\n\t#payment-request-button {\n\t\tmargin-bottom: 32px;\n\t}\n\n\tbutton:hover {\n\t\tfilter: contrast(115%);\n\t}\n\n\tbutton:disabled {\n\t\topacity: 0.5;\n\t\tcursor: default;\n\t}\n\n\t/* spinner/processing state, errors */\n\t.spinner,\n\t.spinner:before,\n\t.spinner:after {\n\t\tborder-radius: 50%;\n\t}\n\n\t.spinner {\n\t\tcolor: #ffffff;\n\t\tfont-size: 22px;\n\t\ttext-indent: -99999px;\n\t\tmargin: 0px auto;\n\t\tposition: relative;\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tbox-shadow: inset 0 0 0 2px;\n\t\t-webkit-transform: translateZ(0);\n\t\t-ms-transform: translateZ(0);\n\t\ttransform: translateZ(0);\n\t}\n\n\t.spinner:before,\n\t.spinner:after {\n\t\tposition: absolute;\n\t\tcontent: '';\n\t}\n\n\t.spinner:before {\n\t\twidth: 10.4px;\n\t\theight: 20.4px;\n\t\tbackground: undefined;\n\t\tborder-radius: 20.4px 0 0 20.4px;\n\t\ttop: -0.2px;\n\t\tleft: -0.2px;\n\t\t-webkit-transform-origin: 10.4px 10.2px;\n\t\ttransform-origin: 10.4px 10.2px;\n\t\t-webkit-animation: loading 2s infinite ease 1.5s;\n\t\tanimation: loading 2s infinite ease 1.5s;\n\t}\n\n\t.spinner:after {\n\t\twidth: 10.4px;\n\t\theight: 10.2px;\n\t\tbackground: undefined;\n\t\tborder-radius: 0 10.2px 10.2px 0;\n\t\ttop: -0.1px;\n\t\tleft: 10.2px;\n\t\t-webkit-transform-origin: 0px 10.2px;\n\t\ttransform-origin: 0px 10.2px;\n\t\t-webkit-animation: loading 2s infinite ease;\n\t\tanimation: loading 2s infinite ease;\n\t}\n\n\t@keyframes loading {\n\t\t0% {\n\t\t\t-webkit-transform: rotate(0deg);\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\t-webkit-transform: rotate(360deg);\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n\t@media only screen and (max-width: 600px) {\n\t\tform {\n\t\t\twidth: 80vw;\n\t\t}\n\t}\n"],vz||(vz=pz.slice(0)),dz=Object.freeze(Object.defineProperties(pz,{raw:{value:Object.freeze(vz)}})))),wz=function(e){var t=e.total,n=e.itemCount;return(0,xc.jsx)(gz,{children:(0,xc.jsx)(IB.Elements,{stripe:yz,children:(0,xc.jsx)(mz,{total:t,itemCount:n})})})},bz=function(e){var t=e.itemCount,n=e.total;return(0,xc.jsx)("div",{className:"tw-bg-neutral-300 tw-p-5 tw-rounded-lg",children:(0,xc.jsx)(wz,{total:n,itemCount:t})})},kz=function(){var e=MU(mU),t=MU(yU),n=MU(vU),i=U(),a=c(r.useState(!1),2),o=a[0],s=a[1],u=Ws(),l=RU();r.useEffect((function(){Vs(Ds(u,"sales"),(function(e){var t=e.val();s(t.no)}))}),[]);return r.useEffect((function(){n.length>=3&&window.scrollTo(0,window.innerHeight)}),[]),(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Checkout"})}),(0,xc.jsx)(KU,{children:(0,xc.jsx)("div",{className:o?"tw-pt-[170px] tw-bg-neutral-200 md:tw-pt-[120px] tw-pb-[30px] tw-w-full tw-flex tw-flex-col tw-items-center tw-justify-center ":"tw-bg-neutral-200 tw-pt-[80px] tw-pb-[30px] tw-w-full tw-flex tw-flex-col tw-items-center tw-justify-center ",children:0===n.length?(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)("div",{className:"tw-mb-5",children:"Your Cart is Empty"}),(0,xc.jsx)(rB,{handleFunc:function(){return i("/")},children:"Shop now"})]}):(0,xc.jsxs)("div",{className:"tw-flex tw-flex-col tw-w-full tw-px-5 md:tw-w-[60%] lg:tw-w-[50%] tw-justify-center tw-items-center lg:tw-items-start",children:[(0,xc.jsx)("div",{className:"tw-w-full",children:n.map((function(e){return(0,xc.jsx)(vB,{product:e,isCart:"true"},e.id)}))}),(0,xc.jsx)("div",{className:"tw-w-full tw-mb-1 tw-py-2 tw-rounded-lg tw-flex tw-items-center tw-justify-center",children:(0,xc.jsx)("span",{onClick:function(){return l(pU())},className:"tw-text-white hover:tw-text-slate-900 hover:tw-bg-neutral-300 tw-ease-in tw-duration-500 tw-bg-slate-900 tw-px-5 tw-py-2 hover:tw-cursor-pointer tw-text-sm",children:"Clear cart"})}),(0,xc.jsx)("div",{className:"tw-w-full",children:(0,xc.jsx)(bz,{itemCount:e,total:t})})]})})})]})};var xz=function(){var e=(0,r.useContext)(DM).user;return(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsx)(Zu,{children:(0,xc.jsx)("title",{children:"Account"})}),(0,xc.jsx)(KU,{children:(0,xc.jsx)("div",{className:"tw-py-[100px] tw-px-5 tw-bg-gray-300 tw-flex tw-flex-col tw-items-center",children:(0,xc.jsxs)("div",{className:" tw-w-[80%]",children:[(0,xc.jsxs)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm tw-mb-1",children:[(0,xc.jsxs)("h1",{className:"tw-font-light tw-text-xs",children:["Account Name: ",null===e||void 0===e?void 0:e.displayName]}),(0,xc.jsxs)("h1",{className:"tw-font-light tw-text-xs",children:["Account Email: ",null===e||void 0===e?void 0:e.email]})]}),(0,xc.jsx)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm tw-mb-1",children:(0,xc.jsx)("h1",{className:"tw-font-light tw-text-md",children:"Booking History"})}),(0,xc.jsx)("div",{className:"tw-bg-neutral-50 tw-p-2 tw-rounded-sm",children:(0,xc.jsx)("h1",{className:"tw-font-light tw-text-md",children:"Cart History"})})]})})})]})};var _z=function(){return(0,xc.jsxs)(K,{children:[(0,xc.jsx)(z,{exact:!0,path:"/register",element:(0,xc.jsx)(iB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/login",element:(0,xc.jsx)(aB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/canceled",element:(0,xc.jsx)(uB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/success",element:(0,xc.jsx)(mB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/admin-portal",element:(0,xc.jsx)(xB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/hair-bundles",element:(0,xc.jsx)(EB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/closure-frontal",element:(0,xc.jsx)(TB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/jet-black-&-blonde-hair",element:(0,xc.jsx)(NB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/user-cart/:userId",element:(0,xc.jsx)(kz,{})}),(0,xc.jsx)(z,{exact:!0,path:"/user-account",element:(0,xc.jsx)(xz,{})}),(0,xc.jsx)(z,{exact:!0,path:"*",element:(0,xc.jsx)(oB,{})}),(0,xc.jsx)(z,{exact:!0,path:"/",element:(0,xc.jsx)(nB,{})})]})},Ez=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},Cz=function(e){var t,n=PF(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!IF(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=pF(a)}var p=s;"function"===typeof p&&(p=p(n));var v=mF.apply(void 0,p),m=vF;c&&(m=NF(SF({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=kF([v],d):"function"===typeof d&&(y=d(y)),dF(t,h,m.apply(void 0,y))}({reducer:{app:gU}}),Tz=function(e,t,n){var r=n||!1,i=dF(oU,aU,t&&t.enhancer?t.enhancer:void 0),a=function(e){i.dispatch({type:VF,key:e})},o=function(t,n,a){var o={type:LF,payload:n,err:a,key:t};e.dispatch(o),i.dispatch(o),r&&s.getState().bootstrapped&&(r(),r=!1)},s=rU({},i,{purge:function(){var t=[];return e.dispatch({type:BF,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:MF,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:FF})},persist:function(){e.dispatch({type:UF,register:a,rehydrate:o})}});return t&&t.manualPersist||s.persist(),s}(Cz);function Sz(e){return Sz="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sz(e)}function Nz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Iz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Az(e,t){return!t||"object"!==Sz(t)&&"function"!==typeof t?Rz(e):t}function Pz(e){return Pz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Pz(e)}function Rz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oz(e,t){return Oz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oz(e,t)}function jz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dz=function(e){function t(){var e,n;Nz(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return jz(Rz(n=Az(this,(e=Pz(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),jz(Rz(n),"_unsubscribe",void 0),jz(Rz(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oz(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"===typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&Iz(n.prototype,r),i&&Iz(n,i),t}(r.PureComponent);jz(Dz,"defaultProps",{children:null,loading:null}),i.render((0,xc.jsx)(CU,{store:Cz,children:(0,xc.jsx)(Dz,{persistor:Tz,children:(0,xc.jsx)(Q,{children:(0,xc.jsx)(MM,{children:(0,xc.jsx)(_z,{})})})})}),document.getElementById("root")),Ez()}()}();
//# sourceMappingURL=main.c8e15f93.js.map